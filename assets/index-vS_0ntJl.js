(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function VS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vm={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function PS(){if(zv)return Fl;zv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=t,Fl.jsx=n,Fl.jsxs=n,Fl}var Bv;function LS(){return Bv||(Bv=1,vm.exports=PS()),vm.exports}var nt=LS(),Tm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function US(){if(qv)return Rt;qv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,G={};function P(x,it,ct){this.props=x,this.context=it,this.refs=G,this.updater=ct||k}P.prototype.isReactComponent={},P.prototype.setState=function(x,it){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,it,"setState")},P.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=P.prototype;function O(x,it,ct){this.props=x,this.context=it,this.refs=G,this.updater=ct||k}var Y=O.prototype=new Q;Y.constructor=O,B(Y,P.prototype),Y.isPureReactComponent=!0;var ot=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},yt=Object.prototype.hasOwnProperty;function R(x,it,ct,rt,gt,Ct){return ct=Ct.ref,{$$typeof:i,type:x,key:it,ref:ct!==void 0?ct:null,props:Ct}}function S(x,it){return R(x.type,it,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function N(x){var it={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ct){return it[ct]})}var V=/\/+/g;function L(x,it){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):it.toString(36)}function D(){}function we(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(it){x.status==="pending"&&(x.status="fulfilled",x.value=it)},function(it){x.status==="pending"&&(x.status="rejected",x.reason=it)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ie(x,it,ct,rt,gt){var Ct=typeof x;(Ct==="undefined"||Ct==="boolean")&&(x=null);var At=!1;if(x===null)At=!0;else switch(Ct){case"bigint":case"string":case"number":At=!0;break;case"object":switch(x.$$typeof){case i:case t:At=!0;break;case T:return At=x._init,ie(At(x._payload),it,ct,rt,gt)}}if(At)return gt=gt(x),At=rt===""?"."+L(x,0):rt,ot(gt)?(ct="",At!=null&&(ct=At.replace(V,"$&/")+"/"),ie(gt,it,ct,"",function(ti){return ti})):gt!=null&&(I(gt)&&(gt=S(gt,ct+(gt.key==null||x&&x.key===gt.key?"":(""+gt.key).replace(V,"$&/")+"/")+At)),it.push(gt)),1;At=0;var Oe=rt===""?".":rt+":";if(ot(x))for(var ee=0;ee<x.length;ee++)rt=x[ee],Ct=Oe+L(rt,ee),At+=ie(rt,it,ct,Ct,gt);else if(ee=w(x),typeof ee=="function")for(x=ee.call(x),ee=0;!(rt=x.next()).done;)rt=rt.value,Ct=Oe+L(rt,ee++),At+=ie(rt,it,ct,Ct,gt);else if(Ct==="object"){if(typeof x.then=="function")return ie(we(x),it,ct,rt,gt);throw it=String(x),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return At}function X(x,it,ct){if(x==null)return x;var rt=[],gt=0;return ie(x,rt,"","",function(Ct){return it.call(ct,Ct,gt++)}),rt}function at(x){if(x._status===-1){var it=x._result;it=it(),it.then(function(ct){(x._status===0||x._status===-1)&&(x._status=1,x._result=ct)},function(ct){(x._status===0||x._status===-1)&&(x._status=2,x._result=ct)}),x._status===-1&&(x._status=0,x._result=it)}if(x._status===1)return x._result.default;throw x._result}var dt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function qt(){}return Rt.Children={map:X,forEach:function(x,it,ct){X(x,function(){it.apply(this,arguments)},ct)},count:function(x){var it=0;return X(x,function(){it++}),it},toArray:function(x){return X(x,function(it){return it})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Rt.Component=P,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=O,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return lt.H.useMemoCache(x)}},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cloneElement=function(x,it,ct){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=B({},x.props),gt=x.key,Ct=void 0;if(it!=null)for(At in it.ref!==void 0&&(Ct=void 0),it.key!==void 0&&(gt=""+it.key),it)!yt.call(it,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&it.ref===void 0||(rt[At]=it[At]);var At=arguments.length-2;if(At===1)rt.children=ct;else if(1<At){for(var Oe=Array(At),ee=0;ee<At;ee++)Oe[ee]=arguments[ee+2];rt.children=Oe}return R(x.type,gt,void 0,void 0,Ct,rt)},Rt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Rt.createElement=function(x,it,ct){var rt,gt={},Ct=null;if(it!=null)for(rt in it.key!==void 0&&(Ct=""+it.key),it)yt.call(it,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=it[rt]);var At=arguments.length-2;if(At===1)gt.children=ct;else if(1<At){for(var Oe=Array(At),ee=0;ee<At;ee++)Oe[ee]=arguments[ee+2];gt.children=Oe}if(x&&x.defaultProps)for(rt in At=x.defaultProps,At)gt[rt]===void 0&&(gt[rt]=At[rt]);return R(x,Ct,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:m,render:x}},Rt.isValidElement=I,Rt.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:at}},Rt.memo=function(x,it){return{$$typeof:g,type:x,compare:it===void 0?null:it}},Rt.startTransition=function(x){var it=lt.T,ct={};lt.T=ct;try{var rt=x(),gt=lt.S;gt!==null&&gt(ct,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(qt,dt)}catch(Ct){dt(Ct)}finally{lt.T=it}},Rt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Rt.use=function(x){return lt.H.use(x)},Rt.useActionState=function(x,it,ct){return lt.H.useActionState(x,it,ct)},Rt.useCallback=function(x,it){return lt.H.useCallback(x,it)},Rt.useContext=function(x){return lt.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,it){return lt.H.useDeferredValue(x,it)},Rt.useEffect=function(x,it,ct){var rt=lt.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(x,it)},Rt.useId=function(){return lt.H.useId()},Rt.useImperativeHandle=function(x,it,ct){return lt.H.useImperativeHandle(x,it,ct)},Rt.useInsertionEffect=function(x,it){return lt.H.useInsertionEffect(x,it)},Rt.useLayoutEffect=function(x,it){return lt.H.useLayoutEffect(x,it)},Rt.useMemo=function(x,it){return lt.H.useMemo(x,it)},Rt.useOptimistic=function(x,it){return lt.H.useOptimistic(x,it)},Rt.useReducer=function(x,it,ct){return lt.H.useReducer(x,it,ct)},Rt.useRef=function(x){return lt.H.useRef(x)},Rt.useState=function(x){return lt.H.useState(x)},Rt.useSyncExternalStore=function(x,it,ct){return lt.H.useSyncExternalStore(x,it,ct)},Rt.useTransition=function(){return lt.H.useTransition()},Rt.version="19.1.1",Rt}var jv;function Ap(){return jv||(jv=1,Tm.exports=US()),Tm.exports}var H=Ap();const Qt=VS(H);var Em={exports:{}},Gl={},bm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function zS(){return Hv||(Hv=1,(function(i){function t(X,at){var dt=X.length;X.push(at);t:for(;0<dt;){var qt=dt-1>>>1,x=X[qt];if(0<o(x,at))X[qt]=at,X[dt]=x,dt=qt;else break t}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var at=X[0],dt=X.pop();if(dt!==at){X[0]=dt;t:for(var qt=0,x=X.length,it=x>>>1;qt<it;){var ct=2*(qt+1)-1,rt=X[ct],gt=ct+1,Ct=X[gt];if(0>o(rt,dt))gt<x&&0>o(Ct,rt)?(X[qt]=Ct,X[gt]=dt,qt=gt):(X[qt]=rt,X[ct]=dt,qt=ct);else if(gt<x&&0>o(Ct,dt))X[qt]=Ct,X[gt]=dt,qt=gt;else break t}}return at}function o(X,at){var dt=X.sortIndex-at.sortIndex;return dt!==0?dt:X.id-at.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,A=null,w=3,k=!1,B=!1,G=!1,P=!1,Q=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ot(X){for(var at=n(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=X)s(g),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(g)}}function lt(X){if(G=!1,ot(X),!B)if(n(p)!==null)B=!0,yt||(yt=!0,L());else{var at=n(g);at!==null&&ie(lt,at.startTime-X)}}var yt=!1,R=-1,S=5,I=-1;function N(){return P?!0:!(i.unstable_now()-I<S)}function V(){if(P=!1,yt){var X=i.unstable_now();I=X;var at=!0;try{t:{B=!1,G&&(G=!1,O(R),R=-1),k=!0;var dt=w;try{e:{for(ot(X),A=n(p);A!==null&&!(A.expirationTime>X&&N());){var qt=A.callback;if(typeof qt=="function"){A.callback=null,w=A.priorityLevel;var x=qt(A.expirationTime<=X);if(X=i.unstable_now(),typeof x=="function"){A.callback=x,ot(X),at=!0;break e}A===n(p)&&s(p),ot(X)}else s(p);A=n(p)}if(A!==null)at=!0;else{var it=n(g);it!==null&&ie(lt,it.startTime-X),at=!1}}break t}finally{A=null,w=dt,k=!1}at=void 0}}finally{at?L():yt=!1}}}var L;if(typeof Y=="function")L=function(){Y(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,we=D.port2;D.port1.onmessage=V,L=function(){we.postMessage(null)}}else L=function(){Q(V,0)};function ie(X,at){R=Q(function(){X(i.unstable_now())},at)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var dt=w;w=at;try{return X()}finally{w=dt}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var dt=w;w=X;try{return at()}finally{w=dt}},i.unstable_scheduleCallback=function(X,at,dt){var qt=i.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?qt+dt:qt):dt=qt,X){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=dt+x,X={id:T++,callback:at,priorityLevel:X,startTime:dt,expirationTime:x,sortIndex:-1},dt>qt?(X.sortIndex=dt,t(g,X),n(p)===null&&X===n(g)&&(G?(O(R),R=-1):G=!0,ie(lt,dt-qt))):(X.sortIndex=x,t(p,X),B||k||(B=!0,yt||(yt=!0,L()))),X},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(X){var at=w;return function(){var dt=w;w=at;try{return X.apply(this,arguments)}finally{w=dt}}}})(Am)),Am}var Fv;function BS(){return Fv||(Fv=1,bm.exports=zS()),bm.exports}var Sm={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function qS(){if(Gv)return We;Gv=1;var i=Ap();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,T)},We.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},We.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},We.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},We.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,A=m(T,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:k}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},We.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,A=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},We.requestFormReset=function(p){s.d.r(p)},We.unstable_batchedUpdates=function(p,g){return p(g)},We.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},We.useFormStatus=function(){return f.H.useHostTransitionStatus()},We.version="19.1.1",We}var $v;function jS(){if($v)return Sm.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Sm.exports=qS(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function HS(){if(Kv)return Gl;Kv=1;var i=BS(),t=Ap(),n=jS();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function f(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case P:return"Profiler";case G:return"StrictMode";case lt:return"Suspense";case yt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case ot:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return r=e.displayName||null,r!==null?r:we(e.type)||"Memo";case S:r=e._payload,e=e._init;try{return we(e(r))}catch{}}return null}var ie=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},qt=[],x=-1;function it(e){return{current:e}}function ct(e){0>x||(e.current=qt[x],qt[x]=null,x--)}function rt(e,r){x++,qt[x]=e.current,e.current=r}var gt=it(null),Ct=it(null),At=it(null),Oe=it(null);function ee(e,r){switch(rt(At,r),rt(Ct,e),rt(gt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?dv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=dv(r),e=mv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(gt),rt(gt,e)}function ti(){ct(gt),ct(Ct),ct(At)}function dr(e){e.memoizedState!==null&&rt(Oe,e);var r=gt.current,a=mv(r,e.type);r!==a&&(rt(Ct,e),rt(gt,a))}function Di(e){Ct.current===e&&(ct(gt),ct(Ct)),Oe.current===e&&(ct(Oe),zl._currentValue=dt)}var cs=Object.prototype.hasOwnProperty,hs=i.unstable_scheduleCallback,fs=i.unstable_cancelCallback,Po=i.unstable_shouldYield,Nu=i.unstable_requestPaint,wn=i.unstable_now,vf=i.unstable_getCurrentPriorityLevel,Lo=i.unstable_ImmediatePriority,da=i.unstable_UserBlockingPriority,ds=i.unstable_NormalPriority,Tf=i.unstable_LowPriority,ma=i.unstable_IdlePriority,Uo=i.log,Ou=i.unstable_setDisableYieldValue,he=null,Gt=null;function pn(e){if(typeof Uo=="function"&&Ou(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,e)}catch{}}var Ye=Math.clz32?Math.clz32:ms,Mu=Math.log,Ef=Math.LN2;function ms(e){return e>>>=0,e===0?32:31-(Mu(e)/Ef|0)|0}var ps=256,gs=4194304;function qn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pa(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=qn(l):(v&=E,v!==0?h=qn(v):a||(a=E&~e,a!==0&&(h=qn(a))))):(E=l&~d,E!==0?h=qn(E):v!==0?h=qn(v):a||(a=l&~e,a!==0&&(h=qn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ys(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function zo(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=ps;return ps<<=1,(ps&4194048)===0&&(ps=256),e}function qo(){var e=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),e}function xi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ni(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jo(e,r,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Ye(a),tt=1<<W;E[W]=0,C[W]=-1;var F=j[W];if(F!==null)for(j[W]=null,W=0;W<F.length;W++){var $=F[W];$!==null&&($.lane&=-536870913)}a&=~tt}l!==0&&ei(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function ei(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Ye(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ho(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Ye(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}function mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ga(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pr(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Mv(e.type))}function ku(e,r){var a=at.p;try{return at.p=e,r()}finally{at.p=a}}var se=Math.random().toString(36).slice(2),Re="__reactFiber$"+se,_e="__reactProps$"+se,Rn="__reactContainer$"+se,Fo="__reactEvents$"+se,bf="__reactListeners$"+se,gr="__reactHandles$"+se,Vu="__reactResources$"+se,_s="__reactMarker$"+se;function yr(e){delete e[Re],delete e[_e],delete e[Fo],delete e[bf],delete e[gr]}function Oi(e){var r=e[Re];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Rn]||a[Re]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=_v(e);e!==null;){if(a=e[Re])return a;e=_v(e)}return r}e=a,a=e.parentNode}return null}function ni(e){if(e=e[Re]||e[Rn]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function ii(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function rn(e){var r=e[Vu];return r||(r=e[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function me(e){e[_s]=!0}var Go=new Set,ya={};function jn(e,r){Mi(e,r),Mi(e+"Capture",r)}function Mi(e,r){for(ya[e]=r,e=0;e<r.length;e++)Go.add(r[e])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},vs={};function Uu(e){return cs.call(vs,e)?!0:cs.call(Lu,e)?!1:Pu.test(e)?vs[e]=!0:(Lu[e]=!0,!1)}function _r(e,r,a){if(Uu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function ri(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function qe(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var Ts,zu;function ki(e){if(Ts===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ts=r&&r[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+e+zu}var _a=!1;function va(e,r){if(!e||_a)return"";_a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch($){var F=$}Reflect.construct(e,[],tt)}else{try{tt.call()}catch($){F=$}e.call(tt.prototype)}}else{try{throw Error()}catch($){F=$}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var C=v.split(`
`),j=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var W=`
`+C[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{_a=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ki(a):""}function $o(e){switch(e.tag){case 26:case 27:case 5:return ki(e.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return va(e.type,!1);case 11:return va(e.type.render,!1);case 1:return va(e.type,!0);case 31:return ki("Activity");default:return""}}function Ta(e){try{var r="";do r+=$o(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ko(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Af(e){var r=Ko(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ea(e){e._valueTracker||(e._valueTracker=Af(e))}function Qo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Ko(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sf=/[\n"\\]/g;function ve(e){return e.replace(Sf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gn(e,r,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+sn(r)):e.value!==""+sn(r)&&(e.value=""+sn(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?vr(e,v,sn(r)):a!=null?vr(e,v,sn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+sn(E):e.removeAttribute("name")}function bs(e,r,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,E||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function vr(e,r,a){r==="number"&&Es(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Vi(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Yt(e,r,a){if(r!=null&&(r=""+sn(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+sn(a):""}function As(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function In(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Ss.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Yo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Bu(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Bu(e,d,r[d])}function Xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(e){return Rf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pi=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Li=null,Ui=null;function Wo(e){var r=ni(e);if(r&&(e=r.stateNode)){var a=e[_e]||null;t:switch(e=r.stateNode,r.type){case"input":if(gn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ve(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=l[_e]||null;if(!h)throw Error(s(90));gn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Qo(l)}break t;case"textarea":Yt(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Vi(e,!!a.multiple,r,!1)}}}var si=!1;function qu(e,r,a){if(si)return e(r,a);si=!0;try{var l=e(r);return l}finally{if(si=!1,(Li!==null||Ui!==null)&&(kc(),Li&&(r=Li,e=Ui,Ui=Li=null,Wo(r),e)))for(r=0;r<e.length;r++)Wo(e[r])}}function ws(e,r){var a=e.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Dn=!1}var ai=null,Tr=null,zi=null;function Zo(){if(zi)return zi;var e,r=Tr,a=r.length,l,h="value"in ai?ai.value:ai.textContent,d=h.length;for(e=0;e<a&&r[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return zi=h.slice(e,1<l?1-l:void 0)}function oi(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function Jo(){return!1}function Me(e){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?li:Jo,this.isPropagationStopped=Jo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Me(Ht),Is=T({},Ht,{view:0,detail:0}),ju=Me(Is),Sa,wa,ui,Cs=T({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(Sa=e.screenX-ui.screenX,wa=e.screenY-ui.screenY):wa=Sa=0,ui=e),Sa)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),xn=Me(Cs),Hu=T({},Cs,{dataTransfer:0}),If=Me(Hu),Ds=T({},Is,{relatedTarget:0}),Ra=Me(Ds),tl=T({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=Me(tl),Fu=T({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ca=Me(Fu),Cf=T({},Ht,{data:0}),el=Me(Cf),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=$u[e])?!!r[e]:!1}function Ns(){return nl}var Ku=T({},Is,{key:function(e){if(e.key){var r=xs[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Da=Me(Ku),Qu=T({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Me(Qu),Bi=T({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Yu=Me(Bi),Xu=T({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=Me(Xu),Zu=T({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Me(Zu),an=T({},Ht,{newState:0,oldState:0}),Ju=Me(an),tc=[9,13,27,32],ci=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!ci||c&&8<c&&11>=c),b=" ",z=!1;function K(e,r){switch(e){case"keyup":return tc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Ie(e,r){switch(e){case"compositionend":return st(r);case"keypress":return r.which!==32?null:(z=!0,b);case"textInput":return e=r.data,e===b&&z?null:e;default:return null}}function Lt(e,r){if(Pt)return e==="compositionend"||!ci&&K(e,r)?(e=Zo(),zi=Tr=ai=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!ke[e.type]:r==="textarea"}function qi(e,r,a,l){Li?Ui?Ui.push(l):Ui=[l]:Li=l,r=Bc(r,"onChange"),0<r.length&&(a=new Aa("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var je=null,hi=null;function rl(e){lv(e,0)}function ec(e){var r=ii(e);if(Qo(r))return e}function Dg(e,r){if(e==="change")return r}var xg=!1;if(Hn){var Df;if(Hn){var xf="oninput"in document;if(!xf){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),xf=typeof Ng.oninput=="function"}Df=xf}else Df=!1;xg=Df&&(!document.documentMode||9<document.documentMode)}function Og(){je&&(je.detachEvent("onpropertychange",Mg),hi=je=null)}function Mg(e){if(e.propertyName==="value"&&ec(hi)){var r=[];qi(r,hi,e,Cn(e)),qu(rl,r)}}function hA(e,r,a){e==="focusin"?(Og(),je=r,hi=a,je.attachEvent("onpropertychange",Mg)):e==="focusout"&&Og()}function fA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(hi)}function dA(e,r){if(e==="click")return ec(r)}function mA(e,r){if(e==="input"||e==="change")return ec(r)}function pA(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var yn=typeof Object.is=="function"?Object.is:pA;function sl(e,r){if(yn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!cs.call(r,h)||!yn(e[h],r[h]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,r){var a=kg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Pg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Pg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Es(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Es(e.document)}return r}function Nf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var gA=Hn&&"documentMode"in document&&11>=document.documentMode,Na=null,Of=null,al=null,Mf=!1;function Ug(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||Na==null||Na!==Es(l)||(l=Na,"selectionStart"in l&&Nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Bc(Of,"onSelect"),0<l.length&&(r=new Aa("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Na)))}function Os(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Oa={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},kf={},zg={};Hn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ms(e){if(kf[e])return kf[e];if(!Oa[e])return e;var r=Oa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in zg)return kf[e]=r[a];return e}var Bg=Ms("animationend"),qg=Ms("animationiteration"),jg=Ms("animationstart"),yA=Ms("transitionrun"),_A=Ms("transitionstart"),vA=Ms("transitioncancel"),Hg=Ms("transitionend"),Fg=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Fn(e,r){Fg.set(e,r),jn(r,[e])}var Gg=new WeakMap;function Nn(e,r){if(typeof e=="object"&&e!==null){var a=Gg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Ta(r)},Gg.set(e,r),r)}return{value:e,source:r,stack:Ta(r)}}var On=[],Ma=0,Pf=0;function nc(){for(var e=Ma,r=Pf=Ma=0;r<e;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var h=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&$g(a,h,d)}}function ic(e,r,a,l){On[Ma++]=e,On[Ma++]=r,On[Ma++]=a,On[Ma++]=l,Pf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lf(e,r,a,l){return ic(e,r,a,l),rc(e)}function ka(e,r){return ic(e,null,null,r),rc(e)}function $g(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&r!==null&&(h=31-Ye(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function rc(e){if(50<Nl)throw Nl=0,Hd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Va={};function TA(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,r,a,l){return new TA(e,r,a,l)}function Uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,r){var a=e.alternate;return a===null?(a=_n(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function sc(e,r,a,l,h,d){var v=0;if(l=e,typeof e=="function")Uf(e)&&(v=1);else if(typeof e=="string")v=bS(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=_n(31,a,r,h),e.elementType=I,e.lanes=d,e;case B:return ks(a.children,h,d,r);case G:v=8,h|=24;break;case P:return e=_n(12,a,r,h|2),e.elementType=P,e.lanes=d,e;case lt:return e=_n(13,a,r,h),e.elementType=lt,e.lanes=d,e;case yt:return e=_n(19,a,r,h),e.elementType=yt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:case Y:v=10;break t;case O:v=9;break t;case ot:v=11;break t;case R:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=_n(v,a,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function ks(e,r,a,l){return e=_n(7,e,l,r),e.lanes=a,e}function zf(e,r,a){return e=_n(6,e,null,r),e.lanes=a,e}function Bf(e,r,a){return r=_n(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Pa=[],La=0,ac=null,oc=0,Mn=[],kn=0,Vs=null,Hi=1,Fi="";function Ps(e,r){Pa[La++]=oc,Pa[La++]=ac,ac=e,oc=r}function Qg(e,r,a){Mn[kn++]=Hi,Mn[kn++]=Fi,Mn[kn++]=Vs,Vs=e;var l=Hi;e=Fi;var h=32-Ye(l)-1;l&=~(1<<h),a+=1;var d=32-Ye(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Hi=1<<32-Ye(r)+h|a<<h|l,Fi=d+e}else Hi=1<<d|a<<h|l,Fi=e}function qf(e){e.return!==null&&(Ps(e,1),Qg(e,1,0))}function jf(e){for(;e===ac;)ac=Pa[--La],Pa[La]=null,oc=Pa[--La],Pa[La]=null;for(;e===Vs;)Vs=Mn[--kn],Mn[kn]=null,Fi=Mn[--kn],Mn[kn]=null,Hi=Mn[--kn],Mn[kn]=null}var on=null,fe=null,jt=!1,Ls=null,fi=!1,Hf=Error(s(519));function Us(e){var r=Error(s(418,""));throw ul(Nn(r,e)),Hf}function Yg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Re]=e,r[_e]=l,a){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Nt(Ml[a],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Nt("invalid",r),bs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(r);break;case"select":Nt("invalid",r);break;case"textarea":Nt("invalid",r),As(r,l.value,l.defaultValue,l.children),Ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||fv(r.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",r),Nt("toggle",r)),l.onScroll!=null&&Nt("scroll",r),l.onScrollEnd!=null&&Nt("scrollend",r),l.onClick!=null&&(r.onclick=qc),r=!0):r=!1,r||Us(e)}function Xg(e){for(on=e.return;on;)switch(on.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:on=on.return}}function ol(e){if(e!==on)return!1;if(!jt)return Xg(e),jt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sm(e.type,e.memoizedProps)),a=!a),a&&fe&&Us(e),Xg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){fe=$n(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}fe=null}}else r===27?(r=fe,Pr(e.type)?(e=um,um=null,fe=e):fe=r):fe=on?$n(e.stateNode.nextSibling):null;return!0}function ll(){fe=on=null,jt=!1}function Wg(){var e=Ls;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Ls=null),e}function ul(e){Ls===null?Ls=[e]:Ls.push(e)}var Ff=it(null),zs=null,Gi=null;function Er(e,r,a){rt(Ff,r._currentValue),r._currentValue=a}function $i(e){e._currentValue=Ff.current,ct(Ff)}function Gf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function $f(e,r,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var C=0;C<r.length;C++)if(E.context===r[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Gf(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Gf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function cl(e,r,a,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;yn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(zl):e=[zl])}h=h.return}e!==null&&$f(r,e,a,l),r.flags|=262144}function lc(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){zs=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Zg(zs,e)}function uc(e,r){return zs===null&&Bs(e),Zg(e,r)}function Zg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Gi=Gi.next=r;return a}var EA=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},bA=i.unstable_scheduleCallback,AA=i.unstable_NormalPriority,De={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new EA,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&bA(AA,function(){e.controller.abort()})}var fl=null,Qf=0,Ua=0,za=null;function SA(e,r){if(fl===null){var a=fl=[];Qf=0,Ua=Xd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,r.then(Jg,Jg),r}function Jg(){if(--Qf===0&&fl!==null){za!==null&&(za.status="fulfilled");var e=fl;fl=null,Ua=0,za=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function wA(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ty=X.S;X.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&SA(e,r),ty!==null&&ty(e,r)};var qs=it(null);function Yf(){var e=qs.current;return e!==null?e:ne.pooledCache}function cc(e,r){r===null?rt(qs,qs.current):rt(qs,r.pool)}function ey(){var e=Yf();return e===null?null:{parent:De._currentValue,pool:e}}var dl=Error(s(460)),ny=Error(s(474)),hc=Error(s(542)),Xf={then:function(){}};function iy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fc(){}function ry(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(fc,fc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ay(e),e;default:if(typeof r.status=="string")r.then(fc,fc);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ay(e),e}throw ml=r,dl}}var ml=null;function sy(){if(ml===null)throw Error(s(459));var e=ml;return ml=null,e}function ay(e){if(e===dl||e===hc)throw Error(s(483))}var br=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=rc(e),$g(e,null,a),r}return ic(e,l,r,a),rc(e)}function pl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Ho(e,a)}}function Jf(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var td=!1;function gl(){if(td){var e=za;if(e!==null)throw e}}function yl(e,r,a,l){td=!1;var h=e.updateQueue;br=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,v===null?d=j:v.next=j,v=C;var W=e.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==v&&(E===null?W.firstBaseUpdate=j:E.next=j,W.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;v=0,W=j=C=null,E=d;do{var F=E.lane&-536870913,$=F!==E.lane;if($?(Ut&F)===F:(l&F)===F){F!==0&&F===Ua&&(td=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var bt=e,_t=E;F=r;var Zt=a;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){tt=bt.call(Zt,tt,F);break t}tt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,F=typeof bt=="function"?bt.call(Zt,tt,F):bt,F==null)break t;tt=T({},tt,F);break t;case 2:br=!0}}F=E.callback,F!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[F]:$.push(F))}else $={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(j=W=$,C=tt):W=W.next=$,v|=F;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;$=E,E=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);W===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Or|=v,e.lanes=v,e.memoizedState=tt}}function oy(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function ly(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)oy(a[e],r)}var Ba=it(null),dc=it(0);function uy(e,r){e=Ji,rt(dc,e),rt(Ba,r),Ji=e|r.baseLanes}function ed(){rt(dc,Ji),rt(Ba,Ba.current)}function nd(){Ji=dc.current,ct(Ba),ct(dc)}var wr=0,It=null,Xt=null,Te=null,mc=!1,qa=!1,js=!1,pc=0,_l=0,ja=null,RA=0;function pe(){throw Error(s(321))}function id(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!yn(e[a],r[a]))return!1;return!0}function rd(e,r,a,l,h,d){return wr=d,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=e===null||e.memoizedState===null?$y:Ky,js=!1,d=a(l,h),js=!1,qa&&(d=hy(r,a,l,h)),cy(e),d}function cy(e){X.H=Ec;var r=Xt!==null&&Xt.next!==null;if(wr=0,Te=Xt=It=null,mc=!1,_l=0,ja=null,r)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&lc(e)&&(Ve=!0))}function hy(e,r,a,l){It=e;var h=0;do{if(qa&&(ja=null),_l=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=MA,d=r(a,l)}while(qa);return d}function IA(){var e=X.H,r=e.useState()[0];return r=typeof r.then=="function"?vl(r):r,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(It.flags|=1024),r}function sd(){var e=pc!==0;return pc=0,e}function ad(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function od(e){if(mc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}mc=!1}wr=0,Te=Xt=It=null,qa=!1,_l=pc=0,ja=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?It.memoizedState=Te=e:Te=Te.next=e,Te}function Ee(){if(Xt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var r=Te===null?It.memoizedState:Te.next;if(r!==null)Te=r,Xt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?It.memoizedState=Te=e:Te=Te.next=e}return Te}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var r=_l;return _l+=1,ja===null&&(ja=[]),e=ry(ja,e,r),r=It,(Te===null?r.memoizedState:Te.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?$y:Ky),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===Y)return Xe(e)}throw Error(s(438,String(e)))}function ud(e){var r=null,a=It.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ld(),It.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=N;return r.index++,a}function Ki(e,r){return typeof r=="function"?r(e):r}function yc(e){var r=Ee();return cd(r,Xt,e)}function cd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var E=v=null,C=null,j=r,W=!1;do{var tt=j.lane&-536870913;if(tt!==j.lane?(Ut&tt)===tt:(wr&tt)===tt){var F=j.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),tt===Ua&&(W=!0);else if((wr&F)===F){j=j.next,F===Ua&&(W=!0);continue}else tt={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=tt,v=d):C=C.next=tt,It.lanes|=F,Or|=F;tt=j.action,js&&a(d,tt),d=j.hasEagerState?j.eagerState:a(d,tt)}else F={lane:tt,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=F,v=d):C=C.next=F,It.lanes|=tt,Or|=tt;j=j.next}while(j!==null&&j!==r);if(C===null?v=d:C.next=E,!yn(d,e.memoizedState)&&(Ve=!0,W&&(a=za,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function hd(e){var r=Ee(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);yn(d,r.memoizedState)||(Ve=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function fy(e,r,a){var l=It,h=Ee(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!yn((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Ve=!0),h=h.queue;var E=py.bind(null,l,h,e);if(Tl(2048,8,E,[e]),h.getSnapshot!==r||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Ha(9,_c(),my.bind(null,l,h,a,r),null),ne===null)throw Error(s(349));d||(wr&124)!==0||dy(l,r,a)}return a}function dy(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=It.updateQueue,r===null?(r=ld(),It.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function my(e,r,a,l){r.value=a,r.getSnapshot=l,gy(r)&&yy(e)}function py(e,r,a){return a(function(){gy(r)&&yy(e)})}function gy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!yn(e,a)}catch{return!0}}function yy(e){var r=ka(e,2);r!==null&&An(r,e,2)}function fd(e){var r=un();if(typeof e=="function"){var a=e;if(e=a(),js){pn(!0);try{a()}finally{pn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},r}function _y(e,r,a,l){return e.baseState=a,cd(e,Xt,typeof l=="function"?l:Ki)}function CA(e,r,a,l,h){if(Tc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,vy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function vy(e,r){var a=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=X.T,v={};X.T=v;try{var E=a(h,l),C=X.S;C!==null&&C(v,E),Ty(e,r,E)}catch(j){dd(e,r,j)}finally{X.T=d}}else try{d=a(h,l),Ty(e,r,d)}catch(j){dd(e,r,j)}}function Ty(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ey(e,r,l)},function(l){return dd(e,r,l)}):Ey(e,r,a)}function Ey(e,r,a){r.status="fulfilled",r.value=a,by(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,vy(e,a)))}function dd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,by(r),r=r.next;while(r!==l)}e.action=null}function by(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Ay(e,r){return r}function Sy(e,r){if(jt){var a=ne.formState;if(a!==null){t:{var l=It;if(jt){if(fe){e:{for(var h=fe,d=fi;h.nodeType!==8;){if(!d){h=null;break e}if(h=$n(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){fe=$n(h.nextSibling),l=h.data==="F!";break t}}Us(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:r},a.queue=l,a=Hy.bind(null,It,l),l.dispatch=a,l=fd(!1),d=_d.bind(null,It,!1,l.queue),l=un(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,a=CA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[r,a,!1]}function wy(e){var r=Ee();return Ry(r,Xt,e)}function Ry(e,r,a){if(r=cd(e,r,Ay)[0],e=yc(Ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=vl(r)}catch(v){throw v===dl?hc:v}else l=r;r=Ee();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(It.flags|=2048,Ha(9,_c(),DA.bind(null,h,a),null)),[l,d,e]}function DA(e,r){e.action=r}function Iy(e){var r=Ee(),a=Xt;if(a!==null)return Ry(r,a,e);Ee(),r=r.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ha(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=ld(),It.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function _c(){return{destroy:void 0,resource:void 0}}function Cy(){return Ee().memoizedState}function vc(e,r,a,l){var h=un();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Ha(1|r,_c(),a,l)}function Tl(e,r,a,l){var h=Ee();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&id(l,Xt.memoizedState.deps)?h.memoizedState=Ha(r,d,a,l):(It.flags|=e,h.memoizedState=Ha(1|r,d,a,l))}function Dy(e,r){vc(8390656,8,e,r)}function xy(e,r){Tl(2048,8,e,r)}function Ny(e,r){return Tl(4,2,e,r)}function Oy(e,r){return Tl(4,4,e,r)}function My(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ky(e,r,a){a=a!=null?a.concat([e]):null,Tl(4,4,My.bind(null,r,e),a)}function md(){}function Vy(e,r){var a=Ee();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&id(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Py(e,r){var a=Ee();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&id(r,l[1]))return l[0];if(l=e(),js){pn(!0);try{e()}finally{pn(!1)}}return a.memoizedState=[l,r],l}function pd(e,r,a){return a===void 0||(wr&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=z_(),It.lanes|=e,Or|=e,a)}function Ly(e,r,a,l){return yn(a,r)?a:Ba.current!==null?(e=pd(e,a,l),yn(e,r)||(Ve=!0),e):(wr&42)===0?(Ve=!0,e.memoizedState=a):(e=z_(),It.lanes|=e,Or|=e,r)}function Uy(e,r,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=X.T,E={};X.T=E,_d(e,!1,r,a);try{var C=h(),j=X.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=wA(C,l);El(e,r,W,bn(e))}else El(e,r,l,bn(e))}catch(tt){El(e,r,{then:function(){},status:"rejected",reason:tt},bn())}finally{at.p=d,X.T=v}}function xA(){}function gd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var h=zy(e).queue;Uy(e,h,r,dt,a===null?xA:function(){return By(e),a(l)})}function zy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function By(e){var r=zy(e).next.queue;El(e,r,{},bn())}function yd(){return Xe(zl)}function qy(){return Ee().memoizedState}function jy(){return Ee().memoizedState}function NA(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();e=Ar(a);var l=Sr(r,e,a);l!==null&&(An(l,r,a),pl(l,r,a)),r={cache:Kf()},e.payload=r;return}r=r.return}}function OA(e,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(e)?Fy(r,a):(a=Lf(e,r,a,l),a!==null&&(An(a,e,l),Gy(a,r,l)))}function Hy(e,r,a){var l=bn();El(e,r,a,l)}function El(e,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(e))Fy(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,v))return ic(e,r,h,0),ne===null&&nc(),!1}catch{}finally{}if(a=Lf(e,r,h,l),a!==null)return An(a,e,l),Gy(a,r,l),!0}return!1}function _d(e,r,a,l){if(l={lane:2,revertLane:Xd(),action:l,hasEagerState:!1,eagerState:null,next:null},Tc(e)){if(r)throw Error(s(479))}else r=Lf(e,a,l,2),r!==null&&An(r,e,2)}function Tc(e){var r=e.alternate;return e===It||r!==null&&r===It}function Fy(e,r){qa=mc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Gy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Ho(e,a)}}var Ec={readContext:Xe,use:gc,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},$y={readContext:Xe,use:gc,useCallback:function(e,r){return un().memoizedState=[e,r===void 0?null:r],e},useContext:Xe,useEffect:Dy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,vc(4194308,4,My.bind(null,r,e),a)},useLayoutEffect:function(e,r){return vc(4194308,4,e,r)},useInsertionEffect:function(e,r){vc(4,2,e,r)},useMemo:function(e,r){var a=un();r=r===void 0?null:r;var l=e();if(js){pn(!0);try{e()}finally{pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=un();if(a!==void 0){var h=a(r);if(js){pn(!0);try{a(r)}finally{pn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=OA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var r=un();return e={current:e},r.memoizedState=e},useState:function(e){e=fd(e);var r=e.queue,a=Hy.bind(null,It,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:md,useDeferredValue:function(e,r){var a=un();return pd(a,e,r)},useTransition:function(){var e=fd(!1);return e=Uy.bind(null,It,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=It,h=un();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ne===null)throw Error(s(349));(Ut&124)!==0||dy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Dy(py.bind(null,l,d,e),[e]),l.flags|=2048,Ha(9,_c(),my.bind(null,l,d,a,r),null),a},useId:function(){var e=un(),r=ne.identifierPrefix;if(jt){var a=Fi,l=Hi;a=(l&~(1<<32-Ye(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=pc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=RA++,r="«"+r+"r"+a.toString(32)+"»";return e.memoizedState=r},useHostTransitionStatus:yd,useFormState:Sy,useActionState:Sy,useOptimistic:function(e){var r=un();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=_d.bind(null,It,!0,a),a.dispatch=r,[e,r]},useMemoCache:ud,useCacheRefresh:function(){return un().memoizedState=NA.bind(null,It)}},Ky={readContext:Xe,use:gc,useCallback:Vy,useContext:Xe,useEffect:xy,useImperativeHandle:ky,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Py,useReducer:yc,useRef:Cy,useState:function(){return yc(Ki)},useDebugValue:md,useDeferredValue:function(e,r){var a=Ee();return Ly(a,Xt.memoizedState,e,r)},useTransition:function(){var e=yc(Ki)[0],r=Ee().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:fy,useId:qy,useHostTransitionStatus:yd,useFormState:wy,useActionState:wy,useOptimistic:function(e,r){var a=Ee();return _y(a,Xt,e,r)},useMemoCache:ud,useCacheRefresh:jy},MA={readContext:Xe,use:gc,useCallback:Vy,useContext:Xe,useEffect:xy,useImperativeHandle:ky,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Py,useReducer:hd,useRef:Cy,useState:function(){return hd(Ki)},useDebugValue:md,useDeferredValue:function(e,r){var a=Ee();return Xt===null?pd(a,e,r):Ly(a,Xt.memoizedState,e,r)},useTransition:function(){var e=hd(Ki)[0],r=Ee().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:fy,useId:qy,useHostTransitionStatus:yd,useFormState:Iy,useActionState:Iy,useOptimistic:function(e,r){var a=Ee();return Xt!==null?_y(a,Xt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ud,useCacheRefresh:jy},Fa=null,bl=0;function bc(e){var r=bl;return bl+=1,Fa===null&&(Fa=[]),ry(Fa,e,r)}function Al(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Ac(e,r){throw r.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Qy(e){var r=e._init;return r(e._payload)}function Yy(e){function r(U,M){if(e){var q=U.deletions;q===null?(U.deletions=[M],U.flags|=16):q.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=ji(U,M),U.index=0,U.sibling=null,U}function d(U,M,q){return U.index=q,e?(q=U.alternate,q!==null?(q=q.index,q<M?(U.flags|=67108866,M):q):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,q,J){return M===null||M.tag!==6?(M=zf(q,U.mode,J),M.return=U,M):(M=h(M,q),M.return=U,M)}function C(U,M,q,J){var ft=q.type;return ft===B?W(U,M,q.props.children,J,q.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Qy(ft)===M.type)?(M=h(M,q.props),Al(M,q),M.return=U,M):(M=sc(q.type,q.key,q.props,null,U.mode,J),Al(M,q),M.return=U,M)}function j(U,M,q,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Bf(q,U.mode,J),M.return=U,M):(M=h(M,q.children||[]),M.return=U,M)}function W(U,M,q,J,ft){return M===null||M.tag!==7?(M=ks(q,U.mode,J,ft),M.return=U,M):(M=h(M,q),M.return=U,M)}function tt(U,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=zf(""+M,U.mode,q),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return q=sc(M.type,M.key,M.props,null,U.mode,q),Al(q,M),q.return=U,q;case k:return M=Bf(M,U.mode,q),M.return=U,M;case S:var J=M._init;return M=J(M._payload),tt(U,M,q)}if(ie(M)||L(M))return M=ks(M,U.mode,q,null),M.return=U,M;if(typeof M.then=="function")return tt(U,bc(M),q);if(M.$$typeof===Y)return tt(U,uc(U,M),q);Ac(U,M)}return null}function F(U,M,q,J){var ft=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ft!==null?null:E(U,M,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===ft?C(U,M,q,J):null;case k:return q.key===ft?j(U,M,q,J):null;case S:return ft=q._init,q=ft(q._payload),F(U,M,q,J)}if(ie(q)||L(q))return ft!==null?null:W(U,M,q,J,null);if(typeof q.then=="function")return F(U,M,bc(q),J);if(q.$$typeof===Y)return F(U,M,uc(U,q),J);Ac(U,q)}return null}function $(U,M,q,J,ft){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,E(M,U,""+J,ft);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return U=U.get(J.key===null?q:J.key)||null,C(M,U,J,ft);case k:return U=U.get(J.key===null?q:J.key)||null,j(M,U,J,ft);case S:var Dt=J._init;return J=Dt(J._payload),$(U,M,q,J,ft)}if(ie(J)||L(J))return U=U.get(q)||null,W(M,U,J,ft,null);if(typeof J.then=="function")return $(U,M,q,bc(J),ft);if(J.$$typeof===Y)return $(U,M,q,uc(M,J),ft);Ac(M,J)}return null}function bt(U,M,q,J){for(var ft=null,Dt=null,mt=M,vt=M=0,Le=null;mt!==null&&vt<q.length;vt++){mt.index>vt?(Le=mt,mt=null):Le=mt.sibling;var Bt=F(U,mt,q[vt],J);if(Bt===null){mt===null&&(mt=Le);break}e&&mt&&Bt.alternate===null&&r(U,mt),M=d(Bt,M,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt,mt=Le}if(vt===q.length)return a(U,mt),jt&&Ps(U,vt),ft;if(mt===null){for(;vt<q.length;vt++)mt=tt(U,q[vt],J),mt!==null&&(M=d(mt,M,vt),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return jt&&Ps(U,vt),ft}for(mt=l(mt);vt<q.length;vt++)Le=$(mt,U,vt,q[vt],J),Le!==null&&(e&&Le.alternate!==null&&mt.delete(Le.key===null?vt:Le.key),M=d(Le,M,vt),Dt===null?ft=Le:Dt.sibling=Le,Dt=Le);return e&&mt.forEach(function(qr){return r(U,qr)}),jt&&Ps(U,vt),ft}function _t(U,M,q,J){if(q==null)throw Error(s(151));for(var ft=null,Dt=null,mt=M,vt=M=0,Le=null,Bt=q.next();mt!==null&&!Bt.done;vt++,Bt=q.next()){mt.index>vt?(Le=mt,mt=null):Le=mt.sibling;var qr=F(U,mt,Bt.value,J);if(qr===null){mt===null&&(mt=Le);break}e&&mt&&qr.alternate===null&&r(U,mt),M=d(qr,M,vt),Dt===null?ft=qr:Dt.sibling=qr,Dt=qr,mt=Le}if(Bt.done)return a(U,mt),jt&&Ps(U,vt),ft;if(mt===null){for(;!Bt.done;vt++,Bt=q.next())Bt=tt(U,Bt.value,J),Bt!==null&&(M=d(Bt,M,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return jt&&Ps(U,vt),ft}for(mt=l(mt);!Bt.done;vt++,Bt=q.next())Bt=$(mt,U,vt,Bt.value,J),Bt!==null&&(e&&Bt.alternate!==null&&mt.delete(Bt.key===null?vt:Bt.key),M=d(Bt,M,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return e&&mt.forEach(function(kS){return r(U,kS)}),jt&&Ps(U,vt),ft}function Zt(U,M,q,J){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:t:{for(var ft=q.key;M!==null;){if(M.key===ft){if(ft=q.type,ft===B){if(M.tag===7){a(U,M.sibling),J=h(M,q.props.children),J.return=U,U=J;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Qy(ft)===M.type){a(U,M.sibling),J=h(M,q.props),Al(J,q),J.return=U,U=J;break t}a(U,M);break}else r(U,M);M=M.sibling}q.type===B?(J=ks(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=sc(q.type,q.key,q.props,null,U.mode,J),Al(J,q),J.return=U,U=J)}return v(U);case k:t:{for(ft=q.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(U,M.sibling),J=h(M,q.children||[]),J.return=U,U=J;break t}else{a(U,M);break}else r(U,M);M=M.sibling}J=Bf(q,U.mode,J),J.return=U,U=J}return v(U);case S:return ft=q._init,q=ft(q._payload),Zt(U,M,q,J)}if(ie(q))return bt(U,M,q,J);if(L(q)){if(ft=L(q),typeof ft!="function")throw Error(s(150));return q=ft.call(q),_t(U,M,q,J)}if(typeof q.then=="function")return Zt(U,M,bc(q),J);if(q.$$typeof===Y)return Zt(U,M,uc(U,q),J);Ac(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(U,M.sibling),J=h(M,q),J.return=U,U=J):(a(U,M),J=zf(q,U.mode,J),J.return=U,U=J),v(U)):a(U,M)}return function(U,M,q,J){try{bl=0;var ft=Zt(U,M,q,J);return Fa=null,ft}catch(mt){if(mt===dl||mt===hc)throw mt;var Dt=_n(29,mt,null,U.mode);return Dt.lanes=J,Dt.return=U,Dt}finally{}}}var Ga=Yy(!0),Xy=Yy(!1),Vn=it(null),di=null;function Rr(e){var r=e.alternate;rt(xe,xe.current&1),rt(Vn,e),di===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(di=e)}function Wy(e){if(e.tag===22){if(rt(xe,xe.current),rt(Vn,e),di===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(di=e)}}else Ir()}function Ir(){rt(xe,xe.current),rt(Vn,Vn.current)}function Qi(e){ct(Vn),di===e&&(di=null),ct(xe)}var xe=it(0);function Sc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function vd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Td={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=bn(),h=Ar(l);h.payload=r,a!=null&&(h.callback=a),r=Sr(e,h,l),r!==null&&(An(r,e,l),pl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=bn(),h=Ar(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Sr(e,h,l),r!==null&&(An(r,e,l),pl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=bn(),l=Ar(a);l.tag=2,r!=null&&(l.callback=r),r=Sr(e,l,a),r!==null&&(An(r,e,a),pl(r,e,a))}};function Zy(e,r,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Jy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Td.enqueueReplaceState(r,r.state,null)}function Hs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var wc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function t_(e){wc(e)}function e_(e){console.error(e)}function n_(e){wc(e)}function Rc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function i_(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(e,r,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(e,r)},a}function r_(e){return e=Ar(e),e.tag=3,e}function s_(e,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){i_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){i_(r,a,l),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function kA(e,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&cl(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return di===null?Gd():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Kd(e,l,h)),!1;case 22:return a.flags|=65536,l===Xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Kd(e,l,h)),!1}throw Error(s(435,a.tag))}return Kd(e,l,h),Gd(),!1}if(jt)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Hf&&(e=Error(s(422),{cause:l}),ul(Nn(e,a)))):(l!==Hf&&(r=Error(s(423),{cause:l}),ul(Nn(r,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=Ed(e.stateNode,l,h),Jf(e,h),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),xl===null?xl=[d]:xl.push(d),de!==4&&(de=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Ed(a.stateNode,l,e),Jf(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mr===null||!Mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=r_(h),s_(h,e,a,l),Jf(a,h),!1}a=a.return}while(a!==null);return!1}var a_=Error(s(461)),Ve=!1;function He(e,r,a,l){r.child=e===null?Xy(r,null,a,l):Ga(r,e.child,a,l)}function o_(e,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Bs(r),l=rd(e,r,a,v,d,h),E=sd(),e!==null&&!Ve?(ad(e,r,h),Yi(e,r,h)):(jt&&E&&qf(r),r.flags|=1,He(e,r,l,h),r.child)}function l_(e,r,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,u_(e,r,d,l,h)):(e=sc(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Dd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(v,l)&&e.ref===r.ref)return Yi(e,r,h)}return r.flags|=1,e=ji(d,l),e.ref=r.ref,e.return=r,r.child=e}function u_(e,r,a,l,h){if(e!==null){var d=e.memoizedProps;if(sl(d,l)&&e.ref===r.ref)if(Ve=!1,r.pendingProps=l=d,Dd(e,h))(e.flags&131072)!==0&&(Ve=!0);else return r.lanes=e.lanes,Yi(e,r,h)}return bd(e,r,a,l,h)}function c_(e,r,a){var l=r.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=r.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return h_(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&cc(r,d!==null?d.cachePool:null),d!==null?uy(r,d):ed(),Wy(r);else return r.lanes=r.childLanes=536870912,h_(e,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(cc(r,d.cachePool),uy(r,d),Ir(),r.memoizedState=null):(e!==null&&cc(r,null),ed(),Ir());return He(e,r,h,a),r.child}function h_(e,r,a,l){var h=Yf();return h=h===null?null:{parent:De._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},e!==null&&cc(r,null),ed(),Wy(r),e!==null&&cl(e,r,l,!0),null}function Ic(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function bd(e,r,a,l,h){return Bs(r),a=rd(e,r,a,l,void 0,h),l=sd(),e!==null&&!Ve?(ad(e,r,h),Yi(e,r,h)):(jt&&l&&qf(r),r.flags|=1,He(e,r,a,h),r.child)}function f_(e,r,a,l,h,d){return Bs(r),r.updateQueue=null,a=hy(r,l,a,h),cy(e),l=sd(),e!==null&&!Ve?(ad(e,r,d),Yi(e,r,d)):(jt&&l&&qf(r),r.flags|=1,He(e,r,a,d),r.child)}function d_(e,r,a,l,h){if(Bs(r),r.stateNode===null){var d=Va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xe(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Wf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xe(v):Va,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Td.enqueueReplaceState(d,d.state,null),yl(r,l,d,h),gl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var E=r.memoizedProps,C=Hs(a,E);d.props=C;var j=d.context,W=a.contextType;v=Va,typeof W=="object"&&W!==null&&(v=Xe(W));var tt=a.getDerivedStateFromProps;W=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&Jy(r,d,l,v),br=!1;var F=r.memoizedState;d.state=F,yl(r,l,d,h),gl(),j=r.memoizedState,E||F!==j||br?(typeof tt=="function"&&(vd(r,a,tt,l),j=r.memoizedState),(C=br||Zy(r,a,C,l,F,j,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Zf(e,r),v=r.memoizedProps,W=Hs(a,v),d.props=W,tt=r.pendingProps,F=d.context,j=a.contextType,C=Va,typeof j=="object"&&j!==null&&(C=Xe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==tt||F!==C)&&Jy(r,d,l,C),br=!1,F=r.memoizedState,d.state=F,yl(r,l,d,h),gl();var $=r.memoizedState;v!==tt||F!==$||br||e!==null&&e.dependencies!==null&&lc(e.dependencies)?(typeof E=="function"&&(vd(r,a,E,l),$=r.memoizedState),(W=br||Zy(r,a,W,l,F,$,C)||e!==null&&e.dependencies!==null&&lc(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ic(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Ga(r,e.child,null,h),r.child=Ga(r,null,a,h)):He(e,r,a,h),r.memoizedState=d.state,e=r.child):e=Yi(e,r,h),e}function m_(e,r,a,l){return ll(),r.flags|=256,He(e,r,a,l),r.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(e){return{baseLanes:e,cachePool:ey()}}function wd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Pn),e}function p_(e,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(jt){if(h?Rr(r):Ir(),jt){var E=fe,C;if(C=E){t:{for(C=E,E=fi;C.nodeType!==8;){if(!E){E=null;break t}if(C=$n(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(r.memoizedState={dehydrated:E,treeContext:Vs!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},C=_n(18,null,null,0),C.stateNode=E,C.return=r,r.child=C,on=r,fe=null,C=!0):C=!1}C||Us(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lm(E)?r.lanes=32:r.lanes=536870912,null;Qi(r)}return E=l.children,l=l.fallback,h?(Ir(),h=r.mode,E=Cc({mode:"hidden",children:E},h),l=ks(l,h,a,null),E.return=r,l.return=r,E.sibling=l,r.child=E,h=r.child,h.memoizedState=Sd(a),h.childLanes=wd(e,v,a),r.memoizedState=Ad,l):(Rr(r),Rd(r,E))}if(C=e.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(d)r.flags&256?(Rr(r),r.flags&=-257,r=Id(e,r,a)):r.memoizedState!==null?(Ir(),r.child=e.child,r.flags|=128,r=null):(Ir(),h=l.fallback,E=r.mode,l=Cc({mode:"visible",children:l.children},E),h=ks(h,E,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ga(r,e.child,null,a),l=r.child,l.memoizedState=Sd(a),l.childLanes=wd(e,v,a),r.memoizedState=Ad,r=h);else if(Rr(r),lm(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),r=Id(e,r,a)}else if(Ve||cl(e,r,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=ne,v!==null&&(l=a&-a,l=(l&42)!==0?1:mr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ka(e,l),An(v,e,l),a_;E.data==="$?"||Gd(),r=Id(e,r,a)}else E.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=C.treeContext,fe=$n(E.nextSibling),on=r,jt=!0,Ls=null,fi=!1,e!==null&&(Mn[kn++]=Hi,Mn[kn++]=Fi,Mn[kn++]=Vs,Hi=e.id,Fi=e.overflow,Vs=r),r=Rd(r,l.children),r.flags|=4096);return r}return h?(Ir(),h=l.fallback,E=r.mode,C=e.child,j=C.sibling,l=ji(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=ji(j,h):(h=ks(h,E,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,E=e.child.memoizedState,E===null?E=Sd(a):(C=E.cachePool,C!==null?(j=De._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=ey(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=wd(e,v,a),r.memoizedState=Ad,l):(Rr(r),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function Rd(e,r){return r=Cc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Cc(e,r){return e=_n(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Id(e,r,a){return Ga(r,e.child,null,a),e=Rd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function g_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Gf(e.return,r,a)}function Cd(e,r,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function y_(e,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(He(e,r,l.children,a),l=xe.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g_(e,a,r);else if(e.tag===19)g_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(rt(xe,l),h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&Sc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Cd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Sc(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Cd(r,!0,a,null,d);break;case"together":Cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yi(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Or|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(cl(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=ji(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Dd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&lc(e)))}function VA(e,r,a){switch(r.tag){case 3:ee(r,r.stateNode.containerInfo),Er(r,De,e.memoizedState.cache),ll();break;case 27:case 5:dr(r);break;case 4:ee(r,r.stateNode.containerInfo);break;case 10:Er(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?p_(e,r,a):(Rr(r),e=Yi(e,r,a),e!==null?e.sibling:null);Rr(r);break;case 19:var h=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(cl(e,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return y_(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(xe,xe.current),l)break;return null;case 22:case 23:return r.lanes=0,c_(e,r,a);case 24:Er(r,De,e.memoizedState.cache)}return Yi(e,r,a)}function __(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ve=!0;else{if(!Dd(e,a)&&(r.flags&128)===0)return Ve=!1,VA(e,r,a);Ve=(e.flags&131072)!==0}else Ve=!1,jt&&(r.flags&1048576)!==0&&Qg(r,oc,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Uf(l)?(e=Hs(l,e),r.tag=1,r=d_(null,r,l,e,a)):(r.tag=0,r=bd(null,r,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ot){r.tag=11,r=o_(null,r,l,e,a);break t}else if(h===R){r.tag=14,r=l_(null,r,l,e,a);break t}}throw r=we(l)||l,Error(s(306,r,""))}}return r;case 0:return bd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Hs(l,r.pendingProps),d_(e,r,l,h,a);case 3:t:{if(ee(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Zf(e,r),yl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Er(r,De,l),l!==d.cache&&$f(r,[De],a,!0),gl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=m_(e,r,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),r),ul(h),r=m_(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=$n(e.firstChild),on=r,jt=!0,Ls=null,fi=!0,a=Xy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){r=Yi(e,r,a);break t}He(e,r,l,a)}r=r.child}return r;case 26:return Ic(e,r),e===null?(a=bv(r.type,null,r.pendingProps,null))?r.memoizedState=a:jt||(a=r.type,e=r.pendingProps,l=jc(At.current).createElement(a),l[Re]=r,l[_e]=e,Ge(l,a,e),me(l),r.stateNode=l):r.memoizedState=bv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return dr(r),e===null&&jt&&(l=r.stateNode=vv(r.type,r.pendingProps,At.current),on=r,fi=!0,h=fe,Pr(r.type)?(um=h,fe=$n(l.firstChild)):fe=h),He(e,r,r.pendingProps.children,a),Ic(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&jt&&((h=l=fe)&&(l=uS(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,on=r,fe=$n(l.firstChild),fi=!1,h=!0):h=!1),h||Us(r)),dr(r),h=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,sm(h,d)?l=null:v!==null&&sm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=rd(e,r,IA,null,null,a),zl._currentValue=h),Ic(e,r),He(e,r,l,a),r.child;case 6:return e===null&&jt&&((e=a=fe)&&(a=cS(a,r.pendingProps,fi),a!==null?(r.stateNode=a,on=r,fe=null,e=!0):e=!1),e||Us(r)),null;case 13:return p_(e,r,a);case 4:return ee(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ga(r,null,l,a):He(e,r,l,a),r.child;case 11:return o_(e,r,r.type,r.pendingProps,a);case 7:return He(e,r,r.pendingProps,a),r.child;case 8:return He(e,r,r.pendingProps.children,a),r.child;case 12:return He(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Er(r,r.type,l.value),He(e,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Bs(r),h=Xe(h),l=l(h),r.flags|=1,He(e,r,l,a),r.child;case 14:return l_(e,r,r.type,r.pendingProps,a);case 15:return u_(e,r,r.type,r.pendingProps,a);case 19:return y_(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=Cc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ji(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return c_(e,r,a);case 24:return Bs(r),l=Xe(De),e===null?(h=Yf(),h===null&&(h=ne,d=Kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Wf(r),Er(r,De,h)):((e.lanes&a)!==0&&(Zf(e,r),yl(r,null,null,a),gl()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Er(r,De,l)):(l=d.cache,Er(r,De,l),l!==h.cache&&$f(r,[De],a,!0))),He(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xi(e){e.flags|=4}function v_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Iv(r)){if(r=Vn.current,r!==null&&((Ut&4194048)===Ut?di!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||r!==di))throw ml=Xf,ny;e.flags|=8192}}function Dc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?qo():536870912,e.lanes|=r,Ya|=r)}function Sl(e,r){if(!jt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function PA(e,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(De),ti(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ol(r)?Xi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wg())),oe(r),null;case 26:return a=r.memoizedState,e===null?(Xi(r),a!==null?(oe(r),v_(r,a)):(oe(r),r.flags&=-16777217)):a?a!==e.memoizedState?(Xi(r),oe(r),v_(r,a)):(oe(r),r.flags&=-16777217):(e.memoizedProps!==l&&Xi(r),oe(r),r.flags&=-16777217),null;case 27:Di(r),a=At.current;var h=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}e=gt.current,ol(r)?Yg(r):(e=vv(h,l,a),r.stateNode=e,Xi(r))}return oe(r),null;case 5:if(Di(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(e=gt.current,ol(r))Yg(r);else{switch(h=jc(At.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Re]=r,e[_e]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=e;t:switch(Ge(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Xi(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Xi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=At.current,ol(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(e.nodeValue,a)),e||Us(r)}else e=jc(e).createTextNode(l),e[Re]=r,r.stateNode=e}return oe(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ol(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=r}else ll(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),h=!1}else h=Wg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),oe(r),null;case 4:return ti(),e===null&&tm(r.stateNode.containerInfo),oe(r),null;case 10:return $i(r.type),oe(r),null;case 19:if(ct(xe),h=r.memoizedState,h===null)return oe(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Sl(h,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=Sc(e),d!==null){for(r.flags|=128,Sl(h,!1),e=d.updateQueue,r.updateQueue=e,Dc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Kg(a,e),a=a.sibling;return rt(xe,xe.current&1|2),r.child}e=e.sibling}h.tail!==null&&wn()>Oc&&(r.flags|=128,l=!0,Sl(h,!1),r.lanes=4194304)}else{if(!l)if(e=Sc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,Dc(r,e),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return oe(r),null}else 2*wn()-h.renderingStartTime>Oc&&a!==536870912&&(r.flags|=128,l=!0,Sl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(e=h.last,e!==null?e.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,e=xe.current,rt(xe,l?e&1|2:e&1),r):(oe(r),null);case 22:case 23:return Qi(r),nd(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&ct(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(De),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function LA(e,r){switch(jf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return $i(De),ti(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Di(r),null;case 13:if(Qi(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ll()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ct(xe),null;case 4:return ti(),null;case 10:return $i(r.type),null;case 22:case 23:return Qi(r),nd(),e!==null&&ct(qs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return $i(De),null;case 25:return null;default:return null}}function T_(e,r){switch(jf(r),r.tag){case 3:$i(De),ti();break;case 26:case 27:case 5:Di(r);break;case 4:ti();break;case 13:Qi(r);break;case 19:ct(xe);break;case 10:$i(r.type);break;case 22:case 23:Qi(r),nd(),e!==null&&ct(qs);break;case 24:$i(De)}}function wl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Jt(r,r.return,E)}}function Cr(e,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=r;var C=a,j=E;try{j()}catch(W){Jt(h,C,W)}}}l=l.next}while(l!==d)}}catch(W){Jt(r,r.return,W)}}function E_(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{ly(r,a)}catch(l){Jt(e,e.return,l)}}}function b_(e,r,a){a.props=Hs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,r,l)}}function Rl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,r,h)}}function mi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,r,h)}else a.current=null}function A_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function xd(e,r,a){try{var l=e.stateNode;rS(l,e.type,a,r),l[_e]=r}catch(h){Jt(e,e.return,h)}}function S_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function Nd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||S_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Od(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=qc));else if(l!==4&&(l===27&&Pr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Od(e,r,a),e=e.sibling;e!==null;)Od(e,r,a),e=e.sibling}function xc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(xc(e,r,a),e=e.sibling;e!==null;)xc(e,r,a),e=e.sibling}function w_(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ge(r,l,a),r[Re]=e,r[_e]=a}catch(d){Jt(e,e.return,d)}}var Wi=!1,ge=!1,Md=!1,R_=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function UA(e,r){if(e=e.containerInfo,im=Qc,e=Lg(e),Nf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,C=-1,j=0,W=0,tt=e,F=null;e:for(;;){for(var $;tt!==a||h!==0&&tt.nodeType!==3||(E=v+h),tt!==d||l!==0&&tt.nodeType!==3||(C=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),($=tt.firstChild)!==null;)F=tt,tt=$;for(;;){if(tt===e)break e;if(F===a&&++j===h&&(E=v),F===d&&++W===l&&(C=v),($=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=$}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:e,selectionRange:a},Qc=!1,Pe=r;Pe!==null;)if(r=Pe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Pe=e;else for(;Pe!==null;){switch(r=Pe,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var bt=Hs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(bt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Jt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)om(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":om(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Pe=e;break}Pe=r.return}}function I_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Dr(e,a),l&4&&wl(5,a);break;case 1:if(Dr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var h=Hs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}l&64&&E_(a),l&512&&Rl(a,a.return);break;case 3:if(Dr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ly(e,r)}catch(v){Jt(a,a.return,v)}}break;case 27:r===null&&l&4&&w_(a);case 26:case 5:Dr(e,a),r===null&&l&4&&A_(a),l&512&&Rl(a,a.return);break;case 12:Dr(e,a);break;case 13:Dr(e,a),l&4&&x_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=KA.bind(null,a),hS(e,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){r=r!==null&&r.memoizedState!==null||ge,h=Wi;var d=ge;Wi=l,(ge=r)&&!d?xr(e,a,(a.subtreeFlags&8772)!==0):Dr(e,a),Wi=h,ge=d}break;case 30:break;default:Dr(e,a)}}function C_(e){var r=e.alternate;r!==null&&(e.alternate=null,C_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&yr(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,cn=!1;function Zi(e,r,a){for(a=a.child;a!==null;)D_(e,r,a),a=a.sibling}function D_(e,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:ge||mi(a,r),Zi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||mi(a,r);var l=ae,h=cn;Pr(a.type)&&(ae=a.stateNode,cn=!1),Zi(e,r,a),Vl(a.stateNode),ae=l,cn=h;break;case 5:ge||mi(a,r);case 6:if(l=ae,h=cn,ae=null,Zi(e,r,a),ae=l,cn=h,ae!==null)if(cn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Jt(a,r,d)}else try{ae.removeChild(a.stateNode)}catch(d){Jt(a,r,d)}break;case 18:ae!==null&&(cn?(e=ae,yv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Hl(e)):yv(ae,a.stateNode));break;case 4:l=ae,h=cn,ae=a.stateNode.containerInfo,cn=!0,Zi(e,r,a),ae=l,cn=h;break;case 0:case 11:case 14:case 15:ge||Cr(2,a,r),ge||Cr(4,a,r),Zi(e,r,a);break;case 1:ge||(mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&b_(a,r,l)),Zi(e,r,a);break;case 21:Zi(e,r,a);break;case 22:ge=(l=ge)||a.memoizedState!==null,Zi(e,r,a),ge=l;break;default:Zi(e,r,a)}}function x_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(a){Jt(r,r.return,a)}}function zA(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new R_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new R_),r;default:throw Error(s(435,e.tag))}}function kd(e,r){var a=zA(e);r.forEach(function(l){var h=QA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function vn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=r,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){ae=E.stateNode,cn=!1;break t}break;case 5:ae=E.stateNode,cn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ae===null)throw Error(s(160));D_(d,v,h),ae=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)N_(r,e),r=r.sibling}var Gn=null;function N_(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(r,e),Tn(e),l&4&&(Cr(3,e,e.return),wl(3,e),Cr(5,e,e.return));break;case 1:vn(r,e),Tn(e),l&512&&(ge||a===null||mi(a,a.return)),l&64&&Wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(vn(r,e),Tn(e),l&512&&(ge||a===null||mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Re]=e,me(d),l=d;break t;case"link":var v=wv("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(v=wv("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,me(d),l=d}e.stateNode=l}else Rv(h,e.type,e.stateNode);else e.stateNode=Sv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Rv(h,e.type,e.stateNode):Sv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xd(e,e.memoizedProps,a.memoizedProps)}break;case 27:vn(r,e),Tn(e),l&512&&(ge||a===null||mi(a,a.return)),a!==null&&l&4&&xd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vn(r,e),Tn(e),l&512&&(ge||a===null||mi(a,a.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch($){Jt(e,e.return,$)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,xd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Md=!0);break;case 6:if(vn(r,e),Tn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch($){Jt(e,e.return,$)}}break;case 3:if(Gc=null,h=Gn,Gn=Hc(r.containerInfo),vn(r,e),Gn=h,Tn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hl(r.containerInfo)}catch($){Jt(e,e.return,$)}Md&&(Md=!1,O_(e));break;case 4:l=Gn,Gn=Hc(e.stateNode.containerInfo),vn(r,e),Tn(e),Gn=l;break;case 12:vn(r,e),Tn(e);break;case 13:vn(r,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bd=wn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kd(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Wi,W=ge;if(Wi=j||h,ge=W||C,vn(r,e),ge=W,Wi=j,Tn(e),l&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Wi||ge||Fs(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var tt=C.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch($){Jt(C,C.return,$)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch($){Jt(C,C.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kd(e,a))));break;case 19:vn(r,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kd(e,l)));break;case 30:break;case 21:break;default:vn(r,e),Tn(e)}}function Tn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(S_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Nd(e);xc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var E=Nd(e);xc(e,E,v);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Nd(e);Od(e,j,C);break;default:throw Error(s(161))}}catch(W){Jt(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function O_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;O_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Dr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)I_(e,r.alternate,r),r=r.sibling}function Fs(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Cr(4,r,r.return),Fs(r);break;case 1:mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&b_(r,r.return,a),Fs(r);break;case 27:Vl(r.stateNode);case 26:case 5:mi(r,r.return),Fs(r);break;case 22:r.memoizedState===null&&Fs(r);break;case 30:Fs(r);break;default:Fs(r)}e=e.sibling}}function xr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:xr(h,d,a),wl(4,d);break;case 1:if(xr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Jt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)oy(C[h],E)}catch(j){Jt(l,l.return,j)}}a&&v&64&&E_(d),Rl(d,d.return);break;case 27:w_(d);case 26:case 5:xr(h,d,a),a&&l===null&&v&4&&A_(d),Rl(d,d.return);break;case 12:xr(h,d,a);break;case 13:xr(h,d,a),a&&v&4&&x_(h,d);break;case 22:d.memoizedState===null&&xr(h,d,a),Rl(d,d.return);break;case 30:break;default:xr(h,d,a)}r=r.sibling}}function Vd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&hl(a))}function Pd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&hl(e))}function pi(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M_(e,r,a,l),r=r.sibling}function M_(e,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:pi(e,r,a,l),h&2048&&wl(9,r);break;case 1:pi(e,r,a,l);break;case 3:pi(e,r,a,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&hl(e)));break;case 12:if(h&2048){pi(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Jt(r,r.return,C)}}else pi(e,r,a,l);break;case 13:pi(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?pi(e,r,a,l):Il(e,r):d._visibility&2?pi(e,r,a,l):(d._visibility|=2,$a(e,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Vd(v,r);break;case 24:pi(e,r,a,l),h&2048&&Pd(r.alternate,r);break;default:pi(e,r,a,l)}}function $a(e,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,v=r,E=a,C=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:$a(d,v,E,C,h),wl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?$a(d,v,E,C,h):Il(d,v):(W._visibility|=2,$a(d,v,E,C,h)),h&&j&2048&&Vd(v.alternate,v);break;case 24:$a(d,v,E,C,h),h&&j&2048&&Pd(v.alternate,v);break;default:$a(d,v,E,C,h)}r=r.sibling}}function Il(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&Vd(l.alternate,l);break;case 24:Il(a,l),h&2048&&Pd(l.alternate,l);break;default:Il(a,l)}r=r.sibling}}var Cl=8192;function Ka(e){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)k_(e),e=e.sibling}function k_(e){switch(e.tag){case 26:Ka(e),e.flags&Cl&&e.memoizedState!==null&&SS(Gn,e.memoizedState,e.memoizedProps);break;case 5:Ka(e);break;case 3:case 4:var r=Gn;Gn=Hc(e.stateNode.containerInfo),Ka(e),Gn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,Ka(e),Cl=r):Ka(e));break;default:Ka(e)}}function V_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Dl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,L_(l,e)}V_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)P_(e),e=e.sibling}function P_(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Nc(e)):Dl(e);break;default:Dl(e)}}function Nc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,L_(l,e)}V_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Cr(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(r));break;default:Nc(r)}e=e.sibling}}function L_(e,r){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Cr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(C_(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var BA={getCacheForType:function(e){var r=Xe(De),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},qA=typeof WeakMap=="function"?WeakMap:Map,$t=0,ne=null,xt=null,Ut=0,Kt=0,En=null,Nr=!1,Qa=!1,Ld=!1,Ji=0,de=0,Or=0,Gs=0,Ud=0,Pn=0,Ya=0,xl=null,hn=null,zd=!1,Bd=0,Oc=1/0,Mc=null,Mr=null,Fe=0,kr=null,Xa=null,Wa=0,qd=0,jd=null,U_=null,Nl=0,Hd=null;function bn(){if(($t&2)!==0&&Ut!==0)return Ut&-Ut;if(X.T!==null){var e=Ua;return e!==0?e:Xd()}return pr()}function z_(){Pn===0&&(Pn=(Ut&536870912)===0||jt?Bo():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),Pn}function An(e,r,a){(e===ne&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Za(e,0),Vr(e,Ut,Pn,!1)),Ni(e,a),(($t&2)===0||e!==ne)&&(e===ne&&(($t&2)===0&&(Gs|=a),de===4&&Vr(e,Ut,Pn,!1)),gi(e))}function B_(e,r,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||ys(e,r),h=l?FA(e,r):$d(e,r,!0),d=l;do{if(h===0){Qa&&!l&&Vr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!jA(a)){h=$d(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var E=e;h=xl;var C=E.current.memoizedState.isDehydrated;if(C&&(Za(E,v).flags|=256),v=$d(E,v,!1),v!==2){if(Ld&&!C){E.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break t}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Za(e,0),Vr(e,r,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vr(l,r,Pn,!Nr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Bd+300-wn(),10<h)){if(Vr(l,r,Pn,!Nr),pa(l,0,!0)!==0)break t;l.timeoutHandle=pv(q_.bind(null,l,a,hn,Mc,zd,r,Pn,Gs,Ya,Nr,d,2,-0,0),h);break t}q_(l,a,hn,Mc,zd,r,Pn,Gs,Ya,Nr,d,0,-0,0)}}break}while(!0);gi(e)}function q_(e,r,a,l,h,d,v,E,C,j,W,tt,F,$){if(e.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:AS},k_(r),tt=wS(),tt!==null)){e.cancelPendingCommit=tt(Q_.bind(null,e,r,d,a,l,h,v,E,C,W,1,F,$)),Vr(e,d,v,!j);return}Q_(e,r,d,a,l,h,v,E,C)}function jA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(e,r,a,l){r&=~Ud,r&=~Gs,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-Ye(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ei(e,a,r)}function kc(){return($t&6)===0?(Ol(0),!1):!0}function Fd(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,Gi=zs=null,od(e),Fa=null,bl=0,e=xt;for(;e!==null;)T_(e.alternate,e),e=e.return;xt=null}}function Za(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,aS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Fd(),ne=e,xt=a=ji(e.current,null),Ut=r,Kt=0,En=null,Nr=!1,Qa=ys(e,r),Ld=!1,Ya=Pn=Ud=Gs=Or=de=0,hn=xl=null,zd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-Ye(l),d=1<<h;r|=e[h],l&=~d}return Ji=r,nc(),a}function j_(e,r){It=null,X.H=Ec,r===dl||r===hc?(r=sy(),Kt=3):r===ny?(r=sy(),Kt=4):Kt=r===a_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,xt===null&&(de=1,Rc(e,Nn(r,e.current)))}function H_(){var e=X.H;return X.H=Ec,e===null?Ec:e}function F_(){var e=X.A;return X.A=BA,e}function Gd(){de=4,Nr||(Ut&4194048)!==Ut&&Vn.current!==null||(Qa=!0),(Or&134217727)===0&&(Gs&134217727)===0||ne===null||Vr(ne,Ut,Pn,!1)}function $d(e,r,a){var l=$t;$t|=2;var h=H_(),d=F_();(ne!==e||Ut!==r)&&(Mc=null,Za(e,r)),r=!1;var v=de;t:do try{if(Kt!==0&&xt!==null){var E=xt,C=En;switch(Kt){case 8:Fd(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var j=Kt;if(Kt=0,En=null,Ja(e,E,C,j),a&&Qa){v=0;break t}break;default:j=Kt,Kt=0,En=null,Ja(e,E,C,j)}}HA(),v=de;break}catch(W){j_(e,W)}while(!0);return r&&e.shellSuspendCounter++,Gi=zs=null,$t=l,X.H=h,X.A=d,xt===null&&(ne=null,Ut=0,nc()),v}function HA(){for(;xt!==null;)G_(xt)}function FA(e,r){var a=$t;$t|=2;var l=H_(),h=F_();ne!==e||Ut!==r?(Mc=null,Oc=wn()+500,Za(e,r)):Qa=ys(e,r);t:do try{if(Kt!==0&&xt!==null){r=xt;var d=En;e:switch(Kt){case 1:Kt=0,En=null,Ja(e,r,d,1);break;case 2:case 9:if(iy(d)){Kt=0,En=null,$_(r);break}r=function(){Kt!==2&&Kt!==9||ne!==e||(Kt=7),gi(e)},d.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:iy(d)?(Kt=0,En=null,$_(r)):(Kt=0,En=null,Ja(e,r,d,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var E=xt;if(!v||Iv(v)){Kt=0,En=null;var C=E.sibling;if(C!==null)xt=C;else{var j=E.return;j!==null?(xt=j,Vc(j)):xt=null}break e}}Kt=0,En=null,Ja(e,r,d,5);break;case 6:Kt=0,En=null,Ja(e,r,d,6);break;case 8:Fd(),de=6;break t;default:throw Error(s(462))}}GA();break}catch(W){j_(e,W)}while(!0);return Gi=zs=null,X.H=l,X.A=h,$t=a,xt!==null?0:(ne=null,Ut=0,nc(),de)}function GA(){for(;xt!==null&&!Po();)G_(xt)}function G_(e){var r=__(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,r===null?Vc(e):xt=r}function $_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=f_(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=f_(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:od(r);default:T_(a,r),r=xt=Kg(r,Ji),r=__(a,r,Ji)}e.memoizedProps=e.pendingProps,r===null?Vc(e):xt=r}function Ja(e,r,a,l){Gi=zs=null,od(r),Fa=null,bl=0;var h=r.return;try{if(kA(e,h,r,a,Ut)){de=1,Rc(e,Nn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;de=1,Rc(e,Nn(a,e.current)),xt=null;return}r.flags&32768?(jt||l===1?e=!0:Qa||(Ut&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),K_(r,e)):Vc(r)}function Vc(e){var r=e;do{if((r.flags&32768)!==0){K_(r,Nr);return}e=r.return;var a=PA(r.alternate,r,Ji);if(a!==null){xt=a;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=e}while(r!==null);de===0&&(de=5)}function K_(e,r){do{var a=LA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);de=6,xt=null}function Q_(e,r,a,l,h,d,v,E,C){e.cancelPendingCommit=null;do Pc();while(Fe!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Pf,jo(e,a,d,v,E,C),e===ne&&(xt=ne=null,Ut=0),Xa=r,kr=e,Wa=a,qd=d,jd=h,U_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YA(ds,function(){return J_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=at.p,at.p=2,v=$t,$t|=4;try{UA(e,r,a)}finally{$t=v,at.p=h,X.T=l}}Fe=1,Y_(),X_(),W_()}}function Y_(){if(Fe===1){Fe=0;var e=kr,r=Xa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var h=$t;$t|=4;try{N_(r,e);var d=rm,v=Lg(e.containerInfo),E=d.focusedElem,C=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(C!==null&&Nf(E)){var j=C.start,W=C.end;if(W===void 0&&(W=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(W,E.value.length);else{var tt=E.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var $=F.getSelection(),bt=E.textContent.length,_t=Math.min(C.start,bt),Zt=C.end===void 0?_t:Math.min(C.end,bt);!$.extend&&_t>Zt&&(v=Zt,Zt=_t,_t=v);var U=Vg(E,_t),M=Vg(E,Zt);if(U&&M&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var q=tt.createRange();q.setStart(U.node,U.offset),$.removeAllRanges(),_t>Zt?($.addRange(q),$.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),$.addRange(q))}}}}for(tt=[],$=E;$=$.parentNode;)$.nodeType===1&&tt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<tt.length;E++){var J=tt[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Qc=!!im,rm=im=null}finally{$t=h,at.p=l,X.T=a}}e.current=r,Fe=2}}function X_(){if(Fe===2){Fe=0;var e=kr,r=Xa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var h=$t;$t|=4;try{I_(e,r.alternate,r)}finally{$t=h,at.p=l,X.T=a}}Fe=3}}function W_(){if(Fe===4||Fe===3){Fe=0,Nu();var e=kr,r=Xa,a=Wa,l=U_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Fe=5:(Fe=0,Xa=kr=null,Z_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Mr=null),ga(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=at.p,at.p=2,X.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{X.T=r,at.p=h}}(Wa&3)!==0&&Pc(),gi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Hd?Nl++:(Nl=0,Hd=e):Nl=0,Ol(0)}}function Z_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,hl(r)))}function Pc(e){return Y_(),X_(),W_(),J_()}function J_(){if(Fe!==5)return!1;var e=kr,r=qd;qd=0;var a=ga(Wa),l=X.T,h=at.p;try{at.p=32>a?32:a,X.T=null,a=jd,jd=null;var d=kr,v=Wa;if(Fe=0,Xa=kr=null,Wa=0,($t&6)!==0)throw Error(s(331));var E=$t;if($t|=4,P_(d.current),M_(d,d.current,v,a),$t=E,Ol(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,d)}catch{}return!0}finally{at.p=h,X.T=l,Z_(e,r)}}function tv(e,r,a){r=Nn(a,r),r=Ed(e.stateNode,r,2),e=Sr(e,r,2),e!==null&&(Ni(e,2),gi(e))}function Jt(e,r,a){if(e.tag===3)tv(e,e,a);else for(;r!==null;){if(r.tag===3){tv(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){e=Nn(a,e),a=r_(2),l=Sr(r,a,2),l!==null&&(s_(a,l,r,e),Ni(l,2),gi(l));break}}r=r.return}}function Kd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new qA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Ld=!0,h.add(a),e=$A.bind(null,e,r,a),r.then(e,e))}function $A(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Ut&a)===a&&(de===4||de===3&&(Ut&62914560)===Ut&&300>wn()-Bd?($t&2)===0&&Za(e,0):Ud|=a,Ya===Ut&&(Ya=0)),gi(e)}function ev(e,r){r===0&&(r=qo()),e=ka(e,r),e!==null&&(Ni(e,r),gi(e))}function KA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),ev(e,a)}function QA(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),ev(e,a)}function YA(e,r){return hs(e,r)}var Lc=null,to=null,Qd=!1,Uc=!1,Yd=!1,$s=0;function gi(e){e!==to&&e.next===null&&(to===null?Lc=to=e:to=to.next=e),Uc=!0,Qd||(Qd=!0,WA())}function Ol(e,r){if(!Yd&&Uc){Yd=!0;do for(var a=!1,l=Lc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Ye(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Ut,d=pa(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Yd=!1}}function XA(){nv()}function nv(){Uc=Qd=!1;var e=0;$s!==0&&(sS()&&(e=$s),$s=0);for(var r=wn(),a=null,l=Lc;l!==null;){var h=l.next,d=iv(l,r);d===0?(l.next=null,a===null?Lc=h:a.next=h,h===null&&(to=a)):(a=l,(e!==0||(d&3)!==0)&&(Uc=!0)),l=h}Ol(e)}function iv(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ye(d),E=1<<v,C=h[v];C===-1?((E&a)===0||(E&l)!==0)&&(h[v]=zo(E,r)):C<=r&&(e.expiredLanes|=E),d&=~E}if(r=ne,a=Ut,a=pa(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ys(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&fs(l),ga(a)){case 2:case 8:a=da;break;case 32:a=ds;break;case 268435456:a=ma;break;default:a=ds}return l=rv.bind(null,e),a=hs(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&fs(l),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,r){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Pc()&&e.callbackNode!==a)return null;var l=Ut;return l=pa(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(B_(e,l,r),iv(e,wn()),e.callbackNode!=null&&e.callbackNode===a?rv.bind(null,e):null)}function sv(e,r){if(Pc())return null;B_(e,r,!0)}function WA(){oS(function(){($t&6)!==0?hs(Lo,XA):nv()})}function Xd(){return $s===0&&($s=Bo()),$s}function av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ba(""+e)}function ov(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function ZA(e,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=av((h[_e]||null).action),v=l.submitter;v&&(r=(r=v[_e]||null)?av(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var E=new Aa("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var C=v?ov(h,v):new FormData(h);gd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=v?ov(h,v):new FormData(h),gd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Wd=0;Wd<Vf.length;Wd++){var Zd=Vf[Wd],JA=Zd.toLowerCase(),tS=Zd[0].toUpperCase()+Zd.slice(1);Fn(JA,"on"+tS)}Fn(Bg,"onAnimationEnd"),Fn(qg,"onAnimationIteration"),Fn(jg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(yA,"onTransitionRun"),Fn(_A,"onTransitionStart"),Fn(vA,"onTransitionCancel"),Fn(Hg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function lv(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,j=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=C}}}}function Nt(e,r){var a=r[Fo];a===void 0&&(a=r[Fo]=new Set);var l=e+"__bubble";a.has(l)||(uv(r,e,2,!1),a.add(l))}function Jd(e,r,a){var l=0;r&&(l|=4),uv(a,e,l,r)}var zc="_reactListening"+Math.random().toString(36).slice(2);function tm(e){if(!e[zc]){e[zc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(eS.has(a)||Jd(a,!1,e),Jd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[zc]||(r[zc]=!0,Jd("selectionchange",!1,r))}}function uv(e,r,a,l){switch(Mv(r)){case 2:var h=CS;break;case 8:h=DS;break;default:h=mm}a=h.bind(null,r,a,e),h=void 0,!Dn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function em(e,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Oi(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue t}E=E.parentNode}}l=l.return}qu(function(){var j=d,W=Cn(a),tt=[];t:{var F=Fg.get(e);if(F!==void 0){var $=Aa,bt=e;switch(e){case"keypress":if(oi(a)===0)break t;case"keydown":case"keyup":$=Da;break;case"focusin":bt="focus",$=Ra;break;case"focusout":bt="blur",$=Ra;break;case"beforeblur":case"afterblur":$=Ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Yu;break;case Bg:case qg:case jg:$=Ia;break;case Hg:$=Wu;break;case"scroll":case"scrollend":$=ju;break;case"wheel":$=xa;break;case"copy":case"cut":case"paste":$=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=il;break;case"toggle":case"beforetoggle":$=Ju}var _t=(r&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),U=_t?F!==null?F+"Capture":null:F;_t=[];for(var M=j,q;M!==null;){var J=M;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=ws(M,U),J!=null&&_t.push(kl(M,J,q))),Zt)break;M=M.return}0<_t.length&&(F=new $(F,bt,null,a,W),tt.push({event:F,listeners:_t}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",F&&a!==Pi&&(bt=a.relatedTarget||a.fromElement)&&(Oi(bt)||bt[Rn]))break t;if(($||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,$?(bt=a.relatedTarget||a.toElement,$=j,bt=bt?Oi(bt):null,bt!==null&&(Zt=u(bt),_t=bt.tag,bt!==Zt||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):($=null,bt=j),$!==bt)){if(_t=xn,J="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(_t=il,J="onPointerLeave",U="onPointerEnter",M="pointer"),Zt=$==null?F:ii($),q=bt==null?F:ii(bt),F=new _t(J,M+"leave",$,a,W),F.target=Zt,F.relatedTarget=q,J=null,Oi(W)===j&&(_t=new _t(U,M+"enter",bt,a,W),_t.target=q,_t.relatedTarget=Zt,J=_t),Zt=J,$&&bt)e:{for(_t=$,U=bt,M=0,q=_t;q;q=eo(q))M++;for(q=0,J=U;J;J=eo(J))q++;for(;0<M-q;)_t=eo(_t),M--;for(;0<q-M;)U=eo(U),q--;for(;M--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=eo(_t),U=eo(U)}_t=null}else _t=null;$!==null&&cv(tt,F,$,_t,!1),bt!==null&&Zt!==null&&cv(tt,Zt,bt,_t,!0)}}t:{if(F=j?ii(j):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var ft=Dg;else if(Ce(F))if(xg)ft=mA;else{ft=fA;var Dt=hA}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&Xo(j.elementType)&&(ft=Dg):ft=dA;if(ft&&(ft=ft(e,j))){qi(tt,ft,a,W);break t}Dt&&Dt(e,F,j),e==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&vr(F,"number",F.value)}switch(Dt=j?ii(j):window,e){case"focusin":(Ce(Dt)||Dt.contentEditable==="true")&&(Na=Dt,Of=j,al=null);break;case"focusout":al=Of=Na=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Ug(tt,a,W);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Ug(tt,a,W)}var mt;if(ci)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?K(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(mt=Zo()):(ai=W,Tr="value"in ai?ai.value:ai.textContent,Pt=!0)),Dt=Bc(j,vt),0<Dt.length&&(vt=new el(vt,e,null,a,W),tt.push({event:vt,listeners:Dt}),mt?vt.data=mt:(mt=st(a),mt!==null&&(vt.data=mt)))),(mt=y?Ie(e,a):Lt(e,a))&&(vt=Bc(j,"onBeforeInput"),0<vt.length&&(Dt=new el("onBeforeInput","beforeinput",null,a,W),tt.push({event:Dt,listeners:vt}),Dt.data=mt)),ZA(tt,e,j,a,W)}lv(tt,r)})}function kl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Bc(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ws(e,a),h!=null&&l.unshift(kl(e,h,d)),h=ws(e,r),h!=null&&l.push(kl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=ws(a,d),j!=null&&v.unshift(kl(a,j,C))):h||(j=ws(a,d),j!=null&&v.push(kl(a,j,C)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var nS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function hv(e){return(typeof e=="string"?e:""+e).replace(nS,`
`).replace(iS,"")}function fv(e,r){return r=hv(r),hv(e)===r}function qc(){}function Wt(e,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(e,""+l);break;case"className":ri(e,"class",l);break;case"tabIndex":ri(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(e,a,l);break;case"style":Yo(e,l,d);break;case"data":if(r!=="object"){ri(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ba(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Wt(e,r,"name",h.name,h,null),Wt(e,r,"formEncType",h.formEncType,h,null),Wt(e,r,"formMethod",h.formMethod,h,null),Wt(e,r,"formTarget",h.formTarget,h,null)):(Wt(e,r,"encType",h.encType,h,null),Wt(e,r,"method",h.method,h,null),Wt(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ba(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=qc);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ba(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),_r(e,"popover",l);break;case"xlinkActuate":qe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_r(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wf.get(a)||a,_r(e,a,l))}}function nm(e,r,a,l,h,d){switch(a){case"style":Yo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?In(e,l):(typeof l=="number"||typeof l=="bigint")&&In(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):_r(e,a,l)}}}function Ge(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(e,r,d,v,a,null)}}h&&Wt(e,r,"srcSet",a.srcSet,a,null),l&&Wt(e,r,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=d=v=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Wt(e,r,l,W,a,null)}}bs(e,d,E,C,j,v,h,!1),Ea(e);return;case"select":Nt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Wt(e,r,h,E,a,null)}r=d,a=v,e.multiple=!!l,r!=null?Vi(e,!!l,r,!1):a!=null&&Vi(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,r,v,E,a,null)}As(e,l,h,d),Ea(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,r,C,l,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Nt(Ml[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(e,r,j,l,a,null)}return;default:if(Xo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&nm(e,r,W,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Wt(e,r,E,l,a,null))}function rS(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,C=null,j=null,W=null;for($ in a){var tt=a[$];if(a.hasOwnProperty($)&&tt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=tt;default:l.hasOwnProperty($)||Wt(e,r,$,null,l,tt)}}for(var F in l){var $=l[F];if(tt=a[F],l.hasOwnProperty(F)&&($!=null||tt!=null))switch(F){case"type":d=$;break;case"name":h=$;break;case"checked":j=$;break;case"defaultChecked":W=$;break;case"value":v=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==tt&&Wt(e,r,F,$,l,tt)}}gn(e,v,E,C,j,W,d,h);return;case"select":$=v=E=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(d)||Wt(e,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==C&&Wt(e,r,h,d,l,C)}r=E,a=v,l=$,F!=null?Vi(e,!!a,F,!1):!!l!=!!a&&(r!=null?Vi(e,!!a,r,!0):Vi(e,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,r,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,r,v,h,l,d)}Yt(e,F,$);return;case"option":for(var bt in a)if(F=a[bt],a.hasOwnProperty(bt)&&F!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Wt(e,r,bt,null,l,F)}for(C in l)if(F=l[C],$=a[C],l.hasOwnProperty(C)&&F!==$&&(F!=null||$!=null))switch(C){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Wt(e,r,C,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)F=a[_t],a.hasOwnProperty(_t)&&F!=null&&!l.hasOwnProperty(_t)&&Wt(e,r,_t,null,l,F);for(j in l)if(F=l[j],$=a[j],l.hasOwnProperty(j)&&F!==$&&(F!=null||$!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Wt(e,r,j,F,l,$)}return;default:if(Xo(r)){for(var Zt in a)F=a[Zt],a.hasOwnProperty(Zt)&&F!==void 0&&!l.hasOwnProperty(Zt)&&nm(e,r,Zt,void 0,l,F);for(W in l)F=l[W],$=a[W],!l.hasOwnProperty(W)||F===$||F===void 0&&$===void 0||nm(e,r,W,F,l,$);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Wt(e,r,U,null,l,F);for(tt in l)F=l[tt],$=a[tt],!l.hasOwnProperty(tt)||F===$||F==null&&$==null||Wt(e,r,tt,F,l,$)}var im=null,rm=null;function jc(e){return e.nodeType===9?e:e.ownerDocument}function dv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function sm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var am=null;function sS(){var e=window.event;return e&&e.type==="popstate"?e===am?!1:(am=e,!0):(am=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,aS=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(e){return gv.resolve(null).then(e).catch(lS)}:pv;function lS(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function yv(e,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Vl(v.documentElement),a&2&&Vl(v.body),a&4)for(a=v.head,Vl(a),v=a.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[_s]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),Hl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Hl(r)}function om(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":om(a),yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function uS(e,r,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[_s])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=$n(e.nextSibling),e===null)break}return null}function cS(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$n(e.nextSibling),e===null))return null;return e}function lm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hS(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function $n(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var um=null;function _v(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function vv(e,r,a){switch(r=jc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);yr(e)}var Ln=new Map,Tv=new Set;function Hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=at.d;at.d={f:fS,r:dS,D:mS,C:pS,L:gS,m:yS,X:vS,S:_S,M:TS};function fS(){var e=tr.f(),r=kc();return e||r}function dS(e){var r=ni(e);r!==null&&r.tag===5&&r.type==="form"?By(r):tr.r(e)}var no=typeof document>"u"?null:document;function Ev(e,r,a){var l=no;if(l&&typeof r=="string"&&r){var h=ve(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Tv.has(h)||(Tv.add(h),e={rel:e,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ge(r,"link",e),me(r),l.head.appendChild(r)))}}function mS(e){tr.D(e),Ev("dns-prefetch",e,null)}function pS(e,r){tr.C(e,r),Ev("preconnect",e,r)}function gS(e,r,a){tr.L(e,r,a);var l=no;if(l&&e&&r){var h='link[rel="preload"][as="'+ve(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ve(a.imageSizes)+'"]')):h+='[href="'+ve(e)+'"]';var d=h;switch(r){case"style":d=io(e);break;case"script":d=ro(e)}Ln.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Ln.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(Pl(d))||r==="script"&&l.querySelector(Ll(d))||(r=l.createElement("link"),Ge(r,"link",e),me(r),l.head.appendChild(r)))}}function yS(e,r){tr.m(e,r);var a=no;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+ve(l)+'"][href="'+ve(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(e)}if(!Ln.has(d)&&(e=T({rel:"modulepreload",href:e},r),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(d)))return}l=a.createElement("link"),Ge(l,"link",e),me(l),a.head.appendChild(l)}}}function _S(e,r,a){tr.S(e,r,a);var l=no;if(l&&e){var h=rn(l).hoistableStyles,d=io(e);r=r||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Pl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Ln.get(d))&&cm(e,a);var C=v=l.createElement("link");me(C),Ge(C,"link",e),C._p=new Promise(function(j,W){C.onload=j,C.onerror=W}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Fc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function vS(e,r){tr.X(e,r);var a=no;if(a&&e){var l=rn(a).hoistableScripts,h=ro(e),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(e=T({src:e,async:!0},r),(r=Ln.get(h))&&hm(e,r),d=a.createElement("script"),me(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function TS(e,r){tr.M(e,r);var a=no;if(a&&e){var l=rn(a).hoistableScripts,h=ro(e),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(e=T({src:e,async:!0,type:"module"},r),(r=Ln.get(h))&&hm(e,r),d=a.createElement("script"),me(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bv(e,r,a,l){var h=(h=At.current)?Hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=rn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=io(a.href);var d=rn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Pl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||ES(h,e,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=rn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function io(e){return'href="'+ve(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function Av(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function ES(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ge(r,"link",a),me(r),e.head.appendChild(r))}function ro(e){return'[src="'+ve(e)+'"]'}function Ll(e){return"script[async]"+e}function Sv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+ve(a.href)+'"]');if(l)return r.instance=l,me(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),me(l),Ge(l,"style",h),Fc(l,a.precedence,e),r.instance=l;case"stylesheet":h=io(a.href);var d=e.querySelector(Pl(h));if(d)return r.state.loading|=4,r.instance=d,me(d),d;l=Av(a),(h=Ln.get(h))&&cm(l,h),d=(e.ownerDocument||e).createElement("link"),me(d);var v=d;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Ge(d,"link",l),r.state.loading|=4,Fc(d,a.precedence,e),r.instance=d;case"script":return d=ro(a.src),(h=e.querySelector(Ll(d)))?(r.instance=h,me(h),h):(l=a,(h=Ln.get(d))&&(l=T({},a),hm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),me(h),Ge(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,e));return r.instance}function Fc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===r)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function cm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function hm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Gc=null;function wv(e,r,a){if(Gc===null){var l=new Map,h=Gc=new Map;h.set(a,l)}else h=Gc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function Rv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function bS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Iv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ul=null;function AS(){}function SS(e,r,a){if(Ul===null)throw Error(s(475));var l=Ul;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=io(a.href),d=e.querySelector(Pl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=$c.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,me(d);return}d=e.ownerDocument||e,a=Av(a),(h=Ln.get(h))&&cm(a,h),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Ge(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=$c.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function wS(){if(Ul===null)throw Error(s(475));var e=Ul;return e.stylesheets&&e.count===0&&fm(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&fm(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kc=null;function fm(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kc=new Map,r.forEach(RS,e),Kc=null,$c.call(e))}function RS(e,r){if(!(r.state.loading&4)){var a=Kc.get(e);if(a)var l=a.get(null);else{a=new Map,Kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var zl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function IS(e,r,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Cv(e,r,a,l,h,d,v,E,C,j,W,tt){return e=new IS(e,r,a,v,E,C,j,tt),r=1,d===!0&&(r|=24),d=_n(3,null,null,r),e.current=d,d.stateNode=e,r=Kf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Wf(d),e}function Dv(e){return e?(e=Va,e):Va}function xv(e,r,a,l,h,d){h=Dv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ar(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Sr(e,l,r),a!==null&&(An(a,e,r),pl(a,e,r))}function Nv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function dm(e,r){Nv(e,r),(e=e.alternate)&&Nv(e,r)}function Ov(e){if(e.tag===13){var r=ka(e,67108864);r!==null&&An(r,e,67108864),dm(e,67108864)}}var Qc=!0;function CS(e,r,a,l){var h=X.T;X.T=null;var d=at.p;try{at.p=2,mm(e,r,a,l)}finally{at.p=d,X.T=h}}function DS(e,r,a,l){var h=X.T;X.T=null;var d=at.p;try{at.p=8,mm(e,r,a,l)}finally{at.p=d,X.T=h}}function mm(e,r,a,l){if(Qc){var h=pm(l);if(h===null)em(e,r,l,Yc,a),kv(e,l);else if(NS(h,e,r,a,l))l.stopPropagation();else if(kv(e,l),r&4&&-1<xS.indexOf(e)){for(;h!==null;){var d=ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=qn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-Ye(v);E.entanglements[1]|=C,v&=~C}gi(d),($t&6)===0&&(Oc=wn()+500,Ol(0))}}break;case 13:E=ka(d,2),E!==null&&An(E,d,2),kc(),dm(d,2)}if(d=pm(l),d===null&&em(e,r,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else em(e,r,l,null,a)}}function pm(e){return e=Cn(e),gm(e)}var Yc=null;function gm(e){if(Yc=null,e=Oi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=f(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Yc=e,null}function Mv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vf()){case Lo:return 2;case da:return 8;case ds:case Tf:return 32;case ma:return 268435456;default:return 32}default:return 32}}var ym=!1,Lr=null,Ur=null,zr=null,Bl=new Map,ql=new Map,Br=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(e,r){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(r.pointerId)}}function jl(e,r,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ni(r),r!==null&&Ov(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function NS(e,r,a,l,h){switch(r){case"focusin":return Lr=jl(Lr,e,r,a,l,h),!0;case"dragenter":return Ur=jl(Ur,e,r,a,l,h),!0;case"mouseover":return zr=jl(zr,e,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Bl.set(d,jl(Bl.get(d)||null,e,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,jl(ql.get(d)||null,e,r,a,l,h)),!0}return!1}function Vv(e){var r=Oi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){e.blockedOn=r,ku(e.priority,function(){if(a.tag===13){var l=bn();l=mr(l);var h=ka(a,l);h!==null&&An(h,a,l),dm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=pm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Pi=l,a.target.dispatchEvent(l),Pi=null}else return r=ni(a),r!==null&&Ov(r),e.blockedOn=a,!1;r.shift()}return!0}function Pv(e,r,a){Xc(e)&&a.delete(r)}function OS(){ym=!1,Lr!==null&&Xc(Lr)&&(Lr=null),Ur!==null&&Xc(Ur)&&(Ur=null),zr!==null&&Xc(zr)&&(zr=null),Bl.forEach(Pv),ql.forEach(Pv)}function Wc(e,r){e.blockedOn===r&&(e.blockedOn=null,ym||(ym=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,OS)))}var Zc=null;function Lv(e){Zc!==e&&(Zc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===e&&(Zc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(gm(l||a)===null)continue;break}var d=ni(a);d!==null&&(e.splice(r,3),r-=3,gd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Hl(e){function r(C){return Wc(C,e)}Lr!==null&&Wc(Lr,e),Ur!==null&&Wc(Ur,e),zr!==null&&Wc(zr,e),Bl.forEach(r),ql.forEach(r);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&Br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_e]||null;if(typeof d=="function")v||Lv(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_e]||null)E=v.formAction;else if(gm(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Lv(a)}}}function _m(e){this._internalRoot=e}Jc.prototype.render=_m.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();xv(a,l,e,r,null,null)},Jc.prototype.unmount=_m.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;xv(e.current,2,null,e,null,null),kc(),r[Rn]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var r=pr();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Br.length&&r!==0&&r<Br[a].priority;a++);Br.splice(a,0,e),a===0&&Vv(e)}};var Uv=t.version;if(Uv!=="19.1.1")throw Error(s(527,Uv,"19.1.1"));at.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var MS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{he=th.inject(MS),Gt=th}catch{}}return Gl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",h=t_,d=e_,v=n_,E=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Cv(e,1,!1,null,null,a,l,h,d,v,E,null),e[Rn]=r.current,tm(e),new _m(r)},Gl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=t_,v=e_,E=n_,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=Cv(e,1,!0,r,a??null,l,h,d,v,E,C,j),r.context=Dv(null),a=r.current,l=bn(),l=mr(l),h=Ar(l),h.callback=null,Sr(a,h,l),a=l,r.current.lanes=a,Ni(r,a),gi(r),e[Rn]=r.current,tm(e),new Jc(r)},Gl.version="19.1.1",Gl}var Qv;function FS(){if(Qv)return Em.exports;Qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Em.exports=HS(),Em.exports}var GS=FS();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yv="popstate";function $S(i={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Fm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ru(o)}return QS(t,n,null,i)}function ue(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function wi(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KS(){return Math.random().toString(36).substring(2,10)}function Xv(i,t){return{usr:i.state,key:i.key,idx:t}}function Fm(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Ro(t):t,state:n,key:t&&t.key||s||KS()}}function ru({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ro(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function QS(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function A(){m="POP";let P=T(),Q=P==null?null:P-g;g=P,p&&p({action:m,location:G.location,delta:Q})}function w(P,Q){m="PUSH";let O=Fm(G.location,P,Q);g=T()+1;let Y=Xv(O,g),ot=G.createHref(O);try{f.pushState(Y,"",ot)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(ot)}u&&p&&p({action:m,location:G.location,delta:1})}function k(P,Q){m="REPLACE";let O=Fm(G.location,P,Q);g=T();let Y=Xv(O,g),ot=G.createHref(O);f.replaceState(Y,"",ot),u&&p&&p({action:m,location:G.location,delta:0})}function B(P){return YS(P)}let G={get action(){return m},get location(){return i(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,A),p=P,()=>{o.removeEventListener(Yv,A),p=null}},createHref(P){return t(o,P)},createURL:B,encodeLocation(P){let Q=B(P);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:k,go(P){return f.go(P)}};return G}function YS(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ru(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function KT(i,t,n="/"){return XS(i,t,n,!1)}function XS(i,t,n,s){let o=typeof t=="string"?Ro(t):t,u=sr(o.pathname||"/",n);if(u==null)return null;let f=QT(i);WS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=lw(u);m=aw(f[p],g,s)}return m}function QT(i,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let T={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;ue(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let A=ir([s,T.relativePath]),w=n.concat(T);f.children&&f.children.length>0&&(ue(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),QT(f.children,t,w,A,p)),!(f.path==null&&!f.index)&&t.push({path:A,score:rw(A,f.index),routesMeta:w})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of YT(f.path))u(f,m,!0,p)}),t}function YT(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=YT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function WS(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:sw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZS=/^:[\w-]+$/,JS=3,tw=2,ew=1,nw=10,iw=-2,Wv=i=>i==="*";function rw(i,t){let n=i.split("/"),s=n.length;return n.some(Wv)&&(s+=iw),t&&(s+=tw),n.filter(o=>!Wv(o)).reduce((o,u)=>o+(ZS.test(u)?JS:u===""?ew:nw),s)}function sw(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function aw(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",A=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),w=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ir([u,A.pathname]),pathnameBase:fw(ir([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=ir([u,A.pathnameBase]))}return f}function Eh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=ow(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:A},w)=>{if(T==="*"){let B=m[w]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const k=m[w];return A&&!k?g[T]=void 0:g[T]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function ow(i,t=!1,n=!0){wi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function lw(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function sr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function uw(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ro(i):i;return{pathname:n?n.startsWith("/")?n:cw(n,t):t,search:dw(s),hash:mw(o)}}function cw(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hw(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function XT(i){let t=hw(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function WT(i,t,n,s=!1){let o;typeof i=="string"?o=Ro(i):(o={...i},ue(!o.pathname||!o.pathname.includes("?"),wm("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),wm("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),wm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?t[A]:"/"}let p=uw(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var ir=i=>i.join("/").replace(/\/\/+/g,"/"),fw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,mw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function pw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ZT=["POST","PUT","PATCH","DELETE"];new Set(ZT);var gw=["GET",...ZT];new Set(gw);var Io=H.createContext(null);Io.displayName="DataRouter";var Fh=H.createContext(null);Fh.displayName="DataRouterState";H.createContext(!1);var JT=H.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var yw=H.createContext(new Map);yw.displayName="Fetchers";var _w=H.createContext(null);_w.displayName="Await";var Ci=H.createContext(null);Ci.displayName="Navigation";var yu=H.createContext(null);yu.displayName="Location";var hr=H.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Sp=H.createContext(null);Sp.displayName="RouteError";function vw(i,{relative:t}={}){ue(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Ci),{hash:o,pathname:u,search:f}=vu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ir([n,u])),s.createHref({pathname:m,search:f,hash:o})}function _u(){return H.useContext(yu)!=null}function ra(){return ue(_u(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(yu).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eE(i){H.useContext(Ci).static||H.useLayoutEffect(i)}function Tw(){let{isDataRoute:i}=H.useContext(hr);return i?Mw():Ew()}function Ew(){ue(_u(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(Io),{basename:t,navigator:n}=H.useContext(Ci),{matches:s}=H.useContext(hr),{pathname:o}=ra(),u=JSON.stringify(XT(s)),f=H.useRef(!1);return eE(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(wi(f.current,tE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=WT(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:ir([t,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[t,n,u,o,i])}H.createContext(null);function vu(i,{relative:t}={}){let{matches:n}=H.useContext(hr),{pathname:s}=ra(),o=JSON.stringify(XT(n));return H.useMemo(()=>WT(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function bw(i,t){return nE(i,t)}function nE(i,t,n,s,o){ue(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(Ci),{matches:f}=H.useContext(hr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let O=A&&A.path||"";iE(g,!A||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let w=ra(),k;if(t){let O=typeof t=="string"?Ro(t):t;ue(T==="/"||O.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${O.pathname}" was given in the \`location\` prop.`),k=O}else k=w;let B=k.pathname||"/",G=B;if(T!=="/"){let O=T.replace(/^\//,"").split("/");G="/"+B.replace(/^\//,"").split("/").slice(O.length).join("/")}let P=KT(i,{pathname:G});wi(A||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),wi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Iw(P&&P.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:ir([T,u.encodeLocation?u.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?T:ir([T,u.encodeLocation?u.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),f,n,s,o);return t&&Q?H.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Q):Q}function Aw(){let i=Ow(),t=pw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:o},n):null,f)}var Sw=H.createElement(Aw,null),ww=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?H.createElement(hr.Provider,{value:this.props.routeContext},H.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rw({routeContext:i,match:t,children:n}){let s=H.useContext(Io);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(hr.Provider,{value:i},n)}function Iw(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let g=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ue(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let T=u[g];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=g),T.route.id){let{loaderData:A,errors:w}=n,k=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!w||w[T.route.id]===void 0);if(T.route.lazy||k){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,T,A)=>{let w,k=!1,B=null,G=null;n&&(w=f&&T.route.id?f[T.route.id]:void 0,B=T.route.errorElement||Sw,m&&(p<0&&A===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,G=null):p===A&&(k=!0,G=T.route.hydrateFallbackElement||null)));let P=t.concat(u.slice(0,A+1)),Q=()=>{let O;return w?O=B:k?O=G:T.route.Component?O=H.createElement(T.route.Component,null):T.route.element?O=T.route.element:O=g,H.createElement(Rw,{match:T,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:O})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?H.createElement(ww,{location:n.location,revalidation:n.revalidation,component:B,error:w,children:Q(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):Q()},null)}function wp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(i){let t=H.useContext(Io);return ue(t,wp(i)),t}function Dw(i){let t=H.useContext(Fh);return ue(t,wp(i)),t}function xw(i){let t=H.useContext(hr);return ue(t,wp(i)),t}function Rp(i){let t=xw(i),n=t.matches[t.matches.length-1];return ue(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Nw(){return Rp("useRouteId")}function Ow(){let i=H.useContext(Sp),t=Dw("useRouteError"),n=Rp("useRouteError");return i!==void 0?i:t.errors?.[n]}function Mw(){let{router:i}=Cw("useNavigate"),t=Rp("useNavigate"),n=H.useRef(!1);return eE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{wi(n.current,tE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Zv={};function iE(i,t,n){!t&&!Zv[i]&&(Zv[i]=!0,wi(!1,n))}H.memo(kw);function kw({routes:i,future:t,state:n,unstable_onError:s}){return nE(i,void 0,n,s,t)}function rE(i){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vw({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ue(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ro(n));let{pathname:p="/",search:g="",hash:T="",state:A=null,key:w="default"}=n,k=H.useMemo(()=>{let B=sr(p,f);return B==null?null:{location:{pathname:B,search:g,hash:T,state:A,key:w},navigationType:s}},[f,p,g,T,A,w,s]);return wi(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:H.createElement(Ci.Provider,{value:m},H.createElement(yu.Provider,{children:t,value:k}))}function Pw({children:i,location:t}){return bw(Gm(i),t)}function Gm(i,t=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...t,o];if(s.type===H.Fragment){n.push.apply(n,Gm(s.props.children,u));return}ue(s.type===rE,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Gm(s.props.children,u)),n.push(f)}),n}var uh="get",ch="application/x-www-form-urlencoded";function Gh(i){return i!=null&&typeof i.tagName=="string"}function Lw(i){return Gh(i)&&i.tagName.toLowerCase()==="button"}function Uw(i){return Gh(i)&&i.tagName.toLowerCase()==="form"}function zw(i){return Gh(i)&&i.tagName.toLowerCase()==="input"}function Bw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function qw(i,t){return i.button===0&&(!t||t==="_self")&&!Bw(i)}var eh=null;function jw(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(i){return i!=null&&!Hw.has(i)?(wi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):i}function Fw(i,t){let n,s,o,u,f;if(Uw(i)){let m=i.getAttribute("action");s=m?sr(m,t):null,n=i.getAttribute("method")||uh,o=Rm(i.getAttribute("enctype"))||ch,u=new FormData(i)}else if(Lw(i)||zw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?sr(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||uh,o=Rm(i.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||ch,u=new FormData(m,i),!jw()){let{name:g,type:T,value:A}=i;if(T==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Gh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,s=null,o=ch,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Gw(i,t,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&sr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function $w(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Qw(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await $w(u,n);return f.links?f.links():[]}return[]}));return Zw(s.flat(1).filter(Kw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jv(i,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Yw(i,t,{includeHydrateFallback:n}={}){return Xw(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Xw(i){return[...new Set(i)]}function Ww(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function Zw(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(Ww(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sE(){let i=H.useContext(Io);return Ip(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Jw(){let i=H.useContext(Fh);return Ip(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cp=H.createContext(void 0);Cp.displayName="FrameworkContext";function aE(){let i=H.useContext(Cp);return Ip(i,"You must render this element inside a <HydratedRouter> element"),i}function tR(i,t){let n=H.useContext(Cp),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:A}=t,w=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=Q=>{Q.forEach(O=>{f(O.isIntersecting)})},P=new IntersectionObserver(G,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[i]),H.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let k=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(m,k),onBlur:$l(p,B),onMouseEnter:$l(g,k),onMouseLeave:$l(T,B),onTouchStart:$l(A,k)}]:[!1,w,{}]}function $l(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function eR({page:i,...t}){let{router:n}=sE(),s=H.useMemo(()=>KT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(iR,{page:i,matches:s,...t}):null}function nR(i){let{manifest:t,routeModules:n}=aE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return Qw(i,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,n]),s}function iR({page:i,matches:t,...n}){let s=ra(),{manifest:o,routeModules:u}=aE(),{basename:f}=sE(),{loaderData:m,matches:p}=Jw(),g=H.useMemo(()=>Jv(i,t,p,o,s,"data"),[i,t,p,o,s]),T=H.useMemo(()=>Jv(i,t,p,o,s,"assets"),[i,t,p,o,s]),A=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,G=!1;if(t.forEach(Q=>{let O=o.routes[Q.route.id];!O||!O.hasLoader||(!g.some(Y=>Y.route.id===Q.route.id)&&Q.route.id in m&&u[Q.route.id]?.shouldRevalidate||O.hasClientLoader?G=!0:B.add(Q.route.id))}),B.size===0)return[];let P=Gw(i,f,"data");return G&&B.size>0&&P.searchParams.set("_routes",t.filter(Q=>B.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[P.pathname+P.search]},[f,m,s,o,g,t,i,u]),w=H.useMemo(()=>Yw(T,o),[T,o]),k=nR(T);return H.createElement(H.Fragment,null,A.map(B=>H.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),w.map(B=>H.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),k.map(({key:B,link:G})=>H.createElement("link",{key:B,nonce:n.nonce,...G})))}function rR(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.8.2")}catch{}function sR({basename:i,children:t,window:n}){let s=H.useRef();s.current==null&&(s.current=$S({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(Vw,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uE=H.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:A,...w},k){let{basename:B}=H.useContext(Ci),G=typeof g=="string"&&lE.test(g),P,Q=!1;if(typeof g=="string"&&G&&(P=g,oE))try{let I=new URL(window.location.href),N=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=sr(N.pathname,B);N.origin===I.origin&&V!=null?g=V+N.search+N.hash:Q=!0}catch{wi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=vw(g,{relative:o}),[Y,ot,lt]=tR(s,w),yt=uR(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:A});function R(I){t&&t(I),I.defaultPrevented||yt(I)}let S=H.createElement("a",{...w,...lt,href:P||O,onClick:Q||u?t:R,ref:rR(k,ot),target:p,"data-discover":!G&&n==="render"?"true":void 0});return Y&&!G?H.createElement(H.Fragment,null,S,H.createElement(eR,{page:O})):S});uE.displayName="Link";var aR=H.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let A=vu(f,{relative:g.relative}),w=ra(),k=H.useContext(Fh),{navigator:B,basename:G}=H.useContext(Ci),P=k!=null&&mR(A)&&m===!0,Q=B.encodeLocation?B.encodeLocation(A).pathname:A.pathname,O=w.pathname,Y=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(O=O.toLowerCase(),Y=Y?Y.toLowerCase():null,Q=Q.toLowerCase()),Y&&G&&(Y=sr(Y,G)||Y);const ot=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let lt=O===Q||!o&&O.startsWith(Q)&&O.charAt(ot)==="/",yt=Y!=null&&(Y===Q||!o&&Y.startsWith(Q)&&Y.charAt(Q.length)==="/"),R={isActive:lt,isPending:yt,isTransitioning:P},S=lt?t:void 0,I;typeof s=="function"?I=s(R):I=[s,lt?"active":null,yt?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(R):u;return H.createElement(uE,{...g,"aria-current":S,className:I,ref:T,style:N,to:f,viewTransition:m},typeof p=="function"?p(R):p)});aR.displayName="NavLink";var oR=H.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=uh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:A,...w},k)=>{let B=fR(),G=dR(m,{relative:g}),P=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&lE.test(m),O=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ot=Y.nativeEvent.submitter,lt=ot?.getAttribute("formmethod")||f;B(ot||Y.currentTarget,{fetcherKey:t,method:lt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:A})};return H.createElement("form",{ref:k,method:P,action:G,onSubmit:s?p:O,...w,"data-discover":!Q&&i==="render"?"true":void 0})});oR.displayName="Form";function lR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cE(i){let t=H.useContext(Io);return ue(t,lR(i)),t}function uR(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Tw(),p=ra(),g=vu(i,{relative:u});return H.useCallback(T=>{if(qw(T,t)){T.preventDefault();let A=n!==void 0?n:ru(p)===ru(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,i,o,u,f])}var cR=0,hR=()=>`__${String(++cR)}__`;function fR(){let{router:i}=cE("useSubmit"),{basename:t}=H.useContext(Ci),n=Nw();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Fw(s,t);if(o.navigate===!1){let T=o.fetcherKey||hR();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function dR(i,{relative:t}={}){let{basename:n}=H.useContext(Ci),s=H.useContext(hr);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vu(i||".",{relative:t})},f=ra();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ir([n,u.pathname])),ru(u)}function mR(i,{relative:t}={}){let n=H.useContext(JT);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cE("useViewTransitionState"),o=vu(i,{relative:t});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}function hE(i){var t,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(n=hE(i[t]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Ws(){for(var i,t,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(t=hE(i))&&(s&&(s+=" "),s+=t);return s}function pR(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}pR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Tu=i=>typeof i=="number"&&!isNaN(i),Zs=i=>typeof i=="string",ar=i=>typeof i=="function",gR=i=>Zs(i)||Tu(i),$m=i=>Zs(i)||ar(i)?i:null,yR=(i,t)=>i===!1||Tu(i)&&i>0?i:t,Km=i=>H.isValidElement(i)||Zs(i)||ar(i)||Tu(i);function _R(i,t,n=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function vR({enter:i,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:T,playToast:A}){let w=n?`${i}--${f}`:i,k=n?`${t}--${f}`:t,B=H.useRef(0);return H.useLayoutEffect(()=>{let G=g.current,P=w.split(" "),Q=O=>{O.target===g.current&&(A(),G.removeEventListener("animationend",Q),G.removeEventListener("animationcancel",Q),B.current===0&&O.type!=="animationcancel"&&G.classList.remove(...P))};G.classList.add(...P),G.addEventListener("animationend",Q),G.addEventListener("animationcancel",Q)},[]),H.useEffect(()=>{let G=g.current,P=()=>{G.removeEventListener("animationend",P),s?_R(G,p,o):p()};T||(m?P():(B.current=1,G.className+=` ${k}`,G.addEventListener("animationend",P)))},[T]),Qt.createElement(Qt.Fragment,null,u)}}function t0(i,t){return{content:fE(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function fE(i,t,n=!1){return H.isValidElement(i)&&!Zs(i.type)?H.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ar(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):i}function TR({closeToast:i,theme:t,ariaLabel:n="close"}){return Qt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":n},Qt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ER({delay:i,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:T}){let A=o||f&&m===0,w={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};f&&(w.transform=`scaleX(${m})`);let k=Ws("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${T}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),B=ar(u)?u({rtl:p,type:s,defaultClassName:k}):Ws(k,u),G={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return Qt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},Qt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${T} Toastify__progress-bar--${s}`}),Qt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:B,style:w,...G}))}var bR=1,dE=()=>`${bR++}`;function AR(i,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,T=O=>(g.add(O),()=>g.delete(O)),A=()=>{f=Array.from(p.values()),g.forEach(O=>O())},w=({containerId:O,toastId:Y,updateId:ot})=>{let lt=O?O!==i:i!==1,yt=p.has(Y)&&ot==null;return lt||yt},k=(O,Y)=>{p.forEach(ot=>{var lt;(Y==null||Y===ot.props.toastId)&&((lt=ot.toggle)==null||lt.call(ot,O))})},B=O=>{var Y,ot;(ot=(Y=O.props)==null?void 0:Y.onClose)==null||ot.call(Y,O.removalReason),O.isActive=!1},G=O=>{if(O==null)p.forEach(B);else{let Y=p.get(O);Y&&B(Y)}A()},P=()=>{o-=u.length,u=[]},Q=O=>{var Y,ot;let{toastId:lt,updateId:yt}=O.props,R=yt==null;O.staleId&&p.delete(O.staleId),O.isActive=!0,p.set(lt,O),A(),n(t0(O,R?"added":"updated")),R&&((ot=(Y=O.props).onOpen)==null||ot.call(Y))};return{id:i,props:m,observe:T,toggle:k,removeToast:G,toasts:p,clearQueue:P,buildToast:(O,Y)=>{if(w(Y))return;let{toastId:ot,updateId:lt,data:yt,staleId:R,delay:S}=Y,I=lt==null;I&&o++;let N={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Y).filter(([L,D])=>D!=null)),toastId:ot,updateId:lt,data:yt,isIn:!1,className:$m(Y.className||m.toastClassName),progressClassName:$m(Y.progressClassName||m.progressClassName),autoClose:Y.isLoading?!1:yR(Y.autoClose,m.autoClose),closeToast(L){p.get(ot).removalReason=L,G(ot)},deleteToast(){let L=p.get(ot);if(L!=null){if(n(t0(L,"removed")),p.delete(ot),o--,o<0&&(o=0),u.length>0){Q(u.shift());return}A()}}};N.closeButton=m.closeButton,Y.closeButton===!1||Km(Y.closeButton)?N.closeButton=Y.closeButton:Y.closeButton===!0&&(N.closeButton=Km(m.closeButton)?m.closeButton:!0);let V={content:O,props:N,staleId:R};m.limit&&m.limit>0&&o>m.limit&&I?u.push(V):Tu(S)?setTimeout(()=>{Q(V)},S):Q(V)},setProps(O){m=O},setToggle:(O,Y)=>{let ot=p.get(O);ot&&(ot.toggle=Y)},isToastActive:O=>{var Y;return(Y=p.get(O))==null?void 0:Y.isActive},getSnapshot:()=>f}}var ln=new Map,su=[],Qm=new Set,SR=i=>Qm.forEach(t=>t(i)),mE=()=>ln.size>0;function wR(){su.forEach(i=>gE(i.content,i.options)),su=[]}var RR=(i,{containerId:t})=>{var n;return(n=ln.get(t||1))==null?void 0:n.toasts.get(i)};function pE(i,t){var n;if(t)return!!((n=ln.get(t))!=null&&n.isToastActive(i));let s=!1;return ln.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function IR(i){if(!mE()){su=su.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||gR(i))ln.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=ln.get(i.containerId);t?t.removeToast(i.id):ln.forEach(n=>{n.removeToast(i.id)})}}var CR=(i={})=>{ln.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function gE(i,t){Km(i)&&(mE()||su.push({content:i,options:t}),ln.forEach(n=>{n.buildToast(i,t)}))}function DR(i){var t;(t=ln.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function yE(i,t){ln.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(i,t?.id)})}function xR(i){let t=i.containerId||1;return{subscribe(n){let s=AR(t,i,SR);ln.set(t,s);let o=s.observe(n);return wR(),()=>{o(),ln.delete(t)}},setProps(n){var s;(s=ln.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=ln.get(t))==null?void 0:n.getSnapshot()}}}function NR(i){return Qm.add(i),()=>{Qm.delete(i)}}function OR(i){return i&&(Zs(i.toastId)||Tu(i.toastId))?i.toastId:dE()}function Eu(i,t){return gE(i,t),t.toastId}function $h(i,t){return{...t,type:t&&t.type||i,toastId:OR(t)}}function Kh(i){return(t,n)=>Eu(t,$h(i,n))}function Ot(i,t){return Eu(i,$h("default",t))}Ot.loading=(i,t)=>Eu(i,$h("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function MR(i,{pending:t,error:n,success:s},o){let u;t&&(u=Zs(t)?Ot.loading(t,o):Ot.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,T,A)=>{if(T==null){Ot.dismiss(u);return}let w={type:g,...f,...o,data:A},k=Zs(T)?{render:T}:T;return u?Ot.update(u,{...w,...k}):Ot(k.render,{...w,...k}),A},p=ar(i)?i():i;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Ot.promise=MR;Ot.success=Kh("success");Ot.info=Kh("info");Ot.error=Kh("error");Ot.warning=Kh("warning");Ot.warn=Ot.warning;Ot.dark=(i,t)=>Eu(i,$h("default",{theme:"dark",...t}));function kR(i){IR(i)}Ot.dismiss=kR;Ot.clearWaitingQueue=CR;Ot.isActive=pE;Ot.update=(i,t={})=>{let n=RR(i,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||i,updateId:dE()};u.toastId!==i&&(u.staleId=i);let f=u.render||o;delete u.render,Eu(f,u)}};Ot.done=i=>{Ot.update(i,{progress:1})};Ot.onChange=NR;Ot.play=i=>yE(!0,i);Ot.pause=i=>yE(!1,i);function VR(i){var t;let{subscribe:n,getSnapshot:s,setProps:o}=H.useRef(xR(i)).current;o(i);let u=(t=H.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:T}=g.props;p.has(T)||p.set(T,[]),p.get(T).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:pE,count:u?.length}}function PR(i){let[t,n]=H.useState(!1),[s,o]=H.useState(!1),u=H.useRef(null),f=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:T,closeOnClick:A}=i;DR({id:i.toastId,containerId:i.containerId,fn:n}),H.useEffect(()=>{if(i.pauseOnFocusLoss)return w(),()=>{k()}},[i.pauseOnFocusLoss]);function w(){document.hasFocus()||Q(),window.addEventListener("focus",P),window.addEventListener("blur",Q)}function k(){window.removeEventListener("focus",P),window.removeEventListener("blur",Q)}function B(R){if(i.draggable===!0||i.draggable===R.pointerType){O();let S=u.current;f.canCloseOnClick=!0,f.canDrag=!0,S.style.transition="none",i.draggableDirection==="x"?(f.start=R.clientX,f.removalDistance=S.offsetWidth*(i.draggablePercent/100)):(f.start=R.clientY,f.removalDistance=S.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function G(R){let{top:S,bottom:I,left:N,right:V}=u.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&i.pauseOnHover&&R.clientX>=N&&R.clientX<=V&&R.clientY>=S&&R.clientY<=I?Q():P()}function P(){n(!0)}function Q(){n(!1)}function O(){f.didMove=!1,document.addEventListener("pointermove",ot),document.addEventListener("pointerup",lt)}function Y(){document.removeEventListener("pointermove",ot),document.removeEventListener("pointerup",lt)}function ot(R){let S=u.current;if(f.canDrag&&S){f.didMove=!0,t&&Q(),i.draggableDirection==="x"?f.delta=R.clientX-f.start:f.delta=R.clientY-f.start,f.start!==R.clientX&&(f.canCloseOnClick=!1);let I=i.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;S.style.transform=`translate3d(${I},0)`,S.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function lt(){Y();let R=u.current;if(f.canDrag&&f.didMove&&R){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let yt={onPointerDown:B,onPointerUp:G};return m&&p&&(yt.onMouseEnter=Q,i.stacked||(yt.onMouseLeave=P)),A&&(yt.onClick=R=>{T&&T(R),f.canCloseOnClick&&g(!0)}),{playToast:P,pauseToast:Q,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:yt}}var LR=typeof window<"u"?H.useLayoutEffect:H.useEffect,Qh=({theme:i,type:t,isLoading:n,...s})=>Qt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function UR(i){return Qt.createElement(Qh,{...i},Qt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function zR(i){return Qt.createElement(Qh,{...i},Qt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function BR(i){return Qt.createElement(Qh,{...i},Qt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function qR(i){return Qt.createElement(Qh,{...i},Qt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function jR(){return Qt.createElement("div",{className:"Toastify__spinner"})}var Ym={info:zR,warning:UR,success:BR,error:qR,spinner:jR},HR=i=>i in Ym;function FR({theme:i,type:t,isLoading:n,icon:s}){let o=null,u={theme:i,type:t};return s===!1||(ar(s)?o=s({...u,isLoading:n}):H.isValidElement(s)?o=H.cloneElement(s,u):n?o=Ym.spinner():HR(t)&&(o=Ym[t](u))),o}var GR=i=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=PR(i),{closeButton:f,children:m,autoClose:p,onClick:g,type:T,hideProgressBar:A,closeToast:w,transition:k,position:B,className:G,style:P,progressClassName:Q,updateId:O,role:Y,progress:ot,rtl:lt,toastId:yt,deleteToast:R,isIn:S,isLoading:I,closeOnClick:N,theme:V,ariaLabel:L}=i,D=Ws("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${T}`,{"Toastify__toast--rtl":lt},{"Toastify__toast--close-on-click":N}),we=ar(G)?G({rtl:lt,position:B,type:T,defaultClassName:D}):Ws(D,G),ie=FR(i),X=!!ot||!p,at={closeToast:w,type:T,theme:V},dt=null;return f===!1||(ar(f)?dt=f(at):H.isValidElement(f)?dt=H.cloneElement(f,at):dt=TR(at)),Qt.createElement(k,{isIn:S,done:R,position:B,preventExitTransition:n,nodeRef:s,playToast:u},Qt.createElement("div",{id:yt,tabIndex:0,onClick:g,"data-in":S,className:we,...o,style:P,ref:s,...S&&{role:Y,"aria-label":L}},ie!=null&&Qt.createElement("div",{className:Ws("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},ie),fE(m,i,!t),dt,!i.customProgressBar&&Qt.createElement(ER,{...O&&!X?{key:`p-${O}`}:{},rtl:lt,theme:V,delay:p,isRunning:t,isIn:S,closeToast:w,hide:A,type:T,className:Q,controlledProgress:X,progress:ot||0})))},$R=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),KR=vR($R("bounce",!0)),QR={position:"top-right",transition:KR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function YR(i){let t={...QR,...i},n=i.stacked,[s,o]=H.useState(!0),u=H.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=VR(t),{className:g,style:T,rtl:A,containerId:w,hotKeys:k}=t;function B(P){let Q=Ws("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":A});return ar(g)?g({position:P,rtl:A,defaultClassName:Q}):Ws(Q,$m(g))}function G(){n&&(o(!0),Ot.play())}return LR(()=>{var P;if(n){let Q=u.current.querySelectorAll('[data-in="true"]'),O=12,Y=(P=t.position)==null?void 0:P.includes("top"),ot=0,lt=0;Array.from(Q).reverse().forEach((yt,R)=>{let S=yt;S.classList.add("Toastify__toast--stacked"),R>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=Y?"top":"bot");let I=ot*(s?.2:1)+(s?0:O*R);S.style.setProperty("--y",`${Y?I:I*-1}px`),S.style.setProperty("--g",`${O}`),S.style.setProperty("--s",`${1-(s?lt:0)}`),ot+=S.offsetHeight,lt+=.025})}},[s,p,n]),H.useEffect(()=>{function P(Q){var O;let Y=u.current;k(Q)&&((O=Y.querySelector('[tabIndex="0"]'))==null||O.focus(),o(!1),Ot.pause()),Q.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),Ot.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[k]),Qt.createElement("section",{ref:u,className:"Toastify",id:w,onMouseEnter:()=>{n&&(o(!1),Ot.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((P,Q)=>{let O=Q.length?{...T}:{...T,pointerEvents:"none"};return Qt.createElement("div",{tabIndex:-1,className:B(P),"data-stacked":n,style:O,key:`c-${P}`},Q.map(({content:Y,props:ot})=>Qt.createElement(GR,{...ot,stacked:n,collapseAll:G,isIn:m(ot.toastId,ot.containerId),key:`t-${ot.key}`},Y)))}))}const XR=()=>{};var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},WR=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(w=64)),s.push(n[T],n[A],n[w],n[k])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(_E(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):WR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new ZR;const w=u<<2|m>>4;if(s.push(w),g!==64){const k=m<<4&240|g>>2;if(s.push(k),A!==64){const B=g<<6&192|A;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(i){const t=_E(i);return vE.encodeByteArray(t,!0)},bh=function(i){return JR(i).replace(/\./g,"")},TE=function(i){try{return vE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=()=>tI().__FIREBASE_DEFAULTS__,nI=()=>{if(typeof process>"u"||typeof e0>"u")return;const i=e0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},iI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&TE(i[1]);return t&&JSON.parse(t)},Yh=()=>{try{return XR()||eI()||nI()||iI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},EE=i=>Yh()?.emulatorHosts?.[i],rI=i=>{const t=EE(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},bE=()=>Yh()?.config,AE=i=>Yh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const Zl={};function oI(){const i={prod:[],emulator:[]};for(const t of Object.keys(Zl))Zl[t]?i.emulator.push(t):i.prod.push(t);return i}function lI(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let n0=!1;function wE(i,t){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Zl[i]===t||Zl[i]||n0)return;Zl[i]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=oI().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{n0=!0,f()},w}function T(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=lI(s),k=n("text"),B=document.getElementById(k)||document.createElement("span"),G=n("learnmore"),P=document.getElementById(G)||document.createElement("a"),Q=n("preprendIcon"),O=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;m(Y),T(P,G);const ot=g();p(O,Q),Y.append(O,B,P,ot),document.body.appendChild(Y)}u?(B.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function cI(){const i=Yh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dI(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function mI(){return!cI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IE(){try{return typeof indexedDB=="object"}catch{return!1}}function CE(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function pI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="FirebaseError";class Jn extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=gI,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?yI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Jn(o,m,s)}}function yI(i,t){return i.replace(_I,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const _I=/\{\$([^}]+)}/g;function vI(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ns(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(i0(u)&&i0(f)){if(!ns(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function i0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Kl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ql(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function TI(i,t){const n=new EI(i,t);return n.subscribe.bind(n)}class EI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bI(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1e3,SI=2,wI=14400*1e3,RI=.5;function r0(i,t=AI,n=SI){const s=t*Math.pow(n,i),o=Math.round(RI*s*(Math.random()-.5)*2);return Math.min(wI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(i){return i&&i._delegate?i._delegate:i}class Xn{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new sI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DI(t))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qs){return this.instances.has(t)}getOptions(t=Qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Qs){return this.component?this.component.multipleInstances?t:Qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CI(i){return i===Qs?void 0:i}function DI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new II(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Mt||(Mt={}));const NI={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},OI=Mt.INFO,MI={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},kI=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=MI[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xh{constructor(t){this.name=t,this._logLevel=OI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const VI=(i,t)=>t.some(n=>i instanceof n);let s0,a0;function PI(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,Xm=new WeakMap,xE=new WeakMap,Cm=new WeakMap,Dp=new WeakMap;function UI(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Xr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&DE.set(n,i)}).catch(()=>{}),Dp.set(t,i),t}function zI(i){if(Xm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Xm.set(i,t)}let Wm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Xm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||xE.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function BI(i){Wm=i(Wm)}function qI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Dm(this),t,...n);return xE.set(s,t.sort?t.sort():[t]),Xr(s)}:LI().includes(i)?function(...t){return i.apply(Dm(this),t),Xr(DE.get(this))}:function(...t){return Xr(i.apply(Dm(this),t))}}function jI(i){return typeof i=="function"?qI(i):(i instanceof IDBTransaction&&zI(i),VI(i,PI())?new Proxy(i,Wm):i)}function Xr(i){if(i instanceof IDBRequest)return UI(i);if(Cm.has(i))return Cm.get(i);const t=jI(i);return t!==i&&(Cm.set(i,t),Dp.set(t,i)),t}const Dm=i=>Dp.get(i);function NE(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=Xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const HI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],xm=new Map;function o0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(xm.get(t))return xm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=FI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||HI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return xm.set(t,u),u}BI(i=>({...i,get:(t,n,s)=>o0(t,n)||i.get(t,n,s),has:(t,n)=>!!o0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($I(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $I(i){return i.getComponent()?.type==="VERSION"}const Zm="@firebase/app",l0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Xh("@firebase/app"),KI="@firebase/app-compat",QI="@firebase/analytics-compat",YI="@firebase/analytics",XI="@firebase/app-check-compat",WI="@firebase/app-check",ZI="@firebase/auth",JI="@firebase/auth-compat",tC="@firebase/database",eC="@firebase/data-connect",nC="@firebase/database-compat",iC="@firebase/functions",rC="@firebase/functions-compat",sC="@firebase/installations",aC="@firebase/installations-compat",oC="@firebase/messaging",lC="@firebase/messaging-compat",uC="@firebase/performance",cC="@firebase/performance-compat",hC="@firebase/remote-config",fC="@firebase/remote-config-compat",dC="@firebase/storage",mC="@firebase/storage-compat",pC="@firebase/firestore",gC="@firebase/ai",yC="@firebase/firestore-compat",_C="firebase",vC="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",TC={[Zm]:"fire-core",[KI]:"fire-core-compat",[YI]:"fire-analytics",[QI]:"fire-analytics-compat",[WI]:"fire-app-check",[XI]:"fire-app-check-compat",[ZI]:"fire-auth",[JI]:"fire-auth-compat",[tC]:"fire-rtdb",[eC]:"fire-data-connect",[nC]:"fire-rtdb-compat",[iC]:"fire-fn",[rC]:"fire-fn-compat",[sC]:"fire-iid",[aC]:"fire-iid-compat",[oC]:"fire-fcm",[lC]:"fire-fcm-compat",[uC]:"fire-perf",[cC]:"fire-perf-compat",[hC]:"fire-rc",[fC]:"fire-rc-compat",[dC]:"fire-gcs",[mC]:"fire-gcs-compat",[pC]:"fire-fst",[yC]:"fire-fst-compat",[gC]:"fire-vertex","fire-js":"fire-js",[_C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,EC=new Map,tp=new Map;function u0(i,t){try{i.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ri(i){const t=i.name;if(tp.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;tp.set(t,i);for(const n of Ah.values())u0(n,i);for(const n of EC.values())u0(n,i);return!0}function aa(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Kn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new sa("app","Firebase",bC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=vC;function OE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:Jm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(n||(n=bE()),!n)throw Wr.create("no-options");const u=Ah.get(o);if(u){if(ns(n,u.options)&&ns(s,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const f=new xI(o);for(const p of tp.values())f.addComponent(p);const m=new AC(n,s,f);return Ah.set(o,m),m}function xp(i=Jm){const t=Ah.get(i);if(!t&&i===Jm&&bE())return OE();if(!t)throw Wr.create("no-app",{appName:i});return t}function Bn(i,t,n){let s=TC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(f.join(" "));return}Ri(new Xn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebase-heartbeat-database",wC=1,au="firebase-heartbeat-store";let Nm=null;function ME(){return Nm||(Nm=NE(SC,wC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),Nm}async function RC(i){try{const n=(await ME()).transaction(au),s=await n.objectStore(au).get(kE(i));return await n.done,s}catch(t){if(t instanceof Jn)or.warn(t.message);else{const n=Wr.create("idb-get",{originalErrorMessage:t?.message});or.warn(n.message)}}}async function c0(i,t){try{const s=(await ME()).transaction(au,"readwrite");await s.objectStore(au).put(t,kE(i)),await s.done}catch(n){if(n instanceof Jn)or.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n?.message});or.warn(s.message)}}}function kE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1024,CC=30;class DC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>CC){const o=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){or.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h0(),{heartbeatsToSend:n,unsentEntries:s}=xC(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return or.warn(t),""}}}function h0(){return new Date().toISOString().substring(0,10)}function xC(i,t=IC){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),f0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IE()?CE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function f0(i){return bh(JSON.stringify({version:2,heartbeats:i})).length}function OC(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){Ri(new Xn("platform-logger",t=>new GI(t),"PRIVATE")),Ri(new Xn("heartbeat",t=>new DC(t),"PRIVATE")),Bn(Zm,l0,i),Bn(Zm,l0,"esm2020"),Bn("fire-js","")}MC("");var kC="firebase",VC="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(kC,VC,"app");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,VE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,S){function I(){}I.prototype=S.prototype,R.D=S.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(N,V,L){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return S.prototype[V].apply(N,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)N[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=R.g[0],I=R.g[1],V=R.g[2];var L=R.g[3],D=S+(L^I&(V^L))+N[0]+3614090360&4294967295;S=I+(D<<7&4294967295|D>>>25),D=L+(V^S&(I^V))+N[1]+3905402710&4294967295,L=S+(D<<12&4294967295|D>>>20),D=V+(I^L&(S^I))+N[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(S^V&(L^S))+N[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(L^I&(V^L))+N[4]+4118548399&4294967295,S=I+(D<<7&4294967295|D>>>25),D=L+(V^S&(I^V))+N[5]+1200080426&4294967295,L=S+(D<<12&4294967295|D>>>20),D=V+(I^L&(S^I))+N[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(S^V&(L^S))+N[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(L^I&(V^L))+N[8]+1770035416&4294967295,S=I+(D<<7&4294967295|D>>>25),D=L+(V^S&(I^V))+N[9]+2336552879&4294967295,L=S+(D<<12&4294967295|D>>>20),D=V+(I^L&(S^I))+N[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(S^V&(L^S))+N[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(L^I&(V^L))+N[12]+1804603682&4294967295,S=I+(D<<7&4294967295|D>>>25),D=L+(V^S&(I^V))+N[13]+4254626195&4294967295,L=S+(D<<12&4294967295|D>>>20),D=V+(I^L&(S^I))+N[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=I+(S^V&(L^S))+N[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(V^L&(I^V))+N[1]+4129170786&4294967295,S=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(S^I))+N[6]+3225465664&4294967295,L=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(L^S))+N[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^S&(V^L))+N[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(V^L&(I^V))+N[5]+3593408605&4294967295,S=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(S^I))+N[10]+38016083&4294967295,L=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(L^S))+N[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^S&(V^L))+N[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(V^L&(I^V))+N[9]+568446438&4294967295,S=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(S^I))+N[14]+3275163606&4294967295,L=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(L^S))+N[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^S&(V^L))+N[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(V^L&(I^V))+N[13]+2850285829&4294967295,S=I+(D<<5&4294967295|D>>>27),D=L+(I^V&(S^I))+N[2]+4243563512&4294967295,L=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(L^S))+N[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=I+(L^S&(V^L))+N[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(I^V^L)+N[5]+4294588738&4294967295,S=I+(D<<4&4294967295|D>>>28),D=L+(S^I^V)+N[8]+2272392833&4294967295,L=S+(D<<11&4294967295|D>>>21),D=V+(L^S^I)+N[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^S)+N[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(I^V^L)+N[1]+2763975236&4294967295,S=I+(D<<4&4294967295|D>>>28),D=L+(S^I^V)+N[4]+1272893353&4294967295,L=S+(D<<11&4294967295|D>>>21),D=V+(L^S^I)+N[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^S)+N[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(I^V^L)+N[13]+681279174&4294967295,S=I+(D<<4&4294967295|D>>>28),D=L+(S^I^V)+N[0]+3936430074&4294967295,L=S+(D<<11&4294967295|D>>>21),D=V+(L^S^I)+N[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^S)+N[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(I^V^L)+N[9]+3654602809&4294967295,S=I+(D<<4&4294967295|D>>>28),D=L+(S^I^V)+N[12]+3873151461&4294967295,L=S+(D<<11&4294967295|D>>>21),D=V+(L^S^I)+N[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=I+(V^L^S)+N[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(V^(I|~L))+N[0]+4096336452&4294967295,S=I+(D<<6&4294967295|D>>>26),D=L+(I^(S|~V))+N[7]+1126891415&4294967295,L=S+(D<<10&4294967295|D>>>22),D=V+(S^(L|~I))+N[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~S))+N[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=S+(V^(I|~L))+N[12]+1700485571&4294967295,S=I+(D<<6&4294967295|D>>>26),D=L+(I^(S|~V))+N[3]+2399980690&4294967295,L=S+(D<<10&4294967295|D>>>22),D=V+(S^(L|~I))+N[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~S))+N[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=S+(V^(I|~L))+N[8]+1873313359&4294967295,S=I+(D<<6&4294967295|D>>>26),D=L+(I^(S|~V))+N[15]+4264355552&4294967295,L=S+(D<<10&4294967295|D>>>22),D=V+(S^(L|~I))+N[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~S))+N[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=S+(V^(I|~L))+N[4]+4149444226&4294967295,S=I+(D<<6&4294967295|D>>>26),D=L+(I^(S|~V))+N[11]+3174756917&4294967295,L=S+(D<<10&4294967295|D>>>22),D=V+(S^(L|~I))+N[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=I+(L^(V|~S))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.u=function(R,S){S===void 0&&(S=R.length);for(var I=S-this.blockSize,N=this.B,V=this.h,L=0;L<S;){if(V==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<S;)if(N[V++]=R.charCodeAt(L++),V==this.blockSize){o(this,N),V=0;break}}else for(;L<S;)if(N[V++]=R[L++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;var I=8*this.o;for(S=R.length-8;S<R.length;++S)R[S]=I&255,I/=256;for(this.u(R),R=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)R[I++]=this.g[S]>>>N&255;return R};function u(R,S){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=S(R)}function f(R,S){this.h=S;for(var I=[],N=!0,V=R.length-1;0<=V;V--){var L=R[V]|0;N&&L==S||(I[V]=L,N=!1)}this.g=I}var m={};function p(R){return-128<=R&&128>R?u(R,function(S){return new f([S|0],0>S?-1:0)}):new f([R|0],0>R?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return A;if(0>R)return P(g(-R));for(var S=[],I=1,N=0;R>=I;N++)S[N]=R/I|0,I*=4294967296;return new f(S,0)}function T(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return P(T(R.substring(1),S));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),N=A,V=0;V<R.length;V+=8){var L=Math.min(8,R.length-V),D=parseInt(R.substring(V,V+L),S);8>L?(L=g(Math.pow(S,L)),N=N.j(L).add(g(D))):(N=N.j(I),N=N.add(g(D)))}return N}var A=p(0),w=p(1),k=p(16777216);i=f.prototype,i.m=function(){if(G(this))return-P(this).m();for(var R=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);R+=(0<=N?N:4294967296+N)*S,S*=4294967296}return R},i.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(B(this))return"0";if(G(this))return"-"+P(this).toString(R);for(var S=g(Math.pow(R,6)),I=this,N="";;){var V=ot(I,S).g;I=Q(I,V.j(S));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=V,B(I))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},i.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function B(R){if(R.h!=0)return!1;for(var S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function G(R){return R.h==-1}i.l=function(R){return R=Q(this,R),G(R)?-1:B(R)?0:1};function P(R){for(var S=R.g.length,I=[],N=0;N<S;N++)I[N]=~R.g[N];return new f(I,~R.h).add(w)}i.abs=function(){return G(this)?P(this):this},i.add=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],N=0,V=0;V<=S;V++){var L=N+(this.i(V)&65535)+(R.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);N=D>>>16,L&=65535,D&=65535,I[V]=D<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Q(R,S){return R.add(P(S))}i.j=function(R){if(B(this)||B(R))return A;if(G(this))return G(R)?P(this).j(P(R)):P(P(this).j(R));if(G(R))return P(this.j(P(R)));if(0>this.l(k)&&0>R.l(k))return g(this.m()*R.m());for(var S=this.g.length+R.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<R.g.length;V++){var L=this.i(N)>>>16,D=this.i(N)&65535,we=R.i(V)>>>16,ie=R.i(V)&65535;I[2*N+2*V]+=D*ie,O(I,2*N+2*V),I[2*N+2*V+1]+=L*ie,O(I,2*N+2*V+1),I[2*N+2*V+1]+=D*we,O(I,2*N+2*V+1),I[2*N+2*V+2]+=L*we,O(I,2*N+2*V+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new f(I,0)};function O(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function Y(R,S){this.g=R,this.h=S}function ot(R,S){if(B(S))throw Error("division by zero");if(B(R))return new Y(A,A);if(G(R))return S=ot(P(R),S),new Y(P(S.g),P(S.h));if(G(S))return S=ot(R,P(S)),new Y(P(S.g),S.h);if(30<R.g.length){if(G(R)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,N=S;0>=N.l(R);)I=lt(I),N=lt(N);var V=yt(I,1),L=yt(N,1);for(N=yt(N,2),I=yt(I,2);!B(N);){var D=L.add(N);0>=D.l(R)&&(V=V.add(I),L=D),N=yt(N,1),I=yt(I,1)}return S=Q(R,V.j(S)),new Y(V,S)}for(V=A;0<=R.l(S);){for(I=Math.max(1,Math.floor(R.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(I),D=L.j(S);G(D)||0<D.l(R);)I-=N,L=g(I),D=L.j(S);B(L)&&(L=w),V=V.add(L),R=Q(R,D)}return new Y(V,R)}i.A=function(R){return ot(this,R).h},i.and=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&R.i(N);return new f(I,this.h&R.h)},i.or=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|R.i(N);return new f(I,this.h|R.h)},i.xor=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^R.i(N);return new f(I,this.h^R.h)};function lt(R){for(var S=R.g.length+1,I=[],N=0;N<S;N++)I[N]=R.i(N)<<1|R.i(N-1)>>>31;return new f(I,R.h)}function yt(R,S){var I=S>>5;S%=32;for(var N=R.g.length-I,V=[],L=0;L<N;L++)V[L]=0<S?R.i(L+I)>>>S|R.i(L+I+1)<<32-S:R.i(L+I);return new f(V,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,VE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Zr=f}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PE,Yl,LE,hh,ep,UE,zE,BE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break t;_=_[z]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,w.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function B(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,K){for(var st=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)st[Pt-2]=arguments[Pt];return y.prototype[z].apply(b,st)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,K=b.length||0;c.length=z+K;for(let st=0;st<K;st++)c[z+st]=b[st]}else c.push(b)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function O(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var lt=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function yt(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function R(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function D(){var c=qt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,_){const b=ie.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,qt=new we,x=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(it)}};var it=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=ie;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}dt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function Ct(c,y){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{ot(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}B(Ct,rt);var At={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ee=0;function ti(c,y,_,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=z,this.key=++ee,this.da=this.fa=!1}function dr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Di(c){this.src=c,this.g={},this.h=0}Di.prototype.add=function(c,y,_,b,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var st=hs(c,y,b,z);return-1<st?(y=c[st],_||(y.fa=!1)):(y=new ti(y,this.src,K,!!b,z),y.fa=_,c.push(y)),y};function cs(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(b,z,1),K&&(dr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function hs(c,y,_,b){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==b)return z}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),Po={};function Nu(c,y,_,b,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Nu(c,y[K],_,b,z);return null}return _=Ou(_),c&&c[Oe]?c.K(y,_,g(b)?!!b.capture:!1,z):wn(c,y,_,!1,b,z)}function wn(c,y,_,b,z,K){if(!y)throw Error("Invalid event type");var st=g(z)?!!z.capture:!!z,Pt=ma(c);if(Pt||(c[fs]=Pt=new Di(c)),_=Pt.add(y,_,b,st,K),_.proxy)return _;if(b=vf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)gt||(z=st),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(ds(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vf(){function c(_){return y.call(c.src,c.listener,_)}const y=Tf;return c}function Lo(c,y,_,b,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Lo(c,y[K],_,b,z);else b=g(b)?!!b.capture:!!b,_=Ou(_),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=hs(K,_,b,z),-1<_&&(dr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=ma(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hs(y,_,b,z)),(_=-1<c?y[c]:null)&&da(_))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])cs(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ds(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ma(y))?(cs(_,c),_.h==0&&(_.src=null,y[fs]=null)):dr(c)}}}function ds(c){return c in Po?Po[c]:Po[c]="on"+c}function Tf(c,y){if(c.da)c=!0;else{y=new Ct(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&da(c),c=_.call(b,y)}return c}function ma(c){return c=c[fs],c instanceof Di?c:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ou(c){return typeof c=="function"?c:(c[Uo]||(c[Uo]=function(y){return c.handleEvent(y)}),c[Uo])}function he(){ct.call(this),this.i=new Di(this),this.M=this,this.F=null}B(he,ct),he.prototype[Oe]=!0,he.prototype.removeEventListener=function(c,y,_,b){Lo(this,c,y,_,b)};function Gt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new rt(y,c);else if(y instanceof rt)y.target=y.target||c;else{var z=y;y=new rt(b,c),N(y,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var st=y.g=_[K];z=pn(st,b,!0,y)&&z}if(st=y.g=c,z=pn(st,b,!0,y)&&z,z=pn(st,b,!1,y)&&z,_)for(K=0;K<_.length;K++)st=y.g=_[K],z=pn(st,b,!1,y)&&z}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)dr(_[b]);delete c.g[y],c.h--}}this.F=null},he.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},he.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function pn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var st=y[K];if(st&&!st.da&&st.capture==_){var Pt=st.listener,Ie=st.ha||st.src;st.fa&&cs(c.i,st),z=Pt.call(Ie,b)!==!1&&z}}return z&&!b.defaultPrevented}function Ye(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Mu(c){c.g=Ye(()=>{c.g=null,c.i&&(c.i=!1,Mu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends ct{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){ct.call(this),this.h=c,this.g={}}B(ms,ct);var ps=[];function gs(c){yt(c.g,function(y,_){this.g.hasOwnProperty(_)&&da(y)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),gs(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,pa=m.JSON.parse,ys=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function zo(){}zo.prototype.h=null;function Bo(c){return c.h||(c.h=c.i())}function qo(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){rt.call(this,"d")}B(Ni,rt);function jo(){rt.call(this,"c")}B(jo,rt);var ei={},Ho=null;function mr(){return Ho=Ho||new he}ei.La="serverreachability";function ga(c){rt.call(this,ei.La,c)}B(ga,rt);function pr(c){const y=mr();Gt(y,new ga(y))}ei.STAT_EVENT="statevent";function ku(c,y){rt.call(this,ei.STAT_EVENT,c),this.stat=y}B(ku,rt);function se(c){const y=mr();Gt(y,new ku(y,c))}ei.Ma="timingevent";function Re(c,y){rt.call(this,ei.Ma,c),this.size=y}B(Re,rt);function _e(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Fo(c,y,_,b,z,K){c.info(function(){if(c.g)if(K)for(var st="",Pt=K.split("&"),Ie=0;Ie<Pt.length;Ie++){var Lt=Pt[Ie].split("=");if(1<Lt.length){var ke=Lt[0];Lt=Lt[1];var Ce=ke.split("_");st=2<=Ce.length&&Ce[1]=="type"?st+(ke+"="+Lt+"&"):st+(ke+"=redacted&")}}else st=null;else st=K;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+_+`
`+st})}function bf(c,y,_,b,z,K,st){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+st})}function gr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_s(c,_)+(b?" "+b:"")})}function Vu(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function _s(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return qn(_)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ii(){}B(ii,zo),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ni=new ii;function rn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Go={},ya={};function jn(c,y,_){c.L=1,c.v=As(gn(y)),c.m=_,c.P=!0,Mi(c,null)}function Mi(c,y){c.F=Date.now(),vs(c),c.A=gn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Wo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new me,c.g=Wu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ef(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ps[0]=z.toString()),z=ps);for(var K=0;K<z.length;K++){var st=Nu(_,z[K],b||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pr(),Fo(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)t:{const Ce=xn(this.g);var y=this.g.Ba();const qi=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||Hu(this.g)))){this.J||Ce!=4||y==7||(y==8||0>=qi?pr(3):pr(2)),_r(this);var _=this.g.Z();this.X=_;e:if(Pu(this)){var b=Hu(this.g);c="";var z=b.length,K=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ri(this);var st="";break e}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(K&&y==z-1)});b.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,bf(this.i,this.u,this.A,this.l,this.R,Ce,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ie=this.g;if((Pt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Pt)){var Lt=Pt;break e}}Lt=null}if(_=Lt)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,_);else{this.o=!1,this.s=3,se(12),qe(this),ri(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<st.length;)if(je=Lu(this,st),je==ya){Ce==4&&(this.s=4,se(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(je==Go){this.s=4,se(15),gr(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,je,null),Ts(this,je);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||st.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,st,"[Invalid Chunked Response]"),qe(this),ri(this);else if(0<st.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Ns(ke),ke.M=!0,se(11))}}else gr(this.i,this.l,st,null),Ts(this,st);Ce==4&&qe(this),this.o&&!this.J&&(Ce==4?Qu(this.j,this):(this.o=!1,vs(this)))}else If(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),qe(this),ri(this)}}}catch{}finally{}};function Pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?ya:(_=Number(y.substring(_,b)),isNaN(_)?Go:(b+=1,b+_>y.length?ya:(y=y.slice(b,b+_),c.C=b+_,y)))}rn.prototype.cancel=function(){this.J=!0,qe(this)};function vs(c){c.S=Date.now()+c.I,Uu(c,c.I)}function Uu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_e(w(c.ba,c),y)}function _r(c){c.B&&(m.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vu(this.i,this.A),this.L!=2&&(pr(),se(17)),qe(this),this.s=2,ri(this)):Uu(this,this.S-c)};function ri(c){c.j.G==0||c.J||Qu(c.j,c)}function qe(c){_r(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ts(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||$o(_.h,c))){if(!c.K&&$o(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Da(_),Ia(_);else break t;nl(_),se(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(w(_.Za,_),6e3));if(1>=va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((c.K||_.g==c)&&Da(_),!O(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Lt=z[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const ke=Lt[3];ke!=null&&(_.la=ke,_.j.info("VER="+_.la));const Ce=Lt[4];Ce!=null&&(_.Aa=Ce,_.j.info("SVER="+_.Aa));const qi=Lt[5];qi!=null&&typeof qi=="number"&&0<qi&&(b=1.5*qi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const je=c.g;if(je){const hi=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var K=b.h;K.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ta(K,K.h),K.h=null))}if(b.D){const rl=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(b.ya=rl,Yt(b.I,b.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var st=c;if(b.qa=Xu(b,b.J?b.ia:null,b.W),st.K){sn(b.h,st);var Pt=st,Ie=b.L;Ie&&(Pt.I=Ie),Pt.B&&(_r(Pt),vs(Pt)),b.g=st}else $u(b);0<_.i.length&&Ca(_)}else Lt[0]!="stop"&&Lt[0]!="close"||Bi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Bi(_,7):tl(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}pr(4)}catch{}}var zu=class{constructor(c,y){this.g=c,this.map=y}};function ki(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _a(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function va(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ta(c,y){c.g?c.g.add(y):c.h=y}function sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ki.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Af(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ea(c),b=Af(c),z=b.length,K=0;K<z;K++)y.call(void 0,b[K],_&&_[K],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var K=c[_].substring(0,b);z=c[_].substring(b+1)}else K=c[_];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ve(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ve){this.h=c.h,bs(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.s),this.l=c.l;var y=c.i,_=new Pi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Vi(this,_),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,bs(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),vr(this,y[4]),this.l=In(y[5]||"",!0),Vi(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}ve.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ss(y,Yo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ss(y,Yo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ss(_,_.charAt(0)=="/"?wf:Xo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ss(_,ba)),c.join("")};function gn(c){return new ve(c)}function bs(c,y,_){c.j=_?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vi(c,y,_){y instanceof Pi?(c.i=y,qu(c.i,c.h)):(_||(y=Ss(y,Rf)),c.i=new Pi(y,c.h))}function Yt(c,y,_){c.i.set(y,_)}function As(c){return Yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Bu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yo=/[#\/\?@]/g,Xo=/[#\?:]/g,wf=/[#\?]/g,Rf=/[#\?@]/g,ba=/#/g;function Pi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Pi.prototype,i.add=function(c,y){Cn(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Li(c,y){Cn(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ui(c,y){return Cn(c),y=si(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(y,z,b,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const z=c[b];for(let K=0;K<z.length;K++)_.push(y[b])}return _},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")Ui(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=si(this,c),Ui(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Wo(c,y,_){Li(c,y),0<_.length&&(c.i=null,c.g.set(si(c,y),G(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const K=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var z=K;st[b]!==""&&(z+="="+encodeURIComponent(String(st[b]))),c.push(z)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Li(this,b),Wo(this,z,_))},c)),c.j=y}function ws(c,y){const _=new Rn;if(m.Image){const b=new Image;b.onload=k(Dn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=k(Dn,_,"TestLoadImage: error",!1,y,b),b.onabort=k(Dn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=k(Dn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Hn(c,y){const _=new Rn,b=new AbortController,z=setTimeout(()=>{b.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(z),K.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Rs(){this.g=new ys}function ai(c,y,_){const b=_||"";try{Qo(c,function(z,K){let st=z;g(z)&&(st=qn(z)),y.push(b+K+"="+encodeURIComponent(st))})}catch(z){throw y.push(b+"type="+encodeURIComponent("_badmap")),z}}function Tr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(Tr,zo),Tr.prototype.g=function(){return new zi(this.l,this.j)},Tr.prototype.i=(function(c){return function(){return c}})({});function zi(c,y){he.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(zi,he),i=zi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):li(this),this.readyState==3&&Zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},i.Qa=function(c){this.g&&(this.response=c,oi(this))},i.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jo(c){let y="";return yt(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Me(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Yt(c,y,_))}function Ht(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ht,he);var Aa=/^https?$/i,Is=["POST","PUT"];i=Ht.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?Bo(this.o):Bo(ni),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ju(this,K);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Is,y,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,st]of _)this.g.setRequestHeader(K,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ju(this,K)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Sa(c),ui(c)}function Sa(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ht.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)Ye(c.Ea,0,c);else if(Gt(c,"readystatechange"),xn(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=st===0){var z=String(c.D).match(Es)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!Aa.test(z?z.toLowerCase():"")}_=b}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var K=2<xn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Sa(c)}}finally{ui(c)}}}}function ui(c,y){if(c.g){Cs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Cs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pa(y)}};function Hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function If(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(O(c[b]))continue;var _=V(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}R(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ra(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ra.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){se(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Xu(this,null,this.W),Ca(this)};function tl(c){if(Fu(c),c.G==3){var y=c.U++,_=gn(c.I);if(Yt(_,"SID",c.K),Yt(_,"RID",y),Yt(_,"TYPE","terminate"),xs(c,_),y=new rn(c,c.j,y),y.L=2,y.v=As(gn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Wu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vs(y)}Yu(c)}function Ia(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function Fu(c){Ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!_a(c.h)&&!c.s){c.s=!0;var y=c.Ga;at||x(),dt||(at(),dt=!0),qt.add(y,c),c.B=0}}function Cf(c,y){return va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_e(w(c.Ga,c,y),il(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new rn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Gu(this,z,y),_=gn(this.I),Yt(_,"RID",c),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),xs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Jo(K)))+"&"+y:this.m&&Me(_,this.m,K)),Ta(this.h,z),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",y),Yt(_,"SID","null"),z.T=!0,jn(z,_,null)):jn(z,_,y),this.G=2}}else this.G==3&&(c?el(this,c):this.i.length==0||_a(this.h)||el(this))};function el(c,y){var _;y?_=y.l:_=c.U++;const b=gn(c.I);Yt(b,"SID",c.K),Yt(b,"RID",_),Yt(b,"AID",c.T),xs(c,b),c.m&&c.o&&Me(b,c.m,c.o),_=new rn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Gu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ta(c.h,_),jn(_,b,y)}function xs(c,y){c.H&&yt(c.H,function(_,b){Yt(y,b,_)}),c.l&&Qo({},function(_,b){Yt(y,b,_)})}function Gu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;t:{var z=c.i;let K=-1;for(;;){const st=["count="+_];K==-1?0<_?(K=z[0].g,st.push("ofs="+K)):K=0:st.push("ofs="+K);let Pt=!0;for(let Ie=0;Ie<_;Ie++){let Lt=z[Ie].g;const ke=z[Ie].map;if(Lt-=K,0>Lt)K=Math.max(0,z[Ie].g-100),Pt=!1;else try{ai(ke,st,"req"+Lt+"_")}catch{b&&b(ke)}}if(Pt){b=st.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;at||x(),dt||(at(),dt=!0),qt.add(y,c),c.v=0}}function nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_e(w(c.Fa,c),il(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_e(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Ia(this),Ku(this))};function Ns(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=gn(c.qa);Yt(y,"RID","rpc"),Yt(y,"SID",c.K),Yt(y,"AID",c.T),Yt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Yt(y,"TO",c.ja),Yt(y,"TYPE","xmlhttp"),xs(c,y),c.m&&c.o&&Me(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=As(gn(y)),_.m=null,_.P=!0,Mi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ia(this),nl(this),se(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,y){var _=null;if(c.g==y){Da(c),Ns(c),c.g=null;var b=2}else if($o(c.h,y))_=y.D,sn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;b=mr(),Gt(b,new Re(b,_)),Ca(c)}else $u(c);else if(z=y.s,z==3||z==0&&0<y.X||!(b==1&&Cf(c,y)||b==2&&nl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function il(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Bi(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),b=c.Xa;const z=!b;b=new ve(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||bs(b,"https"),As(b),z?ws(b.toString(),_):Hn(b.toString(),_)}else se(2);c.G=0,c.l&&c.l.sa(y),Yu(c),Fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,_){var b=_ instanceof ve?gn(_):new ve(_);if(b.g!="")y&&(b.g=y+"."+b.g),vr(b,b.s);else{var z=m.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new ve(null);b&&bs(K,b),y&&(K.g=y),z&&vr(K,z),_&&(K.l=_),b=K}return _=c.D,y=c.ya,_&&y&&Yt(b,_,y),Yt(b,"VER",c.la),xs(c,b),b}function Wu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new Tr({eb:_})):new Ht(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}i=Zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new an(c,y)};function an(c,y){he.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!O(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ci(this)}B(an,he),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){tl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=qn(c),c=_);y.i.push(new zu(y.Ya++,c)),y.G==3&&Ca(y)},an.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,an.aa.N.call(this)};function Ju(c){Ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(Ju,Ni);function tc(){jo.call(this),this.status=1}B(tc,jo);function ci(c){this.g=c}B(ci,Zu),ci.prototype.ua=function(){Gt(this.g,"a")},ci.prototype.ta=function(c){Gt(this.g,new Ju(c))},ci.prototype.sa=function(c){Gt(this.g,new tc)},ci.prototype.ra=function(){Gt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,BE=function(){return new xa},zE=function(){return mr()},UE=ei,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,hh=yr,Oi.COMPLETE="complete",LE=Oi,qo.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",he.prototype.listen=he.prototype.K,Yl=qo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,PE=Ht}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore",p0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Xh("@firebase/firestore");function so(){return Js.logLevel}function ht(i,...t){if(Js.logLevel<=Mt.DEBUG){const n=t.map(Np);Js.debug(`Firestore (${xo}): ${i}`,...n)}}function lr(i,...t){if(Js.logLevel<=Mt.ERROR){const n=t.map(Np);Js.error(`Firestore (${xo}): ${i}`,...n)}}function _o(i,...t){if(Js.logLevel<=Mt.WARN){const n=t.map(Np);Js.warn(`Firestore (${xo}): ${i}`,...n)}}function Np(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,qE(i,s,n)}function qE(i,t,n){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Ft(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||qE(t,o,s)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Jn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class LC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UC{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new jE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class zC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new zC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(i,t){return i<t?-1:i>t?1:0}function np(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Om(o)===Om(u)?kt(o,u):Om(o)?1:-1}return kt(i.length,t.length)}const HC=55296,FC=57343;function Om(i){const t=i.charCodeAt(0);return t>=HC&&t<=FC}function vo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__name__";class yi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=yi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=yi.isNumericId(t),o=yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(t).compare(yi.extractNumericId(n)):np(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class te extends yi{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new te(n)}static emptyPath(){return new te([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends yi{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return GC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new Ke([y0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(te.fromString(t))}static fromName(t){return new pt(te.fromString(t).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(i,t,n){if(!n)throw new ut(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function $C(i,t,n,s){if(t===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function _0(i){if(!pt.isDocumentKey(i))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function v0(i){if(pt.isDocumentKey(i))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function FE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Et(12329,{type:typeof i})}function Sh(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(i);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,t){const n={typeString:i};return t&&(n.value=t),n}function Au(i,t){if(!FE(i))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=-62135596800,E0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*E0);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<T0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Au(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Se("string",re._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function KC(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new is(o,pt.empty(),t)}function QC(i){return new is(i.readTime,i.key,ou)}class is{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new is(St.min(),pt.empty(),ou)}static max(){return new is(St.max(),pt.empty(),ou)}}function YC(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(i.documentKey,t.documentKey),n!==0?n:kt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==XC)throw i;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((T=>{f[g]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(t,n){return new et(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function ZC(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-1;function Jh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function JC(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="";function t2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=b0(t)),t=e2(i.get(n),t);return b0(t)}function e2(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case GE:n+="";break;default:n+=u}}return n}function b0(i){return i+GE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function oa(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function $E(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ih(this.root,t,this.comparator,!0)}}class ih{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new $e(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ne(this.comparator);return n.data=t,n}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Qn([])}unionWith(t){let n=new Ne(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return vo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new KE("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const n2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(i){if(Ft(!!i,39018),typeof i=="string"){let t=0;const n=n2.exec(i);if(Ft(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(i.seconds),nanos:ye(i.nanos)}}function ye(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ss(i){return typeof i=="string"?Qe.fromBase64String(i):Qe.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="server_timestamp",YE="__type__",XE="__previous_value__",WE="__local_write_time__";function tf(i){return(i?.mapValue?.fields||{})[YE]?.stringValue===QE}function ef(i){const t=i.mapValue.fields[XE];return tf(t)?ef(t):t}function lu(i){const t=rs(i.mapValue.fields[WE].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n,s,o,u,f,m,p,g,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Rh="(default)";class uu{constructor(t,n){this.projectId=t,this.database=n||Rh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(t){return t instanceof uu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__type__",r2="__max__",rh={mapValue:{}},JE="__vector__",Ih="value";function as(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tf(i)?4:a2(i)?9007199254740991:s2(i)?10:11:Et(28295,{value:i})}function Ii(i,t){if(i===t)return!0;const n=as(i);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return lu(i).isEqual(lu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1})(i,t);case 9:return vo(i.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(A0(f)!==A0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ii(f[p],m[p])))return!1;return!0})(i,t);default:return Et(52216,{left:i})}}function cu(i,t){return(i.values||[]).find((n=>Ii(n,t)))!==void 0}function To(i,t){if(i===t)return 0;const n=as(i),s=as(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(i.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),p=ye(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return w0(i.timestampValue,t.timestampValue);case 4:return w0(lu(i),lu(t));case 5:return np(i.stringValue,t.stringValue);case 6:return(function(u,f){const m=ss(u),p=ss(f);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=kt(m[g],p[g]);if(T!==0)return T}return kt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=kt(ye(u.latitude),ye(f.latitude));return m!==0?m:kt(ye(u.longitude),ye(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return R0(i.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ih]?.arrayValue,T=p[Ih]?.arrayValue,A=kt(g?.values?.length||0,T?.values?.length||0);return A!==0?A:R0(g,T)})(i.mapValue,t.mapValue);case 11:return(function(u,f){if(u===rh.mapValue&&f===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(f===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const w=np(p[A],T[A]);if(w!==0)return w;const k=To(m[p[A]],g[T[A]]);if(k!==0)return k}return kt(p.length,T.length)})(i.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function w0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return kt(i,t);const n=rs(i),s=rs(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function R0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=To(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function Eo(i){return ip(i)}function ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(i.mapValue):Et(61005,{value:i})}function fh(i){switch(as(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ef(i);return t?16+fh(t):16;case 5:return 2*i.stringValue.length;case 6:return ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return oa(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(i.mapValue);default:throw Et(13486,{value:i})}}function Ch(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function rp(i){return!!i&&"integerValue"in i}function kp(i){return!!i&&"arrayValue"in i}function I0(i){return!!i&&"nullValue"in i}function C0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function dh(i){return!!i&&"mapValue"in i}function s2(i){return(i?.mapValue?.fields||{})[ZE]?.stringValue===JE}function Jl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return oa(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Jl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return t}return{...i}}function a2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===r2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){oa(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Un(Jl(this.value))}}function tb(i){const t=[];return oa(i.fields,((n,s)=>{const o=new Ke([n]);if(dh(s)){const u=tb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new en(t,0,St.min(),St.min(),St.min(),Un.empty(),0)}static newFoundDocument(t,n,s,o){return new en(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new en(t,2,n,St.min(),St.min(),Un.empty(),0)}static newUnknownDocument(t,n){return new en(t,3,n,St.min(),St.min(),Un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n){this.position=t,this.inclusive=n}}function D0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=To(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function x0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ii(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,n="asc"){this.field=t,this.dir=n}}function o2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{}class Ae extends eb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new u2(t,n,s):n==="array-contains"?new f2(t,s):n==="in"?new d2(t,s):n==="not-in"?new m2(t,s):n==="array-contains-any"?new p2(t,s):new Ae(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new c2(t,s):new h2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends eb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Wn(t,n)}matches(t){return nb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nb(i){return i.op==="and"}function ib(i){return l2(i)&&nb(i)}function l2(i){for(const t of i.filters)if(t instanceof Wn)return!1;return!0}function sp(i){if(i instanceof Ae)return i.field.canonicalString()+i.op.toString()+Eo(i.value);if(ib(i))return i.filters.map((t=>sp(t))).join(",");{const t=i.filters.map((n=>sp(n))).join(",");return`${i.op}(${t})`}}function rb(i,t){return i instanceof Ae?(function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)})(i,t):i instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&rb(f,o.filters[m])),!0):!1})(i,t):void Et(19439)}function sb(i){return i instanceof Ae?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(i):i instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(sb).join(" ,")+"}"})(i):"Filter"}class u2 extends Ae{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class c2 extends Ae{constructor(t,n){super(t,"in",n),this.keys=ab("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class h2 extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=ab("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function ab(i,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class f2 extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return kp(n)&&cu(n.arrayValue,this.value)}}class d2 extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class m2 extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class p2 extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function N0(i,t=null,n=[],s=[],o=null,u=null,f=null){return new g2(i,t,n,s,o,u,f)}function Vp(i){const t=wt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Jh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Eo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Eo(s))).join(",")),t.Te=n}return t.Te}function Pp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!o2(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!rb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!x0(i.startAt,t.startAt)&&x0(i.endAt,t.endAt)}function ap(i){return pt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function y2(i,t,n,s,o,u,f,m){return new la(i,t,n,s,o,u,f,m)}function ob(i){return new la(i)}function O0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Lp(i){return i.collectionGroup!==null}function co(i){const t=wt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ne(Ke.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new hu(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new hu(Ke.keyField(),s))}return t.Ie}function vi(i){const t=wt(i);return t.Ee||(t.Ee=_2(t,co(i))),t.Ee}function _2(i,t){if(i.limitType==="F")return N0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)}));const n=i.endAt?new bo(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bo(i.startAt.position,i.startAt.inclusive):null;return N0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function op(i,t){const n=i.filters.concat([t]);return new la(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Dh(i,t,n){return new la(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function nf(i,t){return Pp(vi(i),vi(t))&&i.limitType===t.limitType}function lb(i){return`${Vp(vi(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>sb(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(vi(i))}; limitType=${i.limitType})`}function rf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of co(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=D0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,co(s),o)||s.endAt&&!(function(f,m,p){const g=D0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,co(s),o))})(i,t)}function v2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ub(i){return(t,n)=>{let s=!1;for(const o of co(i)){const u=T2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function T2(i,t,n){const s=i.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?To(p,g):Et(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){oa(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new ce(pt.comparator);function ur(){return E2}const cb=new ce(pt.comparator);function Xl(...i){let t=cb;for(const n of i)t=t.insert(n.key,n);return t}function hb(i){let t=cb;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ys(){return tu()}function fb(){return tu()}function tu(){return new ua((i=>i.toString()),((i,t)=>i.isEqual(t)))}const b2=new ce(pt.comparator),A2=new Ne(pt.comparator);function Vt(...i){let t=A2;for(const n of i)t=t.add(n);return t}const S2=new Ne(kt);function w2(){return S2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function db(i){return{integerValue:""+i}}function R2(i,t){return JC(t)?db(t):Up(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function I2(i,t,n){return i instanceof fu?(function(o,u){const f={fields:{[YE]:{stringValue:QE},[WE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tf(u)&&(u=ef(u)),u&&(f.fields[XE]=u),{mapValue:f}})(n,t):i instanceof du?pb(i,t):i instanceof mu?gb(i,t):(function(o,u){const f=mb(o,u),m=M0(f)+M0(o.Ae);return rp(f)&&rp(o.Ae)?db(m):Up(o.serializer,m)})(i,t)}function C2(i,t,n){return i instanceof du?pb(i,t):i instanceof mu?gb(i,t):n}function mb(i,t){return i instanceof xh?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class fu extends sf{}class du extends sf{constructor(t){super(),this.elements=t}}function pb(i,t){const n=yb(t);for(const s of i.elements)n.some((o=>Ii(o,s)))||n.push(s);return{arrayValue:{values:n}}}class mu extends sf{constructor(t){super(),this.elements=t}}function gb(i,t){let n=yb(t);for(const s of i.elements)n=n.filter((o=>!Ii(o,s)));return{arrayValue:{values:n}}}class xh extends sf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function M0(i){return ye(i.integerValue||i.doubleValue)}function yb(i){return kp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,n){this.field=t,this.transform=n}}function x2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?vo(s.elements,o.elements,Ii):s instanceof xh&&o instanceof xh?Ii(s.Ae,o.Ae):s instanceof fu&&o instanceof fu})(i.transform,t.transform)}class N2{constructor(t,n){this.version=t,this.transformResults=n}}class rr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rr}static exists(t){return new rr(void 0,t)}static updateTime(t){return new rr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class af{}function _b(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Tb(i.key,rr.none()):new Su(i.key,i.data,rr.none());{const n=i.data,s=Un.empty();let o=new Ne(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ca(i.key,s,new Qn(o.toArray()),rr.none())}}function O2(i,t,n){i instanceof Su?(function(o,u,f){const m=o.value.clone(),p=V0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,t,n):i instanceof ca?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=V0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(vb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function eu(i,t,n,s){return i instanceof Su?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),T=P0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof ca?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=P0(u.fieldTransforms,p,f),T=f.data;return T.setAll(vb(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,t,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,t,n)}function M2(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=mb(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function k0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,f)=>x2(u,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Su extends af{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends af{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vb(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function V0(i,t,n){const s=new Map;Ft(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,C2(f,m,n[o]))}return s}function P0(i,t,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,I2(u,f,t))}return s}class Tb extends af{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends af{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&O2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=eu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=eu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=fb();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=_b(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&vo(this.mutations,t.mutations,((n,s)=>k0(n,s)))&&vo(this.baseMutations,t.baseMutations,((n,s)=>k0(n,s)))}}class zp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return b2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new zp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,zt;function U2(i){switch(i){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:i})}}function Eb(i){if(i===void 0)return lr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:i})}}(zt=be||(be={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Zr([4294967295,4294967295],0);function L0(i){const t=z2().encode(i),n=new VE;return n.update(t),new Uint8Array(n.digest())}function U0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,s],0),new Zr([o,u],0)]}class Bp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Zr.fromNumber(s)));return o.compare(B2)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=L0(t),[s,o]=U0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=L0(t),[s,o]=U0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,wu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new of(St.min(),o,new ce(kt),ur(),Vt())}}class wu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new wu(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class bb{constructor(t,n){this.targetId=t,this.Ce=n}}class Ab{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class z0{constructor(){this.ve=0,this.Fe=B0(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),n=Vt(),s=Vt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}})),new wu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=B0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ur(),this.Je=sh(),this.He=sh(),this.Ye=new ce(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(s===0){const f=new pt(u.path);this.et(n,f,en.newNoDocument(f,St.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ss(s).toUint8Array()}catch(p){if(p instanceof KE)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bp(f,o,u)}catch(p){return _o(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ap(m.target)){const p=new pt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Vt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new of(t,n,this.Ye,this.je,s);return this.je=ur(),this.Je=sh(),this.He=sh(),this.Ye=new ce(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new z0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ne(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ne(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new z0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function sh(){return new ce(pt.comparator)}function B0(){return new ce(pt.comparator)}const j2={asc:"ASCENDING",desc:"DESCENDING"},H2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class G2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function lp(i,t){return i.useProto3Json||Jh(t)?t:{value:t}}function Nh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function $2(i,t){return Nh(i,t.toTimestamp())}function Ti(i){return Ft(!!i,49232),St.fromTimestamp((function(n){const s=rs(n);return new re(s.seconds,s.nanos)})(i))}function qp(i,t){return up(i,t).canonicalString()}function up(i,t){const n=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function wb(i){const t=te.fromString(i);return Ft(xb(t),10190,{key:t.toString()}),t}function cp(i,t){return qp(i.databaseId,t.path)}function Mm(i,t){const n=wb(t);if(n.get(1)!==i.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pt(Ib(n))}function Rb(i,t){return qp(i.databaseId,t)}function K2(i){const t=wb(i);return t.length===4?te.emptyPath():Ib(t)}function hp(i){return new te(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ib(i){return Ft(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function q0(i,t,n){return{name:cp(i,t),fields:n.value.mapValue.fields}}function Q2(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const T=g.code===void 0?Z.UNKNOWN:Eb(g.code);return new ut(T,g.message||"")})(f);n=new Ab(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(i,s.document.name),u=Ti(s.document.updateTime),f=s.document.createTime?Ti(s.document.createTime):St.min(),m=new Un({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new ph(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Mm(i,s.document),u=s.readTime?Ti(s.readTime):St.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Mm(i,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new L2(o,u),m=s.targetId;n=new bb(m,f)}}return n}function Y2(i,t){let n;if(t instanceof Su)n={update:q0(i,t.key,t.value)};else if(t instanceof Tb)n={delete:cp(i,t.key)};else if(t instanceof ca)n={update:q0(i,t.key,t.data),updateMask:rD(t.fieldMask)};else{if(!(t instanceof k2))return Et(16599,{Vt:t.type});n={verify:cp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof fu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(i,t.precondition)),n}function X2(i,t){return i&&i.length>0?(Ft(t!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(St.min())&&(f=Ti(u)),new N2(f,o.transformResults||[])})(n,t)))):[]}function W2(i,t){return{documents:[Rb(i,t.path)]}}function Z2(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Rb(i,o);const u=(function(g){if(g.length!==0)return Db(Wn.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(w){return{field:oo(w.field),direction:eD(w.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=lp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function J2(i){let t=K2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const w=Cb(A);return w instanceof Wn&&ib(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((w=>(function(B){return new hu(lo(B.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,Jh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(A){const w=!!A.before,k=A.values||[];return new bo(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const w=!A.before,k=A.values||[];return new bo(k,w)})(n.endAt)),y2(t,o,f,u,m,"F",p,g)}function tD(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Cb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ae.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((s=>Cb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(i):Et(30097,{filter:i})}function eD(i){return j2[i]}function nD(i){return H2[i]}function iD(i){return F2[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Ke.fromServerFormat(i.fieldPath)}function Db(i){return i instanceof Ae?(function(n){if(n.op==="=="){if(C0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:nD(n.op),value:n.value}}})(i):i instanceof Wn?(function(n){const s=n.getFilters().map((o=>Db(o)));return s.length===1?s[0]:{compositeFilter:{op:iD(n.op),filters:s}}})(i):Et(54877,{filter:i})}function rD(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function xb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,n,s,o,u=St.min(),f=St.min(),m=Qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.yt=t}}function aD(i){const t=J2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Dh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.Cn=new lD}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(is.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(is.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class lD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ne(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ne(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Nb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LruGarbageCollector",uD=1048576;function F0([i,t],[n,s]){const o=kt(i,n);return o===0?kt(t,s):o}class cD{constructor(t){this.Ir=t,this.buffer=new Ne(F0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();F0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(H0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ht(H0,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)}))}}class fD{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Zh.ce);const s=new cD(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(j0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(g=Date.now(),so()<=Mt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function dD(i,t){return new fD(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.changes=new ua((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&eu(s.mutation,o,Qn.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Vt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Vt()){const o=Ys();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Xl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ys();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Vt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ur();const f=tu(),m=(function(){return tu()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ca)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),eu(T.mutation,g,T.mutation.getFieldMask(),re.now())):f.set(g.key,Qn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,T)=>f.set(g,T))),n.forEach(((g,T)=>m.set(g,new pD(T,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=tu();let o=new ce(((f,m)=>f-m)),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Qn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const A=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,A=fb();T.forEach((w=>{if(!u.has(w)){const k=_b(n.get(w),s.get(w));k!==null&&A.set(w,k),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Lp(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(Ys());let m=ou,p=u;return f.next((g=>et.forEach(g,((T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?et.resolve():this.remoteDocumentCache.getEntry(t,T).next((w=>{p=p.insert(T,w)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Vt()))).next((T=>({batchId:m,changes:hb(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const g=(function(A,w){return new la(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((T=>{T.forEach(((A,w)=>{f=f.insert(A,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))}));let m=Xl();return f.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&eu(T.mutation,g,Qn.empty(),re.now()),rf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:aD(o.bundledQuery),readTime:Ti(o.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.overlays=new ce(pt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ys();return et.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=Ys(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ce(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=Ys(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Ys(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return et.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new P2(n,s));let u=this.qr.get(n);u===void 0&&(u=Vt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Qr=new Ne(Ue.$r),this.Ur=new Ne(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new pt(new te([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new te([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Vt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ue(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(Ue.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new V2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Mp:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ne(kt);return n.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new pt(u),0);let m=new Ne(kt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),et.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t){this.ri=t,this.docs=(function(){return new ce(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(t,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ur();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||YC(QC(T),s)<=0||(o.has(T.key)||rf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new bD(this)}getSize(t){return et.resolve(this.size)}}class bD extends mD{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t){this.persistence=t,this.si=new ua((n=>Vp(n)),Pp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new vD,this.referenceDelegate=t(this),this.Pi=new AD(this),this.indexManager=new oD,this.remoteDocumentCache=(function(o){return new ED(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sD(n),this.Ii=new yD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _D,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new TD(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new SD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class SD extends WC{constructor(t){super(),this.currentSequenceNumber=t}}class Hp{constructor(t){this.persistence=t,this.Ri=new jp,this.Vi=null}static mi(t){return new Hp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Oh{constructor(t,n){this.persistence=t,this.pi=new ua((s=>t2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dD(this,n)}static mi(t,n){return new Oh(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=fh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mI()?8:ZC(nn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(so()<=Mt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(so()<=Mt.DEBUG&&ht("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=Mt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(n))):et.resolve())}ys(t,n){if(O0(n))return et.resolve(null);let s=vi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Dh(n,null,"F"),s=vi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Vt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(t,Dh(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return O0(n)||o.isEqual(St.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(so()<=Mt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(t,f,n,KC(o,ou)).next((m=>m)))}))}Ds(t,n){let s=new Ne(ub(t));return n.forEach(((o,u)=>{rf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return so()<=Mt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(t,n,is.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",ID=3e8;class CD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ce(kt),this.xs=new ua((u=>Vp(u)),Pp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function DD(i,t,n,s){return new CD(i,t,n,s)}async function Mb(i,t){const n=wt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Vt();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function xD(i,t){const n=wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const A=g.batch,w=A.keys();let k=et.resolve();return w.forEach((B=>{k=k.next((()=>T.getEntry(p,B))).next((G=>{const P=g.docVersions.get(B);Ft(P!==null,48541),G.version.compareTo(P)<0&&(A.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),T.addEntry(G)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Vt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kb(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function ND(i,t){const n=wt(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((T,A)=>{const w=o.get(A);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A))));let k=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?k=k.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),o=o.insert(A,k),(function(G,P,Q){return G.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=ID?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(w,k,T)&&m.push(n.Pi.updateTargetData(u,k))}));let p=ur(),g=Vt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(OD(u,f,t.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!s.isEqual(St.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return et.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function OD(i,t,n){let s=Vt(),o=Vt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let f=ur();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(Gp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function MD(i,t){const n=wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function kD(i,t){const n=wt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Yr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function fp(i,t,n){const s=wt(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Oo(f))throw f;ht(Gp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function G0(i,t,n){const s=wt(i);let o=St.min(),u=Vt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,T){const A=wt(p),w=A.xs.get(T);return w!==void 0?et.resolve(A.Ms.get(w)):A.Pi.getTargetData(g,T)})(s,f,vi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Vt()))).next((m=>(VD(s,v2(t),m),{documents:m,Qs:u})))))}function VD(i,t,n){let s=i.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class $0{constructor(){this.activeTargetIds=w2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PD{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="ConnectivityMonitor";class Q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(K0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(K0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function dp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",UD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=dp(),m=this.zo(t,n.toUriEncodedString());ht(km,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=Co(g);return this.Jo(t,m,p,s,T).then((A=>(ht(km,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw _o(km,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=UD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class qD extends zD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=dp();return new Promise(((m,p)=>{const g=new PE;g.setWithCredentials(!0),g.listenOnce(LE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const A=g.getResponseJson();ht(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case hh.TIMEOUT:ht(Ze,`RPC '${t}' ${f} timed out`),p(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const w=g.getStatus();if(ht(Ze,`RPC '${t}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const G=(function(Q){const O=Q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(O)>=0?O:Z.UNKNOWN})(B.status);p(new ut(G,B.message))}else p(new ut(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(Ze,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ht(Ze,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(t,n,s){const o=dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=BE(),m=zE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ht(Ze,`Creating RPC '${t}' stream ${o}: ${T}`,p);const A=f.createWebChannel(T,p);this.I_(A);let w=!1,k=!1;const B=new BD({Yo:P=>{k?ht(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(w||(ht(Ze,`Opening RPC '${t}' stream ${o} transport.`),A.open(),w=!0),ht(Ze,`RPC '${t}' stream ${o} sending:`,P),A.send(P))},Zo:()=>A.close()}),G=(P,Q,O)=>{P.listen(Q,(Y=>{try{O(Y)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return G(A,Yl.EventType.OPEN,(()=>{k||(ht(Ze,`RPC '${t}' stream ${o} transport opened.`),B.o_())})),G(A,Yl.EventType.CLOSE,(()=>{k||(k=!0,ht(Ze,`RPC '${t}' stream ${o} transport closed`),B.a_(),this.E_(A))})),G(A,Yl.EventType.ERROR,(P=>{k||(k=!0,_o(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),B.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),G(A,Yl.EventType.MESSAGE,(P=>{if(!k){const Q=P.data[0];Ft(!!Q,16349);const O=Q,Y=O?.error||O[0]?.error;if(Y){ht(Ze,`RPC '${t}' stream ${o} received error:`,Y);const ot=Y.status;let lt=(function(S){const I=be[S];if(I!==void 0)return Eb(I)})(ot),yt=Y.message;lt===void 0&&(lt=Z.INTERNAL,yt="Unknown error status: "+ot+" with message "+Y.message),k=!0,B.a_(new ut(lt,yt)),A.close()}else ht(Ze,`RPC '${t}' stream ${o} received:`,Q),B.u_(Q)}})),G(m,UE.STAT_EVENT,(P=>{P.stat===ep.PROXY?ht(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===ep.NOPROXY&&ht(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i){return new G2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class Pb{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(Y0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jD extends Pb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Q2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Ti(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:W2(u,p)}:{query:Z2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Sb(u,f.resumeToken);const g=lp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=lp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=tD(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=hp(this.serializer),n.removeTarget=t,this.q_(n)}}class HD extends Pb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=X2(t.writeResults,t.commitTime),s=Ti(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=hp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>Y2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{}class GD extends FD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,up(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Z.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,up(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $D{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class KD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ha(this)&&(ht(ta,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Ru(g),g.Ra.set("Unknown"),g.Ea.delete(4),await uf(g)})(this))}))})),this.Ra=new $D(s,o)}}async function uf(i){if(ha(i))for(const t of i.da)await t(!0)}async function Ru(i){for(const t of i.da)await t(!1)}function Lb(i,t){const n=wt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Yp(n)?Qp(n):Mo(n).O_()&&Kp(n,t))}function $p(i,t){const n=wt(i),s=Mo(n);n.Ia.delete(t),s.O_()&&Ub(n,t),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function Kp(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Mo(i).Y_(t)}function Ub(i,t){i.Va.Ue(t),Mo(i).Z_(t)}function Qp(i){i.Va=new q2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Mo(i).start(),i.Ra.ua()}function Yp(i){return ha(i)&&!Mo(i).x_()&&i.Ia.size>0}function ha(i){return wt(i).Ea.size===0}function zb(i){i.Va=void 0}async function QD(i){i.Ra.set("Online")}async function YD(i){i.Ia.forEach(((t,n)=>{Kp(i,t)}))}async function XD(i,t){zb(i),Yp(i)?(i.Ra.ha(t),Qp(i)):i.Ra.set("Unknown")}async function WD(i,t,n){if(i.Ra.set("Online"),t instanceof Ab&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){ht(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Mh(i,s)}else if(t instanceof ph?i.Va.Ze(t):t instanceof bb?i.Va.st(t):i.Va.tt(t),!n.isEqual(St.min()))try{const s=await kb(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),Ub(u,p);const A=new Yr(T.target,p,g,T.sequenceNumber);Kp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ht(ta,"Failed to raise snapshot:",s),await Mh(i,s)}}async function Mh(i,t,n){if(!Oo(t))throw t;i.Ea.add(1),await Ru(i),i.Ra.set("Offline"),n||(n=()=>kb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ht(ta,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await uf(i)}))}function Bb(i,t){return t().catch((n=>Mh(i,n,t)))}async function cf(i){const t=wt(i),n=os(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mp;for(;ZD(t);)try{const o=await MD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,JD(t,o)}catch(o){await Mh(t,o)}qb(t)&&jb(t)}function ZD(i){return ha(i)&&i.Ta.length<10}function JD(i,t){i.Ta.push(t);const n=os(i);n.O_()&&n.X_&&n.ea(t.mutations)}function qb(i){return ha(i)&&!os(i).x_()&&i.Ta.length>0}function jb(i){os(i).start()}async function tx(i){os(i).ra()}async function ex(i){const t=os(i);for(const n of i.Ta)t.ea(n.mutations)}async function nx(i,t,n){const s=i.Ta.shift(),o=zp.from(s,t,n);await Bb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await cf(i)}async function ix(i,t){t&&os(i).X_&&await(async function(s,o){if((function(f){return U2(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();os(s).B_(),await Bb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(s)}})(i,t),qb(i)&&jb(i)}async function X0(i,t){const n=wt(i);n.asyncQueue.verifyOperationInProgress(),ht(ta,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await Ru(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await uf(n)}async function rx(i,t){const n=wt(i);t?(n.Ea.delete(2),await uf(n)):t||(n.Ea.add(2),await Ru(n),n.Ra.set("Unknown"))}function Mo(i){return i.ma||(i.ma=(function(n,s,o){const u=wt(n);return u.sa(),new jD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:QD.bind(null,i),t_:YD.bind(null,i),r_:XD.bind(null,i),H_:WD.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Yp(i)?Qp(i):i.Ra.set("Unknown")):(await i.ma.stop(),zb(i))}))),i.ma}function os(i){return i.fa||(i.fa=(function(n,s,o){const u=wt(n);return u.sa(),new HD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:tx.bind(null,i),r_:ix.bind(null,i),ta:ex.bind(null,i),na:nx.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await cf(i)):(await i.fa.stop(),i.Ta.length>0&&(ht(ta,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Xp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(i,t){if(lr("AsyncQueue",`${t}: ${i}`),Oo(i))return new ut(Z.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.ga=new ce(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class So{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new So(t,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ax{constructor(){this.queries=Z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=Z0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function Z0(){return new ua((i=>lb(i)),nf)}async function ox(i,t){const n=wt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new sx,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Wp(f,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Zp(n)}async function lx(i,t){const n=wt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ux(i,t){const n=wt(i);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Zp(n)}function cx(i,t,n){const s=wt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Zp(i){i.Ca.forEach((t=>{t.next()}))}var mp,J0;(J0=mp||(mp={})).Ma="default",J0.Cache="cache";class hx{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new So(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=So.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.key=t}}class Fb{constructor(t){this.key=t}}class fx{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=ub(t),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new W0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,A)=>{const w=o.get(T),k=rf(this.query,A)?A:null,B=!!w&&this.mutatedKeys.has(w.key),G=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;w&&k?w.data.isEqual(k.data)?B!==G&&(s.track({type:3,doc:k}),P=!0):this.su(w,k)||(s.track({type:2,doc:k}),P=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),P=!0):w&&!k&&(s.track({type:1,doc:w}),P=!0,(p||g)&&(m=!0)),P&&(k?(f=f.add(k),u=G?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,A)=>(function(k,B){const G=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:P})}};return G(k)-G(B)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new So(this.query,t.tu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Fb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Hb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Vt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jp="SyncEngine";class dx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class mx{constructor(t){this.key=t,this.hu=!1}}class px{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((m=>lb(m)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new ce(pt.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gx(i,t,n=!0){const s=Xb(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Gb(s,t,n,!0),o}async function yx(i,t){const n=Xb(i);await Gb(n,t,!0,!1)}async function Gb(i,t,n,s){const o=await kD(i.localStore,vi(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _x(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Lb(i.remoteStore,o),m}async function _x(i,t,n,s,o){i.pu=(A,w,k)=>(async function(G,P,Q,O){let Y=P.view.ru(Q);Y.Cs&&(Y=await G0(G.localStore,P.query,!1).then((({documents:R})=>P.view.ru(R,Y))));const ot=O&&O.targetChanges.get(P.targetId),lt=O&&O.targetMismatches.get(P.targetId)!=null,yt=P.view.applyChanges(Y,G.isPrimaryClient,ot,lt);return eT(G,P.targetId,yt.au),yt.snapshot})(i,A,w,k);const u=await G0(i.localStore,t,!0),f=new fx(t,u.Qs),m=f.ru(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);eT(i,n,g.au);const T=new dx(t,n,f);return i.Tu.set(t,T),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function vx(i,t,n){const s=wt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!nf(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$p(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch(No)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function Tx(i,t){const n=wt(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$p(n.remoteStore,s.targetId))}async function Ex(i,t,n){const s=Cx(i);try{const o=await(function(f,m){const p=wt(f),g=re.now(),T=m.reduce(((k,B)=>k.add(B.key)),Vt());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=ur(),G=Vt();return p.Ns.getEntries(k,T).next((P=>{B=P,B.forEach(((Q,O)=>{O.isValidDocument()||(G=G.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,B))).next((P=>{A=P;const Q=[];for(const O of m){const Y=M2(O,A.get(O.key).overlayedDocument);Y!=null&&Q.push(new ca(O.key,Y,tb(Y.value.mapValue),rr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Q,m)})).next((P=>{w=P;const Q=P.applyToLocalDocumentSet(A,G);return p.documentOverlayCache.saveOverlays(k,P.batchId,Q)}))})).then((()=>({batchId:w.batchId,changes:hb(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ce(kt)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Iu(s,o.changes),await cf(s.remoteStore)}catch(o){const u=Wp(o,"Failed to persist write");n.reject(u)}}async function $b(i,t){const n=wt(i);try{const s=await ND(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await Iu(n,s,t)}catch(s){await No(s)}}function tT(i,t,n){const s=wt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=wt(f);p.onlineState=m;let g=!1;p.queries.forEach(((T,A)=>{for(const w of A.Sa)w.va(m)&&(g=!0)})),g&&Zp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bx(i,t,n){const s=wt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ce(pt.comparator);f=f.insert(u,en.newNoDocument(u,St.min()));const m=Vt().add(u),p=new of(St.min(),new Map,new ce(kt),f,m);await $b(s,p),s.du=s.du.remove(u),s.Au.delete(t),tg(s)}else await fp(s.localStore,t,!1).then((()=>pp(s,t,n))).catch(No)}async function Ax(i,t){const n=wt(i),s=t.batch.batchId;try{const o=await xD(n.localStore,t);Qb(n,s,null),Kb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(n,o)}catch(o){await No(o)}}async function Sx(i,t,n){const s=wt(i);try{const o=await(function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((A=>(Ft(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(g,A)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,t);Qb(s,t,n),Kb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Iu(s,o)}catch(o){await No(o)}}function Kb(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function Qb(i,t,n){const s=wt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function pp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||Yb(i,s)}))}function Yb(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&($p(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),tg(i))}function eT(i,t,n){for(const s of n)s instanceof Hb?(i.Ru.addReference(s.key,t),wx(i,s)):s instanceof Fb?(ht(Jp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||Yb(i,s.key)):Et(19791,{wu:s})}function wx(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ht(Jp,"New document in limbo: "+n),i.Eu.add(s),tg(i))}function tg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new pt(te.fromString(t)),s=i.fu.next();i.Au.set(s,new mx(n)),i.du=i.du.insert(n,s),Lb(i.remoteStore,new Yr(vi(ob(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Iu(i,t,n){const s=wt(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Fp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const T=wt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>et.forEach(g,(w=>et.forEach(w.Es,(k=>T.persistence.referenceDelegate.addReference(A,w.targetId,k))).next((()=>et.forEach(w.ds,(k=>T.persistence.referenceDelegate.removeReference(A,w.targetId,k)))))))))}catch(A){if(!Oo(A))throw A;ht(Gp,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const k=T.Ms.get(w),B=k.snapshotVersion,G=k.withLastLimboFreeSnapshotVersion(B);T.Ms=T.Ms.insert(w,G)}}})(s.localStore,u))}async function Rx(i,t){const n=wt(i);if(!n.currentUser.isEqual(t)){ht(Jp,"User change. New user:",t.toKey());const s=await Mb(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ut(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Iu(n,s.Ls)}}function Ix(i,t){const n=wt(i),s=n.Au.get(t);if(s&&s.hu)return Vt().add(s.key);{let o=Vt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Xb(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ix.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bx.bind(null,t),t.Pu.H_=ux.bind(null,t.eventManager),t.Pu.yu=cx.bind(null,t.eventManager),t}function Cx(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,t),t}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=lf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return DD(this.persistence,new RD,t.initialUser,this.serializer)}Cu(t){return new Ob(Hp.mi,this.serializer)}Du(t){return new PD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class Dx extends kh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hD(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Ob((s=>Oh.mi(s,n)),this.serializer)}}class gp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,this.syncEngine),await rx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ax})()}createDatastore(t){const n=lf(t.databaseInfo.databaseId),s=(function(u){return new qD(u)})(t.databaseInfo);return(function(u,f,m,p){return new GD(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new KD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>tT(this.syncEngine,n,0)),(function(){return Q0.v()?new Q0:new LD})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,T){const A=new px(o,u,f,m,p,g);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ht(ta,"RemoteStore shutting down."),s.Ea.add(5),await Ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class Nx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Wp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Pm(i,t){i.asyncQueue.verifyOperationInProgress(),ht(ls,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Mb(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function nT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await Ox(i);ht(ls,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>X0(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>X0(t.remoteStore,o))),i._onlineComponents=t}async function Ox(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht(ls,"Using user provided OfflineComponentProvider");try{await Pm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Pm(i,new kh)}}else ht(ls,"Using default OfflineComponentProvider"),await Pm(i,new Dx(void 0));return i._offlineComponents}async function Wb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht(ls,"Using user provided OnlineComponentProvider"),await nT(i,i._uninitializedComponentsProvider._online)):(ht(ls,"Using default OnlineComponentProvider"),await nT(i,new gp))),i._onlineComponents}function Mx(i){return Wb(i).then((t=>t.syncEngine))}async function kx(i){const t=await Wb(i),n=t.eventManager;return n.onListen=gx.bind(null,t.syncEngine),n.onUnlisten=vx.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tx.bind(null,t.syncEngine),n}function Vx(i,t,n={}){const s=new Jr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new xx({next:w=>{T.Nu(),f.enqueueAndForget((()=>lx(u,A))),w.fromCache&&p.source==="server"?g.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new hx(m,T,{includeMetadataChanges:!0,qa:!0});return ox(u,A)})(await kx(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firestore.googleapis.com",rT=!0;class sT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jb,this.ssl=rT}else this.host=t.host,this.ssl=t.ssl??rT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uD)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$C("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PC;switch(s.type){case"firstParty":return new BC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=iT.get(n);s&&(ht("ComponentProvider","Removing Datastore"),iT.delete(n),s.terminate())})(this),Promise.resolve()}}function Px(i,t,n,s={}){i=Sh(i,hf);const o=Co(t),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(SE(`https://${m}`),wE("Firestore",!0)),u.host!==Jb&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ns(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=tn.MOCK_USER;else{g=aI(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(A)}i._authCredentials=new LC(new jE(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new fr(this.firestore,t,this._query)}}class ze{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Au(n,ze._jsonSchema))return new ze(t,s||null,new pt(te.fromString(n.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Se("string",ze._jsonSchemaVersion),referencePath:Se("string")};class ts extends fr{constructor(t,n,s){super(t,n,ob(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new pt(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function yp(i,t,...n){if(i=Be(i),HE("collection","path",t),i instanceof hf){const s=te.fromString(t,...n);return v0(s),new ts(i,null,s)}{if(!(i instanceof ze||i instanceof ts))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(te.fromString(t,...n));return v0(s),new ts(i.firestore,null,s)}}function Lx(i,t,...n){if(i=Be(i),arguments.length===1&&(t=Op.newId()),HE("doc","path",t),i instanceof hf){const s=te.fromString(t,...n);return _0(s),new ze(i,null,new pt(s))}{if(!(i instanceof ze||i instanceof ts))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(te.fromString(t,...n));return _0(s),new ze(i.firestore,i instanceof ts?i.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="AsyncQueue";class oT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vb(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&ht(aT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Oo(t))throw t;ht(aT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",lT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Xp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:lT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function lT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class eg extends hf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new oT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new oT(t),this._firestoreClient=void 0,await t}}}function Ux(i,t){const n=typeof i=="object"?i:xp(),s=typeof i=="string"?i:Rh,o=aa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rI("firestore");u&&Px(o,...u)}return o}function t1(i){if(i._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||zx(i),i._firestoreClient}function zx(i){const t=i._freezeSettings(),n=(function(o,u,f,m){return new i2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Zb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new Nx(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Qe.fromBase64String(t))}catch(n){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Au(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Se("string",zn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(t){if(Au(t,Ei._jsonSchema))return new Ei(t.latitude,t.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Se("string",Ei._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Au(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new bi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Se("string",bi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=/^__.*__$/;class qx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ca(t,this.data,this.fieldMask,n,this.fieldTransforms):new Su(t,this.data,n,this.fieldTransforms)}}function e1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:i})}}class rg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Vh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(e1(this.Ac)&&Bx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||lf(t)}Cc(t,n,s,o=!1){return new rg({Ac:t,methodName:n,Dc:s,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(i){const t=i._freezeSettings(),n=lf(i._databaseId);return new jx(i._databaseId,!!t.ignoreUndefinedProperties,n)}function Hx(i,t,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);s1("Data must be an object, but it was:",f,s);const m=i1(s,f);let p,g;if(u.merge)p=new Qn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const w=Fx(t,A,n);if(!f.contains(w))throw new ut(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$x(T,w)||T.push(w)}p=new Qn(T),g=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,g=f.fieldTransforms;return new qx(new Un(m),p,g)}class ag extends ig{_toFieldTransform(t){return new D2(t.path,new fu)}isEqual(t){return t instanceof ag}}function n1(i,t,n,s=!1){return og(n,i.Cc(s?4:3,t))}function og(i,t){if(r1(i=Be(i)))return s1("Unsupported field value:",t,i),i1(i,t);if(i instanceof ig)return(function(s,o){if(!e1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=og(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return R2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Sb(o.serializer,s._byteString)};if(s instanceof ze){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bi)return(function(f,m){return{mapValue:{fields:{[ZE]:{stringValue:JE},[Ih]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Up(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(i,t)}function i1(i,t){const n={};return $E(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(i,((s,o)=>{const u=og(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function r1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof Ei||i instanceof zn||i instanceof ze||i instanceof ig||i instanceof bi)}function s1(i,t,n){if(!r1(n)||!FE(n)){const s=Wh(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function Fx(i,t,n){if((t=Be(t))instanceof ng)return t._internalPath;if(typeof t=="string")return a1(i,t);throw Vh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Gx=new RegExp("[~\\*/\\[\\]]");function a1(i,t,n){if(t.search(Gx)>=0)throw Vh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ng(...t.split("."))._internalPath}catch{throw Vh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Vh(i,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ut(Z.INVALID_ARGUMENT,m+i+p)}function $x(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kx extends lg{data(){return super.data()}}function ug(i,t){return typeof t=="string"?a1(i,t):t instanceof ng?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class ff extends cg{}function uT(i,t,...n){let s=[];t instanceof cg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof fg)).length,m=u.filter((p=>p instanceof hg)).length;if(f>1||f>0&&m>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class hg extends ff{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new hg(t,n,s)}_apply(t){const n=this._parse(t);return o1(t._query,n),new fr(t.firestore,t.converter,op(t._query,n))}_parse(t){const n=sg(t.firestore);return(function(u,f,m,p,g,T,A){let w;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){dT(A,T);const B=[];for(const G of A)B.push(fT(p,u,G));w={arrayValue:{values:B}}}else w=fT(p,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||dT(A,T),w=n1(m,f,A,T==="in"||T==="not-in");return Ae.create(g,T,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class fg extends cg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new fg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)o1(f,p),f=op(f,p)})(t._query,n),new fr(t.firestore,t.converter,op(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends ff{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new dg(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,f)})(t._query,this._field,this._direction);return new fr(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new la(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function cT(i,t="asc"){const n=t,s=ug("orderBy",i);return dg._create(s,n)}class mg extends ff{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new mg(t,n,s)}_apply(t){return new fr(t.firestore,t.converter,Dh(t._query,this._limit,this._limitType))}}function hT(i){return mg._create("limit",i,"F")}class pg extends ff{constructor(t,n,s){super(),this.type=t,this._docOrFields=n,this._inclusive=s}static _create(t,n,s){return new pg(t,n,s)}_apply(t){const n=Xx(t,this.type,this._docOrFields,this._inclusive);return new fr(t.firestore,t.converter,(function(o,u){return new la(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(t._query,n))}}function Yx(...i){return pg._create("startAfter",i,!1)}function Xx(i,t,n,s){if(n[0]=Be(n[0]),n[0]instanceof lg)return(function(u,f,m,p,g){if(!p)throw new ut(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const T=[];for(const A of co(u))if(A.field.isKeyField())T.push(Ch(f,p.key));else{const w=p.data.field(A.field);if(tf(w))throw new ut(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const k=A.field.canonicalString();throw new ut(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}T.push(w)}return new bo(T,g)})(i._query,i.firestore._databaseId,t,n[0]._document,s);{const o=sg(i.firestore);return(function(f,m,p,g,T,A){const w=f.explicitOrderBy;if(T.length>w.length)throw new ut(Z.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let B=0;B<T.length;B++){const G=T[B];if(w[B].field.isKeyField()){if(typeof G!="string")throw new ut(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!Lp(f)&&G.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const P=f.path.child(te.fromString(G));if(!pt.isDocumentKey(P))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const Q=new pt(P);k.push(Ch(m,Q))}else{const P=n1(p,g,G);k.push(P)}}return new bo(k,A)})(i._query,i.firestore._databaseId,o,t,n,s)}}function fT(i,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lp(t)&&n.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!pt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ch(i,new pt(s))}if(n instanceof ze)return Ch(i,n._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function dT(i,t){if(!Array.isArray(i)||i.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function o1(i,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Wx{convertValue(t,n="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return oa(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Ih].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new bi(n)}convertGeoPoint(t){return new Ei(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ef(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(t));default:return null}}convertTimestamp(t){const n=rs(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Ft(xb(s),9688,{name:t});const o=new uu(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i,t,n){let s;return s=i?i.toFirestore(t):t,s}class oh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fo extends lg{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:Se("string",fo._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class gh extends fo{data(t={}){return super.data(t)}}class mo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new oh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new oh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Jx(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Jx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:i})}}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Se("string",mo._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class tN extends Wx{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,n)}}function eN(i){i=Sh(i,fr);const t=Sh(i.firestore,eg),n=t1(t),s=new tN(t);return Qx(i._query),Vx(n,i._query).then((o=>new mo(t,s,i,o)))}function nN(i,t){const n=Sh(i.firestore,eg),s=Lx(i),o=Zx(i.converter,t);return iN(n,[Hx(sg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,rr.exists(!1))]).then((()=>s))}function iN(i,t){return(function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget((async()=>Ex(await Mx(s),o,u))),u.promise})(t1(i),t)}function rN(){return new ag("serverTimestamp")}(function(t,n=!0){(function(o){xo=o})(Do),Ri(new Xn("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new eg(new UC(s.getProvider("auth-internal")),new qC(f,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Bn(m0,p0,t),Bn(m0,p0,"esm2020")})();const l1="@firebase/installations",gg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=1e4,c1=`w:${gg}`,h1="FIS_v2",sN="https://firebaseinstallations.googleapis.com/v1",aN=3600*1e3,oN="installations",lN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ea=new sa(oN,lN,uN);function f1(i){return i instanceof Jn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1({projectId:i}){return`${sN}/projects/${i}/installations`}function m1(i){return{token:i.token,requestStatus:2,expiresIn:hN(i.expiresIn),creationTime:Date.now()}}async function p1(i,t){const s=(await t.json()).error;return ea.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function g1({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function cN(i,{refreshToken:t}){const n=g1(i);return n.append("Authorization",fN(t)),n}async function y1(i){const t=await i();return t.status>=500&&t.status<600?i():t}function hN(i){return Number(i.replace("s","000"))}function fN(i){return`${h1} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN({appConfig:i,heartbeatServiceProvider:t},{fid:n}){const s=d1(i),o=g1(i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:h1,appId:i.appId,sdkVersion:c1},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await y1(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:m1(g.authToken)}}else throw await p1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/^[cdef][\w-]{21}$/,_p="";function gN(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=yN(i);return pN.test(n)?n:_p}catch{return _p}}function yN(i){return mN(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;function T1(i,t){const n=df(i);E1(n,t),_N(n,t)}function E1(i,t){const n=v1.get(i);if(n)for(const s of n)s(t)}function _N(i,t){const n=vN();n&&n.postMessage({key:i,fid:t}),TN()}let Xs=null;function vN(){return!Xs&&"BroadcastChannel"in self&&(Xs=new BroadcastChannel("[Firebase] FID Change"),Xs.onmessage=i=>{E1(i.data.key,i.data.fid)}),Xs}function TN(){v1.size===0&&Xs&&(Xs.close(),Xs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-installations-database",bN=1,na="firebase-installations-store";let Lm=null;function yg(){return Lm||(Lm=NE(EN,bN,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(na)}}})),Lm}async function Ph(i,t){const n=df(i),o=(await yg()).transaction(na,"readwrite"),u=o.objectStore(na),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&T1(i,t.fid),t}async function b1(i){const t=df(i),s=(await yg()).transaction(na,"readwrite");await s.objectStore(na).delete(t),await s.done}async function mf(i,t){const n=df(i),o=(await yg()).transaction(na,"readwrite"),u=o.objectStore(na),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&T1(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _g(i){let t;const n=await mf(i.appConfig,s=>{const o=AN(s),u=SN(i,o);return t=u.registrationPromise,u.installationEntry});return n.fid===_p?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function AN(i){const t=i||{fid:gN(),registrationStatus:0};return A1(t)}function SN(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ea.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=wN(i,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:RN(i)}:{installationEntry:t}}async function wN(i,t){try{const n=await dN(i,t);return Ph(i.appConfig,n)}catch(n){throw f1(n)&&n.customData.serverCode===409?await b1(i.appConfig):await Ph(i.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function RN(i){let t=await mT(i.appConfig);for(;t.registrationStatus===1;)await _1(100),t=await mT(i.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await _g(i);return s||n}return t}function mT(i){return mf(i,t=>{if(!t)throw ea.create("installation-not-found");return A1(t)})}function A1(i){return IN(i)?{fid:i.fid,registrationStatus:0}:i}function IN(i){return i.registrationStatus===1&&i.registrationTime+u1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN({appConfig:i,heartbeatServiceProvider:t},n){const s=DN(i,n),o=cN(i,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:c1,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await y1(()=>fetch(s,m));if(p.ok){const g=await p.json();return m1(g)}else throw await p1("Generate Auth Token",p)}function DN(i,{fid:t}){return`${d1(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vg(i,t=!1){let n;const s=await mf(i.appConfig,u=>{if(!S1(u))throw ea.create("not-registered");const f=u.authToken;if(!t&&ON(f))return u;if(f.requestStatus===1)return n=xN(i,t),u;{if(!navigator.onLine)throw ea.create("app-offline");const m=kN(u);return n=NN(i,m),m}});return n?await n:s.authToken}async function xN(i,t){let n=await pT(i.appConfig);for(;n.authToken.requestStatus===1;)await _1(100),n=await pT(i.appConfig);const s=n.authToken;return s.requestStatus===0?vg(i,t):s}function pT(i){return mf(i,t=>{if(!S1(t))throw ea.create("not-registered");const n=t.authToken;return VN(n)?{...t,authToken:{requestStatus:0}}:t})}async function NN(i,t){try{const n=await CN(i,t),s={...t,authToken:n};return await Ph(i.appConfig,s),n}catch(n){if(f1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await b1(i.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Ph(i.appConfig,s)}throw n}}function S1(i){return i!==void 0&&i.registrationStatus===2}function ON(i){return i.requestStatus===2&&!MN(i)}function MN(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+aN}function kN(i){const t={requestStatus:1,requestTime:Date.now()};return{...i,authToken:t}}function VN(i){return i.requestStatus===1&&i.requestTime+u1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(i){const t=i,{installationEntry:n,registrationPromise:s}=await _g(t);return s?s.catch(console.error):vg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(i,t=!1){const n=i;return await UN(n),(await vg(n,t)).token}async function UN(i){const{registrationPromise:t}=await _g(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(i){if(!i||!i.options)throw Um("App Configuration");if(!i.name)throw Um("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!i.options[n])throw Um(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Um(i){return ea.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="installations",BN="installations-internal",qN=i=>{const t=i.getProvider("app").getImmediate(),n=zN(t),s=aa(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},jN=i=>{const t=i.getProvider("app").getImmediate(),n=aa(t,w1).getImmediate();return{getId:()=>PN(n),getToken:o=>LN(n,o)}};function HN(){Ri(new Xn(w1,qN,"PUBLIC")),Ri(new Xn(BN,jN,"PRIVATE"))}HN();Bn(l1,gg);Bn(l1,gg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="analytics",FN="firebase_id",GN="origin",$N=60*1e3,KN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Xh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new sa("analytics","Analytics",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i){if(!i.startsWith(Tg)){const t=Sn.create("invalid-gtag-resource",{gtagURL:i});return mn.warn(t.message),""}return i}function R1(i){return Promise.all(i.map(t=>t.catch(n=>n)))}function XN(i,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,t)),n}function WN(i,t){const n=XN("firebase-js-sdk-policy",{createScriptURL:YN}),s=document.createElement("script"),o=`${Tg}?l=${i}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function ZN(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function JN(i,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const p=(await R1(n)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(m){mn.error(m)}i("config",o,u)}async function tO(i,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await R1(n);for(const p of f){const g=m.find(A=>A.measurementId===p),T=g&&t[g.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),i("event",s,o||{})}catch(u){mn.error(u)}}function eO(i,t,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await tO(i,t,n,m,p)}else if(u==="config"){const[m,p]=f;await JN(i,t,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){mn.error(m)}}return o}function nO(i,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=eO(u,i,t,n),{gtagCore:u,wrappedGtag:window[o]}}function iO(i){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Tg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=30,sO=1e3;class aO{constructor(t={},n=sO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const I1=new aO;function oO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function lO(i){const{appId:t,apiKey:n}=i,s={method:"GET",headers:oO(n)},o=KN.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function uO(i,t=I1,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new fO;return setTimeout(async()=>{m.abort()},$N),C1({appId:s,apiKey:o,measurementId:u},f,m,t)}async function C1(i,{throttleEndTimeMillis:t,backoffCount:n},s,o=I1){const{appId:u,measurementId:f}=i;try{await cO(s,t)}catch(m){if(f)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await lO(i);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!hO(p)){if(o.deleteThrottleMetadata(u),f)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(p?.customData?.httpStatus)===503?r0(n,o.intervalMillis,rO):r0(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,T),mn.debug(`Calling attemptFetch again in ${g} millis`),C1(i,T,s,o)}}function cO(i,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function hO(i){if(!(i instanceof Jn)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class fO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function dO(i,t,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await t,f={...s,send_to:u};i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(){if(IE())try{await CE()}catch(i){return mn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return mn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pO(i,t,n,s,o,u,f){const m=uO(i);m.then(w=>{n[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>mn.error(w)),t.push(m);const p=mO().then(w=>{if(w)return s.getId()}),[g,T]=await Promise.all([m,p]);iO(u)||WN(u,g.measurementId),o("js",new Date);const A=f?.config??{};return A[GN]="firebase",A.update=!0,T!=null&&(A[FN]=T),o("config",g.measurementId,A),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.app=t}_delete(){return delete nu[this.app.options.appId],Promise.resolve()}}let nu={},gT=[];const yT={};let zm="dataLayer",yO="gtag",_T,D1,vT=!1;function _O(){const i=[];if(RE()&&i.push("This is a browser extension environment."),pI()||i.push("Cookies are not available."),i.length>0){const t=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:t});mn.warn(n.message)}}function vO(i,t,n){_O();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(nu[s]!=null)throw Sn.create("already-exists",{id:s});if(!vT){ZN(zm);const{wrappedGtag:u,gtagCore:f}=nO(nu,gT,yT,zm,yO);D1=u,_T=f,vT=!0}return nu[s]=pO(i,gT,yT,t,_T,zm,n),new gO(i)}function TO(i=xp()){i=Be(i);const t=aa(i,Lh);return t.isInitialized()?t.getImmediate():EO(i)}function EO(i,t={}){const n=aa(i,Lh);if(n.isInitialized()){const o=n.getImmediate();if(ns(t,n.getOptions()))return o;throw Sn.create("already-initialized")}return n.initialize({options:t})}function bO(i,t,n,s){i=Be(i),dO(D1,nu[i.app.options.appId],t,n,s).catch(o=>mn.error(o))}const TT="@firebase/analytics",ET="0.10.18";function AO(){Ri(new Xn(Lh,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return vO(s,o,n)},"PUBLIC")),Ri(new Xn("analytics-internal",i,"PRIVATE")),Bn(TT,ET),Bn(TT,ET,"esm2020");function i(t){try{const n=t.getProvider(Lh).getImmediate();return{logEvent:(s,o,u)=>bO(n,s,o,u)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}AO();const SO={apiKey:"AIzaSyB1hGesP_WHPzBHgtU_-T2__IdKaqfQ0NQ",authDomain:"hakbangquest-c6093.firebaseapp.com",databaseURL:"https://hakbangquest-c6093-default-rtdb.firebaseio.com",projectId:"hakbangquest-c6093",storageBucket:"hakbangquest-c6093.firebasestorage.app",messagingSenderId:"233499329364",appId:"1:233499329364:web:71446aba85e1d312e67ec1",measurementId:"G-V49D5CCZQ8"},x1=OE(SO),vp=Ux(x1);TO(x1);function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wO=N1,O1=new sa("auth","Firebase",N1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Xh("@firebase/auth");function RO(i,...t){Uh.logLevel<=Mt.WARN&&Uh.warn(`Auth (${Do}): ${i}`,...t)}function yh(i,...t){Uh.logLevel<=Mt.ERROR&&Uh.error(`Auth (${Do}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...t){throw Eg(i,...t)}function Ai(i,...t){return Eg(i,...t)}function M1(i,t,n){const s={...wO(),[t]:n};return new sa("auth","Firebase",s).create(t,{appName:i.name})}function es(i){return M1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eg(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return O1.create(i,...t)}function Tt(i,t,...n){if(!i)throw Eg(t,...n)}function er(i){const t="INTERNAL ASSERTION FAILED: "+i;throw yh(t),new Error(t)}function cr(i,t){i||er(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){return typeof self<"u"&&self.location?.href||""}function IO(){return bT()==="http:"||bT()==="https:"}function bT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IO()||RE()||"connection"in navigator)?navigator.onLine:!0}function DO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.shortDelay=t,this.longDelay=n,cr(n>t,"Short delay should be less than long delay!"),this.isMobile=uI()||fI()}get(){return CO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(i,t){cr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OO=new Cu(3e4,6e4);function fa(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function us(i,t,n,s,o={}){return V1(i,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=bu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return hI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Co(i.emulatorConfig.host)&&(g.credentials="include"),k1.fetch()(await P1(i,i.config.apiHost,n,m),g)})}async function V1(i,t,n){i._canInitEmulator=!1;const s={...xO,...t};try{const o=new kO(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw lh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw lh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw lh(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw M1(i,T,g);Zn(i,T)}}catch(o){if(o instanceof Jn)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function pf(i,t,n,s,o={}){const u=await us(i,t,n,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function P1(i,t,n,s){const o=`${t}${n}?${s}`,u=i,f=u.config.emulator?bg(i.config,o):`${i.config.apiScheme}://${o}`;return NO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function MO(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),OO.get())})}}function lh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(i,t,s);return o.customData._tokenResponse=n,o}function AT(i){return i!==void 0&&i.enterprise!==void 0}class VO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return MO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PO(i,t){return us(i,"GET","/v2/recaptchaConfig",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(i,t){return us(i,"POST","/v1/accounts:delete",t)}async function zh(i,t){return us(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UO(i,t=!1){const n=Be(i),s=await n.getIdToken(t),o=Ag(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:iu(Bm(o.auth_time)),issuedAtTime:iu(Bm(o.iat)),expirationTime:iu(Bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bm(i){return Number(i)*1e3}function Ag(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=TE(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ST(i){const t=Ag(i);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Jn&&zO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function zO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(i){const t=i.auth,n=await i.getIdToken(),s=await pu(i,zh(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?L1(o.providerUserInfo):[],f=jO(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,T)}async function qO(i){const t=Be(i);await Bh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jO(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function L1(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(i,t){const n=await V1(i,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await P1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Co(i.emulatorConfig.host)&&(p.credentials="include"),k1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FO(i,t){return us(i,"POST","/v2/accounts:revokeToken",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ST(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=ST(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HO(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new po;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(i,t){Tt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await pu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UO(this,t)}reload(){return qO(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(es(this.auth));const t=await this.getIdToken();return await pu(this,LO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:k,providerData:B,stsTokenManager:G}=n;Tt(A&&G,t,"internal-error");const P=po.fromJSON(this.name,G);Tt(typeof A=="string",t,"internal-error"),jr(s,t.name),jr(o,t.name),Tt(typeof w=="boolean",t,"internal-error"),Tt(typeof k=="boolean",t,"internal-error"),jr(u,t.name),jr(f,t.name),jr(m,t.name),jr(p,t.name),jr(g,t.name),jr(T,t.name);const Q=new Yn({uid:A,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:T});return B&&Array.isArray(B)&&(Q.providerData=B.map(O=>({...O}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(t,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?L1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new po;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;function nr(i){cr(i instanceof Function,"Expected a class definition");let t=wT.get(i);return t?(cr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,wT.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}U1.type="NONE";const RT=U1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i,t,n){return`firebase:${i}:${t}:${n}`}class go{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zh(this.auth,{idToken:t}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new go(nr(RT),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||nr(RT);const f=_h(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let A;if(typeof T=="string"){const w=await zh(t,{idToken:T}).catch(()=>{});if(!w)break;A=await Yn._fromGetAccountInfoResponse(t,w,T)}else A=Yn._fromJSON(t,T);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new go(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new go(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(j1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(F1(t))return"Blackberry";if(G1(t))return"Webos";if(B1(t))return"Safari";if((t.includes("chrome/")||q1(t))&&!t.includes("edge/"))return"Chrome";if(H1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function z1(i=nn()){return/firefox\//i.test(i)}function B1(i=nn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function q1(i=nn()){return/crios\//i.test(i)}function j1(i=nn()){return/iemobile/i.test(i)}function H1(i=nn()){return/android/i.test(i)}function F1(i=nn()){return/blackberry/i.test(i)}function G1(i=nn()){return/webos/i.test(i)}function Sg(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function GO(i=nn()){return Sg(i)&&!!window.navigator?.standalone}function $O(){return dI()&&document.documentMode===10}function $1(i=nn()){return Sg(i)||H1(i)||G1(i)||F1(i)||/windows phone/i.test(i)||j1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(i,t=[]){let n;switch(i){case"Browser":n=IT(nn());break;case"Worker":n=`${IT(nn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(i,t={}){return us(i,"GET","/v2/passwordPolicy",fa(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=6;class XO{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new KO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zh(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(es(this));const n=t?Be(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QO(this),n=new XO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new sa("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&nr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=K1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&RO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ko(i){return Be(i)}class CT{constructor(t){this.auth=t,this.observer=null,this.addObserver=TI(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZO(i){gf=i}function Q1(i){return gf.loadJS(i)}function JO(){return gf.recaptchaEnterpriseScript}function tM(){return gf.gapiScript}function eM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class nM{constructor(){this.enterprise=new iM}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class iM{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const rM="recaptcha-enterprise",Y1="NO_RECAPTCHA";class sM{constructor(t){this.type=rM,this.auth=ko(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{PO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new VO(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;AT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(Y1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&AT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=JO();p.length!==0&&(p+=m),Q1(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function DT(i,t,n,s=!1,o=!1){const u=new sM(i);let f;if(o)f=Y1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xT(i,t,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await DT(i,t,n,n==="getOobCode");return s(i,u)}else return s(i,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await DT(i,t,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(i,t){const n=aa(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ns(u,t??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:t})}function oM(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(nr);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function lM(i,t,n){const s=ko(i);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=X1(t),{host:f,port:m}=uM(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(ns(g,s.config.emulator)&&ns(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Co(f)?(SE(`${u}//${f}${p}`),wE("Auth",!0)):cM()}function X1(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function uM(i){const t=X1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:NT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:NT(f)}}}function NT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function cM(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(t){return er("not implemented")}_linkToIdToken(t,n){return er("not implemented")}_getReauthenticationResolver(t){return er("not implemented")}}async function hM(i,t){return us(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(i,t){return pf(i,"POST","/v1/accounts:signInWithPassword",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(i,t){return pf(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,t))}async function mM(i,t){return pf(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends wg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new gu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new gu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xT(t,n,"signInWithPassword",fM);case"emailLink":return dM(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xT(t,s,"signUpPassword",hM);case"emailLink":return mM(t,{idToken:n,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i,t){return pf(i,"POST","/v1/accounts:signInWithIdp",fa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="http://localhost";class ia extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ia(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return yo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,yo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,yo(t,n)}buildRequest(){const t={requestUri:pM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=bu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yM(i){const t=Kl(Ql(i)).link,n=t?Kl(Ql(t)).deep_link_id:null,s=Kl(Ql(i)).deep_link_id;return(s?Kl(Ql(s)).link:null)||s||n||t||i}class Rg{constructor(t){const n=Kl(Ql(t)),s=n.apiKey??null,o=n.oobCode??null,u=gM(n.mode??null);Tt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=yM(t);try{return new Rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(t,n){return gu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Rg.parseLink(n);return Tt(s,"argument-error"),gu._fromEmailAndCode(t,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends W1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Du{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ia._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Du{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Du{constructor(){super("twitter.com")}static credential(t,n){return ia._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Yn._fromIdTokenResponse(t,s,o),f=OT(s);return new wo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=OT(s);return new wo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function OT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Jn{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new qh(t,n,s,o)}}function Z1(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(i,u,t,s):u})}async function _M(i,t,n=!1){const s=await pu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return wo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(i,t,n=!1){const{auth:s}=i;if(Kn(s.app))return Promise.reject(es(s));const o="reauthenticate";try{const u=await pu(i,Z1(s,o,t,i),n);Tt(u.idToken,s,"internal-error");const f=Ag(u.idToken);Tt(f,s,"internal-error");const{sub:m}=f;return Tt(i.uid===m,s,"user-mismatch"),wo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(i,t,n=!1){if(Kn(i.app))return Promise.reject(es(i));const s="signIn",o=await Z1(i,s,t),u=await wo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function TM(i,t){return J1(ko(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(i){const t=ko(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function bM(i,t,n){return Kn(i.app)?Promise.reject(es(i)):TM(Be(i),Vo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&EM(i),s})}function AM(i,t,n,s){return Be(i).onIdTokenChanged(t,n,s)}function SM(i,t,n){return Be(i).beforeAuthStateChanged(t,n)}function wM(i,t,n,s){return Be(i).onAuthStateChanged(t,n,s)}function RM(i){return Be(i).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=1e3,CM=10;class eA extends tA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);$O()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,CM):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},IM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}eA.type="LOCAL";const DM=eA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends tA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}nA.type="SESSION";const iA=nA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new yf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await xM(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ig("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function OM(i){Si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function MM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kM(){return navigator?.serviceWorker?.controller||null}function VM(){return rA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebaseLocalStorageDb",PM=1,Hh="firebaseLocalStorage",aA="fbase_key";class xu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(i,t){return i.transaction([Hh],t?"readwrite":"readonly").objectStore(Hh)}function LM(){const i=indexedDB.deleteDatabase(sA);return new xu(i).toPromise()}function bp(){const i=indexedDB.open(sA,PM);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Hh,{keyPath:aA})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Hh)?t(s):(s.close(),await LM(),t(await bp()))})})}async function MT(i,t,n){const s=_f(i,!0).put({[aA]:t,value:n});return new xu(s).toPromise()}async function UM(i,t){const n=_f(i,!1).get(t),s=await new xu(n).toPromise();return s===void 0?null:s.value}function kT(i,t){const n=_f(i,!0).delete(t);return new xu(n).toPromise()}const zM=800,BM=3;class oA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>BM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(VM()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MM(),!this.activeServiceWorker)return;this.sender=new NM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bp();return await MT(t,jh,"1"),await kT(t,jh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>MT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>UM(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=_f(o,!1).getAll();return new xu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oA.type="LOCAL";const qM=oA;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i,t){return t?nr(t):(Tt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends wg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return yo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function HM(i){return J1(i.auth,new Cg(i),i.bypassAuthState)}function FM(i){const{auth:t,user:n}=i;return Tt(n,t,"internal-error"),vM(n,new Cg(i),i.bypassAuthState)}async function GM(i){const{auth:t,user:n}=i;return Tt(n,t,"internal-error"),_M(n,new Cg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HM;case"linkViaPopup":case"linkViaRedirect":return GM;case"reauthViaPopup":case"reauthViaRedirect":return FM;default:Zn(this.auth,"internal-error")}}resolve(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Cu(2e3,1e4);class uo extends lA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const t=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$M.get())};t()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="pendingRedirect",vh=new Map;class QM extends lA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=vh.get(this.auth._key());if(!t){try{const s=await YM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}vh.set(this.auth._key(),t)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YM(i,t){const n=ZM(t),s=WM(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function XM(i,t){vh.set(i._key(),t)}function WM(i){return nr(i._redirectPersistence)}function ZM(i){return _h(KM,i.config.apiKey,i.name)}async function JM(i,t,n=!1){if(Kn(i.app))return Promise.reject(es(i));const s=ko(i),o=jM(s,t),f=await new QM(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=600*1e3;class e4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!n4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!uA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=t4&&this.cachedEventUids.clear(),this.cachedEventUids.has(VT(t))}saveEventToCache(t){this.cachedEventUids.add(VT(t)),this.lastProcessedEventTime=Date.now()}}function VT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function uA({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function n4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(i,t={}){return us(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s4=/^https?/;async function a4(i){if(i.config.emulator)return;const{authorizedDomains:t}=await i4(i);for(const n of t)try{if(o4(n))return}catch{}Zn(i,"unauthorized-domain")}function o4(i){const t=Tp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!s4.test(n))return!1;if(r4.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Cu(3e4,6e4);function PT(){const i=Si().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function u4(i){return new Promise((t,n)=>{function s(){PT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{PT(),n(Ai(i,"network-request-failed"))},timeout:l4.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)s();else{const o=eM("iframefcb");return Si()[o]=()=>{gapi.load?s():n(Ai(i,"network-request-failed"))},Q1(`${tM()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Th=null,t})}let Th=null;function c4(i){return Th=Th||u4(i),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new Cu(5e3,15e3),f4="__/auth/iframe",d4="emulator/auth/iframe",m4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g4(i){const t=i.config;Tt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?bg(t,d4):`https://${i.config.authDomain}/${f4}`,s={apiKey:t.apiKey,appName:i.name,v:Do},o=p4.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bu(s).slice(1)}`}async function y4(i){const t=await c4(i),n=Si().gapi;return Tt(n,i,"internal-error"),t.open({where:document.body,url:g4(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(i,"network-request-failed"),m=Si().setTimeout(()=>{u(f)},h4.get());function p(){Si().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v4=500,T4=600,E4="_blank",b4="http://localhost";class LT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A4(i,t,n,s=v4,o=T4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={..._4,width:s.toString(),height:o.toString(),top:u,left:f},g=nn().toLowerCase();n&&(m=q1(g)?E4:n),z1(g)&&(t=t||b4,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[k,B])=>`${w}${k}=${B},`,"");if(GO(g)&&m!=="_self")return S4(t||"",m),new LT(null);const A=window.open(t||"",m,T);Tt(A,i,"popup-blocked");try{A.focus()}catch{}return new LT(A)}function S4(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="__/auth/handler",R4="emulator/auth/handler",I4=encodeURIComponent("fac");async function UT(i,t,n,s,o,u){Tt(i.config.authDomain,i,"auth-domain-config-required"),Tt(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Do,eventId:o};if(t instanceof W1){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",vI(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(t instanceof Du){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${I4}=${encodeURIComponent(p)}`:"";return`${C4(i)}?${bu(m).slice(1)}${g}`}function C4({config:i}){return i.emulator?bg(i,R4):`https://${i.authDomain}/${w4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class D4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iA,this._completeRedirectFn=JM,this._overrideRedirectResult=XM}async _openPopup(t,n,s,o){cr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await UT(t,n,s,Tp(),o);return A4(t,u,Ig())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await UT(t,n,s,Tp(),o);return OM(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await y4(t),s=new e4(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(qm,{type:qm},o=>{const u=o?.[0]?.[qm];u!==void 0&&n(!!u),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $1()||B1()||Sg()}}const x4=D4;var zT="@firebase/auth",BT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M4(i){Ri(new Xn("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K1(i)},g=new WO(s,o,u,p);return oM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ri(new Xn("auth-internal",t=>{const n=ko(t.getProvider("auth").getImmediate());return(s=>new N4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(zT,BT,O4(i)),Bn(zT,BT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=300,V4=AE("authIdTokenMaxAge")||k4;let qT=null;const P4=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V4)return;const o=n?.token;qT!==o&&(qT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function L4(i=xp()){const t=aa(i,"auth");if(t.isInitialized())return t.getImmediate();const n=aM(i,{popupRedirectResolver:x4,persistence:[qM,DM,iA]}),s=AE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=P4(u.toString());SM(n,f,()=>f(n.currentUser)),AM(n,m=>f(m))}}const o=EE("auth");return o&&lM(n,`http://${o}`),n}function U4(){return document.getElementsByTagName("head")?.[0]??document}ZO({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",U4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M4("Browser");const Je={blue:"#4361EE",ink:"#0F172A",text:"#1F2937",subtext:"#6B7280",card:"#FFFFFF",divider:"rgba(15, 23, 42, 0.06)",rowAlt:"rgba(67, 97, 238, 0.03)"},z4="14px",B4="0 8px 24px rgba(15, 23, 42, 0.08)",jT="160ms ease";function q4(){const[i,t]=H.useState([]),[n,s]=H.useState(!0),[o,u]=H.useState(null),[f,m]=H.useState(!0),[p,g]=H.useState(!1),T=10,A=async(k=!1)=>{try{const B=uT(yp(vp,"suggestions"),cT("createdAt","desc"),hT(T)),G=k&&o?uT(yp(vp,"suggestions"),cT("createdAt","desc"),Yx(o),hT(T)):B,P=await eN(G),Q=P.docs.map(O=>({id:O.id,...O.data()}));t(O=>k?[...O,...Q]:Q),u(P.docs[P.docs.length-1]||null),m(P.docs.length===T)}catch(B){console.error("Error fetching suggestions:",B)}finally{k?g(!1):s(!1)}};H.useEffect(()=>{A()},[]);const w=()=>{g(!0),A(!0)};return n?nt.jsx("div",{style:le.container,children:nt.jsx("div",{style:le.card,children:nt.jsx("div",{style:le.loadingRow,children:"Loading suggestions…"})})}):i.length?nt.jsx("div",{style:le.container,children:nt.jsxs("div",{style:le.card,children:[nt.jsx("div",{style:le.tableWrap,children:nt.jsxs("table",{style:le.table,role:"table",children:[nt.jsx("thead",{children:nt.jsxs("tr",{style:le.theadRow,children:[nt.jsx("th",{scope:"col",style:{...le.th,width:"18ch",minWidth:"14ch"},children:"Name"}),nt.jsx("th",{scope:"col",style:{...le.th,minWidth:280},children:"Suggestion"}),nt.jsx("th",{scope:"col",style:{...le.th,width:"20ch",minWidth:"18ch"},children:"Date"})]})}),nt.jsx("tbody",{children:i.map((k,B)=>{const G=k.createdAt?.toDate?k.createdAt.toDate().toLocaleString():"N/A",P=B%2===1;return nt.jsxs("tr",{style:{...le.tr,background:P?Je.rowAlt:"#fff"},children:[nt.jsx("td",{style:{...le.td,fontWeight:700,color:Je.ink},children:k.name||"N/A"}),nt.jsx("td",{style:le.td,children:k.text}),nt.jsx("td",{style:{...le.td,color:Je.subtext},children:G})]},k.id)})})]})}),nt.jsxs("div",{style:le.footer,children:[nt.jsxs("div",{style:le.footerInfo,children:["Showing ",i.length," ",f?"of many":"results"]}),f&&nt.jsx("button",{style:{...le.loadMore,opacity:p?.8:1},onClick:w,disabled:p,"aria-busy":p,children:p?"Loading…":"Load more"})]})]})}):nt.jsx("div",{style:le.container,children:nt.jsx("div",{style:le.card,children:nt.jsxs("div",{style:le.emptyState,children:[nt.jsx("div",{style:le.emptyBadge,children:"No suggestions yet"}),nt.jsx("p",{style:le.emptyText,children:"New submissions will appear here as they arrive."})]})})})}const le={container:{width:"100%"},card:{background:Je.card,borderRadius:z4,boxShadow:B4,overflow:"hidden",border:`1px solid ${Je.divider}`},tableWrap:{width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch"},table:{width:"100%",borderCollapse:"separate",borderSpacing:0,minWidth:640},theadRow:{background:"linear-gradient(180deg, rgba(67,97,238,0.06), rgba(255,193,7,0.05))"},th:{textAlign:"left",padding:"12px 14px",fontSize:13,textTransform:"uppercase",letterSpacing:.7,color:Je.subtext,position:"sticky",top:0,zIndex:1,background:Je.card,borderBottom:`1px solid ${Je.divider}`},tr:{transition:jT},td:{padding:"12px 14px",borderBottom:`1px solid ${Je.divider}`,verticalAlign:"top",color:Je.text,lineHeight:1.5,wordBreak:"break-word"},footer:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,gap:8,flexWrap:"wrap"},footerInfo:{color:Je.subtext,fontSize:13},loadMore:{background:Je.blue,color:"#fff",borderRadius:12,border:"none",padding:"10px 14px",fontWeight:700,cursor:"pointer",boxShadow:"0 6px 16px rgba(67,97,238,0.35)",transition:jT},loadingRow:{padding:16,color:Je.subtext},emptyState:{padding:"24px 14px",display:"grid",justifyItems:"center",gap:8},emptyBadge:{background:Je.rowAlt,color:Je.blue,fontWeight:700,borderRadius:999,padding:"6px 10px"},emptyText:{margin:0,color:Je.subtext}},j4="/assets/icon-BGtNpaI9.png";function HT(i){const[t,n]=Qt.useState(()=>typeof window>"u"?!1:window.matchMedia(i).matches);return Qt.useEffect(()=>{if(typeof window>"u")return;const s=window.matchMedia(i);n(s.matches);const o=u=>n(u.matches);return s.addEventListener?.("change",o),s.addListener?.(o),()=>{s.removeEventListener?.("change",o),s.removeListener?.(o)}},[i]),t}const H4={blue:"#4361EE"},Ks="180ms ease";function F4({isAdmin:i,onLogout:t,onLoginToggle:n,onInstall:s,isInstalling:o=!1}){const u=HT("(max-width: 768px)"),f=HT("(max-width: 480px)"),[m,p]=Qt.useState(!1),[g,T]=Qt.useState(!1),A={headerWrapper:{...Hr.headerWrapper},stickyHeader:{...Hr.stickyHeader,padding:f?"0.6rem 0.75rem":u?"0.8rem 0.9rem":"1rem 1rem"},brand:{...Hr.brand,gap:f?"0.4rem":"0.5rem"},brandIcon:{...Hr.brandIcon,width:f?24:50,height:f?24:50,borderRadius:6},brandName:{...Hr.brandName,fontSize:f?"0.95rem":u?"1rem":"1.05rem",display:f?"none":"inline"},headerActions:{...Hr.headerActions,gap:f?"0.5rem":u?"0.65rem":"0.75rem"},ghostButton:{...Hr.ghostButton,padding:f?"0.4rem 0.75rem":"0.5rem 1rem",fontSize:f?"0.85rem":"0.9rem",background:m?"rgba(15,23,42,0.04)":"transparent",borderColor:m?"rgba(15,23,42,0.22)":"rgba(15,23,42,0.12)",transform:m?"translateY(-1px)":"none"},ctaButton:{...Hr.ctaButton,padding:f?"0.5rem 0.9rem":u?"0.55rem 1rem":"0.6rem 1.2rem",fontSize:f?"0.9rem":"0.95rem",boxShadow:g?"0 10px 22px rgba(67,97,238,0.45)":f?"0 4px 12px rgba(67,97,238,0.30)":"0 6px 16px rgba(67,97,238,0.35)",transform:g?"translateY(-1px)":"none",opacity:o?.8:1}};return nt.jsx("header",{style:A.headerWrapper,children:nt.jsxs("div",{style:A.stickyHeader,children:[nt.jsxs("div",{style:A.brand,children:[nt.jsx("img",{src:j4,alt:"HakbangQuest",style:A.brandIcon,loading:"lazy"}),nt.jsx("span",{style:A.brandName,children:"HakbangQuest"})]}),nt.jsxs("div",{style:A.headerActions,children:[i?nt.jsx("button",{style:A.ghostButton,onClick:t,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:"Logout"}):nt.jsx("button",{style:A.ghostButton,onClick:n,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:"Admin Login"}),nt.jsx("button",{style:A.ctaButton,onClick:s,disabled:o,"aria-busy":o,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:o?"Downloading…":"Install Android App"})]})]})})}const Hr={headerWrapper:{position:"sticky",top:0,zIndex:50},stickyHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(15,23,42,0.08)"},brand:{display:"flex",alignItems:"center",gap:"0.5rem"},brandIcon:{width:28,height:28,borderRadius:6},brandName:{fontSize:"1.05rem",fontWeight:800,color:"#0F172A",letterSpacing:.2},headerActions:{display:"flex",gap:"0.75rem",alignItems:"center"},ghostButton:{padding:"0.5rem 1rem",borderRadius:10,border:"1px solid rgba(15,23,42,0.12)",background:"transparent",color:"#0F172A",cursor:"pointer",transition:`transform ${Ks}, box-shadow ${Ks}, background ${Ks}, border-color ${Ks}`,fontSize:"0.9rem"},ctaButton:{padding:"0.6rem 1.2rem",borderRadius:12,background:H4.blue,color:"white",fontWeight:700,border:"none",cursor:"pointer",transition:`transform ${Ks}, box-shadow ${Ks}, opacity ${Ks}`,boxShadow:"0 6px 16px rgba(67,97,238,0.35)",fontSize:"0.95rem"}},G4="/assets/jogging-BYreokba.jpg",_i={blue:"#4361EE",blueHover:"#3a55d6",blueActive:"#3249b9",yellow:"#FFC107",pink:"#FF4D6D",textLight:"#E5E7EB",white:"#FFFFFF"},cA="180ms ease";if(typeof document<"u"&&!document.getElementById("hkq-animated-gradient-text")){const i=document.createElement("style");i.id="hkq-animated-gradient-text",i.textContent=`
    .hkq-gradient-text {
      background-image: linear-gradient(90deg, ${_i.blue}, ${_i.yellow}, ${_i.pink}, ${_i.blue});
      background-size: 300% 100%;
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
      animation: hkq-move-gradient 10s ease-in-out infinite;
      transition: opacity 0.6s ease;
    }

    @keyframes hkq-move-gradient {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @media (prefers-reduced-motion: reduce) {
      .hkq-gradient-text {
        animation: hkq-move-gradient 20s linear infinite;
      }
    }
  `,document.head.appendChild(i)}function $4({onGetApp:i,onShareSuggestion:t}){const[n,s]=H.useState("idle"),[o,u]=H.useState("idle"),f=H.useMemo(()=>["level up your journey.","push your limits.","celebrate progress."],[]),[m,p]=H.useState(0);H.useEffect(()=>{const k=setInterval(()=>{p(B=>(B+1)%f.length)},3500);return()=>clearInterval(k)},[f.length]);const g=H.useRef(null),T=H.useMemo(()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]);H.useEffect(()=>{if(T)return;const k=g.current;if(!k)return;let B=!1;const G=()=>{B||(B=!0,requestAnimationFrame(()=>{const P=window.scrollY||window.pageYOffset||0,Q=Math.max(-18,Math.min(18,P*.06));k.style.transform=`translateY(${Q}px) scale(1.03)`,k.style.willChange="transform",B=!1}))};return G(),window.addEventListener("scroll",G,{passive:!0}),()=>window.removeEventListener("scroll",G)},[T]);const A=K4(n),w=Q4(o);return nt.jsxs("section",{style:Fr.hero,"aria-label":"HakbangQuest introduction",children:[nt.jsx("div",{style:Fr.bg}),nt.jsxs("div",{style:Fr.content,children:[nt.jsxs("h1",{style:Fr.h1,children:["Track distance, build strength,"," ",nt.jsx("span",{className:"hkq-gradient-text",style:Fr.h1AccentAnimated,children:f[m]})]}),nt.jsx("p",{style:Fr.subtitle,children:"From running and cycling to push-ups and beyond—HakbangQuest keeps progress simple, minimal, and motivating."}),nt.jsxs("div",{style:Fr.actions,children:[nt.jsx("button",{style:A,onClick:i,onMouseEnter:()=>s("hover"),onMouseLeave:()=>s("idle"),onMouseDown:()=>s("active"),onMouseUp:()=>s("hover"),children:"Get the App"}),nt.jsx("button",{style:w,onClick:t,onMouseEnter:()=>u("hover"),onMouseLeave:()=>u("idle"),onMouseDown:()=>u("active"),onMouseUp:()=>u("hover"),children:"Share a suggestion →"})]})]}),nt.jsx("div",{ref:g,style:{...Fr.image,backgroundImage:`linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.55)), url(${G4})`},"aria-hidden":"true"})]})}function K4(i){const t={background:_i.blue,color:_i.white,padding:"12px 16px",borderRadius:12,border:"none",fontWeight:800,cursor:"pointer",transition:cA,boxShadow:"0 6px 16px rgba(67,97,238,0.35)"};return i==="hover"?{...t,background:_i.blueHover}:i==="active"?{...t,background:_i.blueActive}:t}function Q4(i){const t={background:"rgba(255,255,255,0.06)",color:_i.white,padding:"10px 12px",borderRadius:12,border:"1px solid rgba(229,231,235,0.25)",fontWeight:700,cursor:"pointer",transition:cA,backdropFilter:"blur(2px)"};return i==="hover"?{...t,background:"rgba(255,255,255,0.12)"}:i==="active"?{...t,background:"rgba(255,255,255,0.10)"}:t}const Fr={hero:{position:"relative",width:"100%",minHeight:"74vh",display:"grid",placeItems:"center",overflow:"hidden"},bg:{position:"absolute",inset:0,background:"radial-gradient(80% 60% at 50% 20%, rgba(67,97,238,0.12) 0%, rgba(255,193,7,0.08) 35%, rgba(0,0,0,0) 70%)",pointerEvents:"none"},image:{position:"absolute",inset:0,backgroundSize:"cover",backgroundPosition:"center",transform:"scale(1.03)"},content:{position:"relative",zIndex:1,maxWidth:880,padding:"48px 16px",textAlign:"center",color:"#fff",display:"grid",gap:16},h1:{margin:0,fontSize:"clamp(30px, 6vw, 56px)",fontWeight:900,lineHeight:1.1},h1AccentAnimated:{display:"inline-block"},subtitle:{margin:"8px auto 0",maxWidth:720,color:_i.textLight,fontSize:"clamp(15px, 2.4vw, 18px)",lineHeight:1.6},actions:{display:"flex",gap:12,alignItems:"center",justifyContent:"center",flexWrap:"wrap",marginTop:6}},Y4="/assets/build-xMcRrGuW.webp",X4="/assets/goals-7Ngstz0Q.webp",W4="/assets/community-I3kxMY8N.webp",jm=L4();function Hm(i){const[t,n]=H.useState(()=>typeof window>"u"?!1:window.matchMedia(i).matches);return H.useEffect(()=>{if(typeof window>"u")return;const s=window.matchMedia(i),o=u=>n(u.matches);return n(s.matches),s.addEventListener?.("change",o),s.addListener?.(o),()=>{s.removeEventListener?.("change",o),s.removeListener?.(o)}},[i]),t}const fn={blue:"#4361EE",yellow:"#FFC107",ink:"#0F172A",text:"#1F2937",subtext:"#6B7280",bg:"#F8FAFC",card:"#FFFFFF",divider:"rgba(15, 23, 42, 0.06)"},FT="16px",GT="0 8px 24px rgba(15, 23, 42, 0.08)",$T="180ms ease";function Z4(){const[i,t]=H.useState(!1),[n,s]=H.useState(!1),[o,u]=H.useState(""),[f,m]=H.useState(""),[p,g]=H.useState(!1),[T,A]=H.useState(!1),[w,k]=H.useState(""),[B,G]=H.useState(""),P=Hm("(max-width: 1024px)"),Q=Hm("(max-width: 768px)"),O=Hm("(max-width: 480px)");H.useEffect(()=>{try{const S=localStorage.getItem("adminLoggedIn");t(S==="true")}catch{}},[]),H.useEffect(()=>{try{localStorage.setItem("adminLoggedIn",i?"true":"false")}catch{}},[i]),H.useEffect(()=>{const S=wM(jm,I=>{I&&I.email==="admin@hakbang.com"?t(!0):t(!1)});return()=>S()},[]);const Y=async()=>{try{(await bM(jm,w,B)).user.email==="admin@hakbang.com"?(t(!0),s(!1),Ot.success("✅ Logged in as Admin!",{position:O?"top-center":"top-right"})):Ot.error("❌ Not authorized!",{position:O?"top-center":"top-right"})}catch(S){console.error("Login failed",S),Ot.error("❌ Invalid credentials!",{position:O?"top-center":"top-right"})}},ot=async()=>{try{await RM(jm),t(!1),Ot.info("👋 Logged out successfully.",{position:O?"top-center":"top-right"})}catch(S){console.error("Logout failed",S),Ot.error("❌ Logout failed.",{position:O?"top-center":"top-right"})}},lt=()=>{A(!0);const S="https://github.com/joviedichoso/HakbangQuestWeb/releases/download/v1.0.0/HakbangQuest.apk",I=document.createElement("a");I.href=S,I.download="HakbangQuest.apk",I.click(),setTimeout(()=>{A(!1),Ot.success("APK downloaded! Tap to open.",{position:O?"top-center":"top-right",autoClose:4e3,onClick:()=>window.open(S,"_blank"),className:"game-toast",bodyClassName:"game-toast-body",icon:"🎮"})},2e3)},yt=async()=>{if(!o.trim()){Ot.error("Please enter a name!",{position:O?"top-center":"top-right"});return}if(!f.trim()){Ot.error("Please write a suggestion!",{position:O?"top-center":"top-right"});return}g(!0);try{await nN(yp(vp,"suggestions"),{name:o,text:f,createdAt:rN(),user:{email:"guest",role:"user"}}),u(""),m(""),Ot.success("✅ Thanks for your suggestion!",{position:O?"top-center":"top-right"})}catch(S){console.error("Error adding suggestion:",S),Ot.error("❌ Failed to send suggestion.",{position:O?"top-center":"top-right"})}finally{g(!1)}},R={app:{background:fn.bg,color:fn.text,minHeight:"100dvh",lineHeight:1.45,fontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial'},main:{maxWidth:P?1e3:1120,margin:"0 auto",padding:O?"16px 12px 48px":Q?"20px 14px 56px":"24px 16px 64px"},cardsSection:{display:"grid",gridTemplateColumns:O?"repeat(1, minmax(0, 1fr))":Q?"repeat(2, minmax(0, 1fr))":"repeat(3, minmax(0, 1fr))",gap:O?12:16},card:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end",minHeight:220,borderRadius:FT,overflow:"hidden",boxShadow:GT,backgroundSize:"cover",backgroundPosition:"center",transform:"translateZ(0)"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(180deg, rgba(0,0,0,0.0) 40%, rgba(0,0,0,0.45) 75%, rgba(0,0,0,0.65) 100%)",pointerEvents:"none"},cardContent:{position:"relative",zIndex:1,padding:O?12:16,color:"#fff",display:"grid",gap:O?6:8,textShadow:"0 1px 2px rgba(0,0,0,0.35)"},cardTitle:{margin:0,fontSize:O?16:18,fontWeight:800,letterSpacing:.2},cardText:{margin:0,fontSize:O?13.5:14,opacity:.95},suggestSection:{marginTop:Q?28:32,display:"grid",gap:O?12:16},suggestHeader:{display:"flex",flexDirection:"column",gap:6},h2:{margin:0,fontSize:O?20:22,fontWeight:900,color:fn.ink},suggestSub:{margin:0,color:fn.subtext,fontSize:O?13.5:14},formCard:{background:fn.card,borderRadius:FT,boxShadow:GT,padding:O?12:16,display:"grid",gap:O?10:12},formRow:{display:"grid",gridTemplateColumns:"1fr",gap:O?10:12},inputGroup:{display:"grid",gap:O?6:8},label:{fontWeight:700,color:fn.ink,fontSize:O?13.5:14},input:{background:"#fff",border:`1px solid ${fn.divider}`,borderRadius:12,padding:O?"10px 11px":"12px 12px",outline:"none",transition:"180ms ease",fontSize:O?13.5:14},textarea:{minHeight:O?100:120,resize:"vertical"},formActions:{display:"flex",justifyContent:"flex-end"},adminSection:{marginTop:Q?32:40,display:"grid",gap:O?10:12},sectionHead:{display:"flex",alignItems:O?"flex-start":"center",justifyContent:"space-between",gap:8,flexDirection:O?"column":"row"},badge:{background:fn.yellow,color:"#111827",borderRadius:999,padding:O?"5px 9px":"6px 10px",fontWeight:800,fontSize:12,alignSelf:O?"flex-start":"center"},modalOverlay:{position:"fixed",inset:0,background:"rgba(15,23,42,0.42)",backdropFilter:"blur(3px)",display:"grid",placeItems:"center",padding:O?12:16,zIndex:60},modalCard:{width:"100%",maxWidth:O?360:440,background:"#fff",borderRadius:16,boxShadow:"0 8px 24px rgba(15, 23, 42, 0.08)",overflow:"hidden"},modalHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:O?12:16,borderBottom:`1px solid ${fn.divider}`},modalTitle:{margin:0,fontWeight:900,color:"#0F172A",fontSize:O?16:18},modalClose:{border:"none",background:"transparent",fontSize:O?22:24,lineHeight:1,cursor:"pointer",color:"#6B7280"},modalBody:{display:"grid",gap:O?10:12,padding:O?12:16},modalFooter:{display:"flex",justifyContent:"flex-end",padding:O?12:16,gap:8,borderTop:`1px solid ${fn.divider}`},primaryBtn:{padding:O?"10px 14px":"12px 16px",borderRadius:12,background:fn.blue,color:"#fff",fontWeight:800,border:"none",boxShadow:"0 6px 16px rgba(67,97,238,0.35)",cursor:"pointer",transition:$T},secondaryBtn:{padding:O?"8px 10px":"10px 12px",borderRadius:12,border:`1px solid ${fn.divider}`,background:"transparent",color:"#0F172A",fontWeight:600,cursor:"pointer",transition:$T}};return nt.jsxs("div",{style:R.app,children:[nt.jsx(F4,{isAdmin:i,onLogout:ot,onLoginToggle:()=>s(S=>!S),onInstall:lt,isInstalling:T}),nt.jsx($4,{onGetApp:lt,onShareSuggestion:()=>{const S=document.getElementById("suggest");S&&S.scrollIntoView({behavior:"smooth",block:"start"})}}),nt.jsxs("main",{style:R.main,children:[nt.jsxs("section",{style:R.cardsSection,children:[nt.jsxs("article",{style:{...R.card,backgroundImage:`url(${Y4})`},"aria-label":"Build Strength",children:[nt.jsx("div",{style:R.cardOverlay}),nt.jsxs("div",{style:R.cardContent,children:[nt.jsx("h3",{style:R.cardTitle,children:"Build Strength"}),nt.jsx("p",{style:R.cardText,children:"Push limits with structured sets, groups, and reps."}),nt.jsx("p",{style:R.cardText,children:"Track every rep and watch strength grow."})]})]}),nt.jsxs("article",{style:{...R.card,backgroundImage:`url(${X4})`},"aria-label":"Goals",children:[nt.jsx("div",{style:R.cardOverlay}),nt.jsxs("div",{style:R.cardContent,children:[nt.jsx("h3",{style:R.cardTitle,children:"Goals"}),nt.jsx("p",{style:R.cardText,children:"Set targets, keep streaks, and measure steady progress."})]})]}),nt.jsxs("article",{style:{...R.card,backgroundImage:`url(${W4})`},"aria-label":"Community",children:[nt.jsx("div",{style:R.cardOverlay}),nt.jsxs("div",{style:R.cardContent,children:[nt.jsx("h3",{style:R.cardTitle,children:"Community"}),nt.jsx("p",{style:R.cardText,children:"Share milestones and stay motivated together."})]})]})]}),nt.jsxs("section",{id:"suggest",style:R.suggestSection,children:[nt.jsxs("div",{style:R.suggestHeader,children:[nt.jsx("h2",{style:R.h2,children:"Suggest a feature"}),nt.jsx("p",{style:R.suggestSub,children:"Keep it short and actionable—every idea helps improve HakbangQuest."})]}),nt.jsxs("div",{style:R.formCard,children:[nt.jsx("div",{style:R.formRow,children:nt.jsxs("div",{style:R.inputGroup,children:[nt.jsx("label",{htmlFor:"name",style:R.label,children:"Name"}),nt.jsx("input",{id:"name",type:"text",placeholder:"Enter name",value:o,onChange:S=>u(S.target.value),style:R.input})]})}),nt.jsx("div",{style:R.formRow,children:nt.jsxs("div",{style:{...R.inputGroup,width:"100%"},children:[nt.jsx("label",{htmlFor:"suggestion",style:R.label,children:"Suggestion"}),nt.jsx("textarea",{id:"suggestion",placeholder:"Share your idea…",rows:4,value:f,onChange:S=>m(S.target.value),style:{...R.input,...R.textarea}})]})}),nt.jsx("div",{style:R.formActions,children:nt.jsx("button",{style:{...R.primaryBtn},onClick:yt,disabled:p,"aria-busy":p,children:p?"Submitting…":"Submit"})})]})]}),i&&nt.jsxs("section",{style:R.adminSection,children:[nt.jsxs("div",{style:R.sectionHead,children:[nt.jsx("h2",{style:R.h2,children:"Suggestions"}),nt.jsx("span",{style:R.badge,children:"Admin"})]}),nt.jsx(q4,{})]})]}),n&&!i&&nt.jsx("div",{role:"dialog","aria-modal":"true",style:R.modalOverlay,children:nt.jsxs("div",{style:R.modalCard,children:[nt.jsxs("div",{style:R.modalHeader,children:[nt.jsx("h3",{style:R.modalTitle,children:"Admin login"}),nt.jsx("button",{onClick:()=>s(!1),style:R.modalClose,children:"×"})]}),nt.jsxs("div",{style:R.modalBody,children:[nt.jsxs("div",{style:{display:"grid",gap:8},children:[nt.jsx("label",{htmlFor:"email",style:{fontWeight:700,color:"#0F172A"},children:"Email"}),nt.jsx("input",{id:"email",type:"email",placeholder:"admin@hakbang.com",value:w,onChange:S=>k(S.target.value),style:{background:"#fff",border:`1px solid ${fn.divider}`,borderRadius:12,padding:O?"10px 11px":"12px 12px",outline:"none",fontSize:O?13.5:14}})]}),nt.jsxs("div",{style:{display:"grid",gap:8},children:[nt.jsx("label",{htmlFor:"password",style:{fontWeight:700,color:"#0F172A"},children:"Password"}),nt.jsx("input",{id:"password",type:"password",placeholder:"••••••••",value:B,onChange:S=>G(S.target.value),style:{background:"#fff",border:`1px solid ${fn.divider}`,borderRadius:12,padding:O?"10px 11px":"12px 12px",outline:"none",fontSize:O?13.5:14}})]})]}),nt.jsxs("div",{style:R.modalFooter,children:[nt.jsx("button",{onClick:()=>s(!1),style:R.secondaryBtn,children:"Cancel"}),nt.jsx("button",{onClick:Y,style:R.primaryBtn,children:"Login"})]})]})}),nt.jsx(YR,{position:O?"top-center":"top-right"})]})}function J4(){return nt.jsx(sR,{children:nt.jsx(Pw,{children:nt.jsx(rE,{path:"/",element:nt.jsx(Z4,{})})})})}GS.createRoot(document.getElementById("root")).render(nt.jsx(H.StrictMode,{children:nt.jsx(J4,{})}));
